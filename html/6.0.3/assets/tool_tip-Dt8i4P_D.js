import{r as m,R as de}from"./index-ZCdkkhYt.js";import{a as T,aH as j,bG as R,e as H,bF as Z,c7 as ee,b as P,j as h,P as a}from"./storyArgs-AFjXh7XW.js";import{h as be,e as D}from"./icon-RvlT3YZ5.js";import{e as ye}from"./shadow-DBsugtKM.js";import{a as ve}from"./panel-DRTqr2vT.js";import{E as he,_ as me,f as Te}from"./observer-y2cdnWU0.js";import{g as ge,f as we}from"./portal-DiJ1n8WN.js";function O(t){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(t)}function N(t,e){return _e(t)||Pe(t,e)||Se(t,e)||Oe()}function Oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Se(t,e){if(t){if(typeof t=="string")return V(t,e);var o={}.toString.call(t).slice(8,-1);return o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set"?Array.from(t):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?V(t,e):void 0}}function V(t,e){(e==null||e>t.length)&&(e=t.length);for(var o=0,r=Array(e);o<e;o++)r[o]=t[o];return r}function Pe(t,e){var o=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(o!=null){var r,n,i,s,l=[],u=!0,c=!1;try{if(i=(o=o.call(t)).next,e===0){if(Object(o)!==o)return;u=!1}else for(;!(u=(r=i.call(o)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){c=!0,n=p}finally{try{if(!u&&o.return!=null&&(s=o.return(),Object(s)!==s))return}finally{if(c)throw n}}return l}}function _e(t){if(Array.isArray(t))return t}function je(t,e,o){return Object.defineProperty(t,"prototype",{writable:!1}),t}function Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ee(t,e,o){return e=z(e),ze(t,oe()?Reflect.construct(e,o||[],z(t).constructor):e.apply(t,o))}function ze(t,e){if(e&&(O(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ae(t)}function Ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oe=function(){return!!t})()}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z(t)}function $e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,r){return o.__proto__=r,o},M(t,e)}function E(t,e,o){return(e=Ce(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function Ce(t){var e=Be(t,"string");return O(e)=="symbol"?e:e+""}function Be(t,e){if(O(t)!="object"||!t)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var r=o.call(t,e);if(O(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ne=typeof window<"u"&&typeof window.ResizeObserver<"u",Me=(function(t){function e(){var o;Re(this,e);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return o=Ee(this,e,[].concat(n)),E(o,"name","EuiResizeObserver"),E(o,"state",{height:0,width:0}),E(o,"onResize",function(s){var l=N(s,1),u=l[0],c=u.borderBoxSize[0],p=c.inlineSize,d=c.blockSize;o.state.height===d&&o.state.width===p||(o.props.onResize({height:d,width:p}),o.setState({height:d,width:p}))}),E(o,"beginObserve",function(){var s=o.childNode;o.observer=te(s,o.onResize)}),o}return $e(e,t),je(e)})(he),te=function(e,o){var r;return Ne&&(r=new window.ResizeObserver(o),r.observe(e)),r},wo=function(e,o){var r=m.useState({width:0,height:0}),n=N(r,2),i=n[0],s=n[1],l=m.useRef(i),u=m.useCallback(function(c){var p=o!=="width";(l.current.width!==c.width||p)&&(l.current=c,s(c))},[o]);return m.useEffect(function(){if(e!=null){var c=te(e,function(p){var d=N(p,1),v=d[0],b=v.borderBoxSize[0],y=b.inlineSize,g=b.blockSize;u({width:y,height:g})});return function(){return c&&c.disconnect()}}else u({width:0,height:0})},[e,u]),i},K,U;function re(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ke=function(e){return e.components.tooltipBackground},Y=function(e){return e.components.tooltipBorder},G=function(e){return Z(K||(K=re([`
    0% {
        opacity: 0;
        transform: translateY(`,`);
    }

    100% {
        opacity: 1;
        transform: translateY(0);
    }
`])),e)},X=function(e){return Z(U||(U=re([`
    0% {
        opacity: 0;
        transform: translateX(`,`);
    }

    100% {
        opacity: 1;
        transform: translateX(0);
    }
`])),e)},ie=function(e){var o=e.euiTheme,r=e.highContrastMode,n=!r,i="".concat(o.animation.slow," ease-out 0s forwards"),s=o.size.m,l=me(e,s);return{euiToolTip:T(n?ye(e):""," border-radius:",o.border.radius.medium,";background-color:",ke(o),";color:",o.colors.ghost,";z-index:",o.levels.toast,";",j("max-width","256px")," overflow-wrap:break-word;padding:",o.size.s,";",H(e,"s")," position:absolute;",ve(e)," [class*='euiHorizontalRule']{background-color:",Y(o),";};label:euiToolTip;"),s:T(H(e,"xs"),";;label:s;"),top:T(R,"{animation:",G("-".concat(o.size.base))," ",i,";};label:top;"),bottom:T(R,"{animation:",G(o.size.base)," ",i,";};label:bottom;"),left:T(R,"{animation:",X("-".concat(o.size.base))," ",i,";};label:left;"),right:T(R,"{animation:",X(o.size.base)," ",i,";};label:right;"),euiToolTip__arrow:T(l._arrowStyles," background-color:inherit;;label:euiToolTip__arrow;"),arrowPositions:l.positions,euiToolTip__title:T("font-weight:",o.font.weight.bold,";",j("border-bottom","solid ".concat(o.border.width.thin," ").concat(Y(o)))," ",j("padding-bottom",o.size.xs)," ",j("margin-bottom",o.size.xs),";;label:euiToolTip__title;")}},xe={name:"fzilnk-inlineBlock",styles:"display:inline-block;label:inlineBlock;"},Fe={name:"14aceuy-block",styles:"display:block;label:block;"},Ie={name:"1s3i3p5-euiToolTipAnchor",styles:"*[disabled]{pointer-events:none;};label:euiToolTipAnchor;"},Le=function(){return{euiToolTipAnchor:Ie,block:Fe,inlineBlock:xe}},We=["children","title","className","positionToolTip","popoverRef","calculatedPosition"];function k(){return k=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)({}).hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},k.apply(null,arguments)}function qe(t,e){if(t==null)return{};var o,r,n=He(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],e.indexOf(o)>=0||{}.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function He(t,e){if(t==null)return{};var o={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;o[r]=t[r]}return o}var ne=function(e){var o=e.children,r=e.title,n=e.className,i=e.positionToolTip,s=e.popoverRef,l=e.calculatedPosition,u=qe(e,We),c=m.useRef(),p=ee(),d=ie(p),v=[d.euiToolTip,l&&d[l]],b=m.useCallback(function(){requestAnimationFrame(function(){c.current&&i()})},[i]),y=function(C){s&&s(C)};m.useEffect(function(){return document.body.classList.add("euiBody-hasPortalContent"),window.addEventListener("resize",b),function(){document.body.classList.remove("euiBody-hasPortalContent"),window.removeEventListener("resize",b)}},[b]);var g=P("euiToolTipPopover",n);return h("div",k({css:v,className:g,ref:y,"data-position":l},u),r&&h("div",{css:d.euiToolTip__title,className:"euiToolTip__title"},r),o)};ne.propTypes={className:a.string,"aria-label":a.string,"data-test-subj":a.string,css:a.any,positionToolTip:a.func.isRequired,children:a.node,title:a.node,popoverRef:a.func,calculatedPosition:a.oneOf(["top","right","bottom","left"])};var De=["onBlur","onFocus","onMouseOver","onMouseOut","id","className","children","display","isVisible"];function x(){return x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)({}).hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},x.apply(null,arguments)}function Ve(t,e){if(t==null)return{};var o,r,n=Ke(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],e.indexOf(o)>=0||{}.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function Ke(t,e){if(t==null)return{};var o={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;o[r]=t[r]}return o}var L=m.forwardRef(function(t,e){var o=t.onBlur,r=t.onFocus,n=t.onMouseOver,i=t.onMouseOut,s=t.id,l=t.className,u=t.children,c=t.display,p=t.isVisible,d=Ve(t,De),v=Le(),b=[v.euiToolTipAnchor,v[c]],y=P("euiToolTipAnchor",l);return h("span",x({ref:e,css:b},d,{className:y,onMouseOver:n,onMouseOut:i}),m.cloneElement(u,{onFocus:function(w){r(),u.props.onFocus&&u.props.onFocus(w)},onBlur:function(w){o(),u.props.onBlur&&u.props.onBlur(w)},"aria-describedby":p&&s?P(s,u.props["aria-describedby"]):u.props["aria-describedby"]}))});L.propTypes={onBlur:a.func.isRequired,onFocus:a.func.isRequired,isVisible:a.bool.isRequired};L.displayName="EuiToolTipAnchor";var Ue=["position"];function F(){return F=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)({}).hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},F.apply(null,arguments)}function Ye(t,e){if(t==null)return{};var o,r,n=Ge(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],e.indexOf(o)>=0||{}.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function Ge(t,e){if(t==null)return{};var o={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;o[r]=t[r]}return o}var se=function(e){var o=e.position,r=Ye(e,Ue),n=ee(),i=ie(n),s=[i.euiToolTip__arrow,i.arrowPositions[o]];return h("div",F({css:s},r))};se.propTypes={position:a.oneOf(["top","right","bottom","left"]).isRequired};function _(t){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(t)}function Xe(t,e,o){return Object.defineProperty(t,"prototype",{writable:!1}),t}function Je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(t,e,o){return(e=Qe(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function Qe(t){var e=Ze(t,"string");return _(e)=="symbol"?e:e+""}function Ze(t,e){if(_(t)!="object"||!t)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var r=o.call(t,e);if(_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eo=Xe(function t(){var e=this;Je(this,t),B(this,"toolTipsToHide",new Set),B(this,"registerTooltip",function(o){e.toolTipsToHide.forEach(function(r){return r()}),e.toolTipsToHide.clear(),e.toolTipsToHide.add(o)}),B(this,"deregisterToolTip",function(o){e.toolTipsToHide.delete(o)})}),J=new eo,oo=["children","className","anchorClassName","anchorProps","content","title","delay","display","repositionOnScroll","disableScreenReaderOutput"];function S(t){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(t)}function A(){return A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)({}).hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},A.apply(null,arguments)}function to(t,e){if(t==null)return{};var o,r,n=ro(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],e.indexOf(o)>=0||{}.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function ro(t,e){if(t==null)return{};var o={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;o[r]=t[r]}return o}function io(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function no(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,le(r.key),r)}}function so(t,e,o){return e&&no(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ao(t,e,o){return e=$(e),lo(t,ae()?Reflect.construct(e,o||[],$(t).constructor):e.apply(t,o))}function lo(t,e){if(e&&(S(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uo(t)}function uo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ae=function(){return!!t})()}function $(t){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(t)}function co(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,r){return o.__proto__=r,o},I(t,e)}function f(t,e,o){return(e=le(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function le(t){var e=po(t,"string");return S(e)=="symbol"?e:e+""}function po(t,e){if(S(t)!="object"||!t)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var r=o.call(t,e);if(S(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fo={regular:250,long:1250},Q={top:50,left:50,opacity:0,visibility:"hidden"},ue=(function(t){function e(){var o;io(this,e);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return o=ao(this,e,[].concat(n)),f(o,"_isMounted",!1),f(o,"anchor",null),f(o,"popover",null),f(o,"timeoutId",void 0),f(o,"state",{visible:!1,hasFocus:!1,calculatedPosition:o.props.position,toolTipStyles:Q,arrowStyles:void 0,id:o.props.id||be()()}),f(o,"clearAnimationTimeout",function(){o.timeoutId&&(o.timeoutId=clearTimeout(o.timeoutId))}),f(o,"testAnchor",function(){document.body.contains(o.anchor)===!1?o.hideToolTip():o.state.visible&&requestAnimationFrame(o.testAnchor)}),f(o,"setAnchorRef",function(s){return o.anchor=s}),f(o,"setPopoverRef",function(s){return o.popover=s}),f(o,"showToolTip",function(){o.timeoutId||(o.timeoutId=setTimeout(function(){D(function(){o.setState({visible:!0}),J.registerTooltip(o.hideToolTip)})},fo[o.props.delay]))}),f(o,"positionToolTip",function(){var s=o.props.position;if(!(!o.anchor||!o.popover)){var l=Te({anchor:o.anchor,popover:o.popover,position:s,offset:16,arrowConfig:{arrowWidth:12,arrowBuffer:4}}),u=l.position,c=l.left,p=l.top,d=l.arrow,v=document.documentElement.clientWidth||window.innerWidth,b=v/2<c,y={top:p,left:b?"auto":c,right:b?v-c-o.popover.offsetWidth:"auto"};o.setState({visible:!0,calculatedPosition:u,toolTipStyles:y,arrowStyles:d})}}),f(o,"hideToolTip",function(){o.clearAnimationTimeout(),D(function(){o._isMounted&&(o.setState({visible:!1,toolTipStyles:Q,arrowStyles:void 0}),J.deregisterToolTip(o.hideToolTip))})}),f(o,"onFocus",function(){o.setState({hasFocus:!0}),o.showToolTip()}),f(o,"onBlur",function(){o.setState({hasFocus:!1}),o.hideToolTip()}),f(o,"onEscapeKey",function(s){s.key===we&&(o.state.visible&&s.stopPropagation(),o.setState({hasFocus:!1}),o.hideToolTip())}),f(o,"onMouseOut",function(s){(o.anchor===s.relatedTarget||o.anchor!=null&&!o.anchor.contains(s.relatedTarget))&&(o.state.hasFocus||o.hideToolTip()),o.props.onMouseOut&&o.props.onMouseOut(s)}),o}return co(e,t),so(e,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.props.repositionOnScroll&&window.addEventListener("scroll",this.positionToolTip,!0)}},{key:"componentWillUnmount",value:function(){this.clearAnimationTimeout(),this._isMounted=!1,window.removeEventListener("scroll",this.positionToolTip,!0)}},{key:"componentDidUpdate",value:function(r,n){n.visible===!1&&this.state.visible===!0&&requestAnimationFrame(this.testAnchor),r.repositionOnScroll!==this.props.repositionOnScroll&&(this.props.repositionOnScroll?window.addEventListener("scroll",this.positionToolTip,!0):window.removeEventListener("scroll",this.positionToolTip,!0))}},{key:"render",value:function(){var r=this.props,n=r.children,i=r.className,s=r.anchorClassName,l=r.anchorProps,u=r.content,c=r.title;r.delay;var p=r.display;r.repositionOnScroll;var d=r.disableScreenReaderOutput,v=d===void 0?!1:d,b=to(r,oo),y=this.state,g=y.arrowStyles,w=y.id,C=y.toolTipStyles,W=y.visible,q=y.calculatedPosition,ce=P("euiToolTip",i),pe=P(s,l==null?void 0:l.className);return h(de.Fragment,null,h(L,A({},l,{ref:this.setAnchorRef,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onEscapeKey,onMouseOver:this.showToolTip,onMouseOut:this.onMouseOut,id:v?void 0:w,className:pe,display:p,isVisible:W}),n),W&&(u||c)&&h(ge,null,h(ne,A({className:ce,style:C,positionToolTip:this.positionToolTip,popoverRef:this.setPopoverRef,title:c,id:w,role:"tooltip",calculatedPosition:q},b),h(se,{style:g,className:"euiToolTip__arrow",position:q}),h(Me,{onResize:this.positionToolTip},function(fe){return h("div",{ref:fe},u)}))))}}])})(m.Component);f(ue,"defaultProps",{position:"top",delay:"regular",display:"inlineBlock",disableScreenReaderOutput:!1});ue.propTypes={anchorClassName:a.string,anchorProps:a.shape({className:a.string,"aria-label":a.string,"data-test-subj":a.string,css:a.any}),children:a.element.isRequired,className:a.string,content:a.node,display:a.any,delay:a.oneOf(["regular","long"]).isRequired,title:a.node,id:a.string,position:a.oneOf(["top","right","bottom","left"]).isRequired,repositionOnScroll:a.bool,disableScreenReaderOutput:a.bool,onMouseOut:a.func,"aria-label":a.string,"data-test-subj":a.string,css:a.any};export{ue as E,Me as a,wo as u};
