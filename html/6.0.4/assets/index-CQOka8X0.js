import{j as n,c as x}from"./index-ZCdkkhYt.js";import{Q as O,d as v,f as w,O as L,v as D,L as B,ap as W}from"./storyArgs-AFjXh7XW.js";import{u as h}from"./useQuery-BSQecOR7.js";import{E as N}from"./EntityDefinedByPresentation-CdAmfHlO.js";/* empty css                  */import{E as k}from"./text-dCu-lByA.js";function I(e){const{iri:t,api:o,parameter:d,entityType:s,ontologyId:f,useLegacy:r,className:p}=e,u=new L(o),{data:l,isLoading:E,isSuccess:T,isError:j,error:b}=h(["entityDefinedBy",o,d,s,t,f,r],async()=>{let a,g,c;if(r){const i=(await u.getEntityResponse(t,s,void 0,d,r))._embedded;a=i[Object.keys(i)[0]].filter(y=>y.is_defining_ontology).map(y=>y.ontology_name),g=s||W(Object.keys(i)[0]),c=i[Object.keys(i)[0]][0].label}else{const i=await u.getEntityObject(t,s,f,d,r);a=i.getDefinedBy().filter(y=>y!=i.getOntologyId()),g=s||i.getType(),c=i.getLabel()||""}return a=a.sort(),{ontoList:a,entityType:g,label:c}});return n.jsxs("div",{"data-testid":"entity-defined-by",children:[T&&l&&n.jsx(N,{ontolist:l.ontoList,entityType:l.entityType,label:l.label,iri:t,onNavigateToOntology:e.onNavigateToOntology,className:p}),E&&n.jsx(D,{}),j&&n.jsx(k,{children:B(b,"ontology list")})]})}function Q(e){const t=new O;return n.jsx(v,{colorMode:"light",globalStyles:!1,children:n.jsx(w,{client:t,children:n.jsx(I,{iri:e.iri,api:e.api,ontologyId:e.ontologyId,entityType:e.entityType,parameter:e.parameter,useLegacy:e.useLegacy,onNavigateToOntology:e.onNavigateToOntology})})})}const m=new WeakMap;function _(e,t){let o=m.get(t);o||(o=x.createRoot(t),m.set(t,o)),o.render(n.jsx(Q,{...e}))}window.ts4nfdiWidgets={...window.ts4nfdiWidgets,createEntityDefinedBy:_};export{_ as c};
