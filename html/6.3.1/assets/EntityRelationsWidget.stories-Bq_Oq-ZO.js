import{E as c}from"./globals-CvFyH82M.js";import{w as wt,x as Rt,y as Bt,C as Ft,G as Pt,p as _t,z as Wt,F as Ct,H as Lt,q as Jt,Q as qt,d as Xt,f as kt,O as $t,v as Qt,M as J,N as Vt,K as zt,J as B,I as p,R as T,U as q,W as Mt}from"./storyArgs-CHCFEocA.js";import{j as e,c as Ut}from"./index-Bl-ZOWkZ.js";import{u as X}from"./useQuery-eCAqdNjx.js";import{d as h,g as w,b as St,a as Gt}from"./StructureRendering-qPDeJiVl.js";import{E as Kt}from"./card-CSn88swr.js";import{E as F}from"./text-sZMdXYAe.js";import{E as y}from"./flex_item-CrO4-cAs.js";import{E as Ht}from"./title-DJ63GZCw.js";/* empty css                  */import"./icon_tip-DssVUXOY.js";import"./tool_tip-Dq6xpJC_.js";import"./icon-mJshcVLQ.js";import"./preload-helper-Dp1pzeXC.js";import"./shadow--Fm4bwzP.js";import"./panel-Dz_94pTP.js";import"./observer-CR8MQXwC.js";import"./portal-BdASisAI.js";import"./href_validator-Cs1fZ0vS.js";import"./_button-G5yDh9NY.js";import"./color_utils-B1RI_rmw.js";import"./button-DsRK99EW.js";import"./_button_display-BPybvRlU.js";import"./link.styles-BhOFnrbR.js";const{expect:Yt,waitFor:Zt,within:te}=__STORYBOOK_MODULE_TEST__,ee={...Jt,...Lt,...Ct,...Wt,..._t,...Pt,...Ft,...Bt,...Rt,...wt},oe={api:"https://semanticlookup.zbmed.de/api/",iri:"",ontologyId:"",entityType:"term",hasTitle:!0,showBadges:!0,parameter:"",onNavigateToEntity:"Console message",onNavigateToOntology:"Console message",onNavigateToDisambiguate:"Console message"},ie={api:c,entityType:"term",ontologyId:"agro",iri:"http://purl.obolibrary.org/obo/AGRO_00000002"},ae={api:c,entityType:"term",ontologyId:"go",iri:"http://purl.obolibrary.org/obo/BFO_0000004"},ne={api:c,entityType:"individual",ontologyId:"bco",iri:"http://purl.obolibrary.org/obo/IAO_0000120"},se={api:c,entityType:"term",ontologyId:"go",iri:"http://purl.obolibrary.org/obo/GO_0048021"},re={api:c,entityType:"term",ontologyId:"bfo",iri:"http://purl.obolibrary.org/obo/BFO_0000001"},ge={api:c,entityType:"property",ontologyId:"ro",iri:"http://purl.obolibrary.org/obo/RO_0000057"},le={api:c,entityType:"property",ontologyId:"ro",iri:"http://purl.obolibrary.org/obo/RO_0002170"},ce={api:c,entityType:"term",ontologyId:"iao",iri:"http://purl.obolibrary.org/obo/IAO_0000078"},de={api:c,entityType:"term",ontologyId:"aism",iri:"http://purl.obolibrary.org/obo/UBERON_0000006"},ye={api:c,entityType:"term",ontologyId:"foodon",iri:"http://purl.obolibrary.org/obo/FOODON_00003382"},me={api:c,entityType:"individual",ontologyId:"bco",iri:"http://purl.obolibrary.org/obo/IAO_0000120",onNavigateToEntity:"Navigate to EBI page",onNavigateToOntology:"Navigate to EBI page",onNavigateToDisambiguate:"Navigate to EBI page"},d=async({canvasElement:t})=>{const o=te(t);await Zt(async()=>{const i=o.getByTestId("entity-relations");await Yt(i).toBeInTheDocument()},{timeout:3e3})},ue=!0;function Te(t,o){const i=t.getRdfTypes().filter(a=>a!=="http://www.w3.org/2002/07/owl#NamedIndividual"&&!a.startsWith("http://www.w3.org/2000/01/rdf-schema#"));if(t.getRdfTypes().length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Type"}),h(t,t.getLinkedEntities(),i,o.showBadges,{onNavigateToEntity:o.onNavigateToEntity,onNavigateToOntology:o.onNavigateToOntology,onNavigateToDisambiguate:o.onNavigateToDisambiguate})]})}function ve(t,o){const i=t.getSameAs();if(i.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Same As"}),h(t,t.getLinkedEntities(),i,o.showBadges,{onNavigateToEntity:o.onNavigateToEntity,onNavigateToOntology:o.onNavigateToOntology,onNavigateToDisambiguate:o.onNavigateToDisambiguate})]})}function he(t,o){const i=t.getDifferentFrom();if(i.length>0)return e.jsxs(e.Fragment,{children:[e.jsx(Ht,{}),e.jsxs(y,{children:[e.jsx("b",{children:"Different from"}),h(t,t.getLinkedEntities(),i,o.showBadges,{onNavigateToEntity:o.onNavigateToEntity,onNavigateToOntology:o.onNavigateToOntology,onNavigateToDisambiguate:o.onNavigateToDisambiguate})]})]})}function pe(t,o){const i=t.getDisjointWith();if(i.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Disjoint with"}),h(t,t.getLinkedEntities(),i,o.showBadges,{onNavigateToEntity:o.onNavigateToEntity,onNavigateToOntology:o.onNavigateToOntology,onNavigateToDisambiguate:o.onNavigateToDisambiguate})]})}function Ee(t,o){const i=t.getInverseOf();if(i.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Inverse of"}),h(t,t.getLinkedEntities(),i,o.showBadges,{onNavigateToEntity:o.onNavigateToEntity,onNavigateToOntology:o.onNavigateToOntology,onNavigateToDisambiguate:o.onNavigateToDisambiguate})]})}function k(t,o,i){return q(t).slice().reverse().map((a,n)=>e.jsxs("span",{children:[St(o,o.getLinkedEntities(),a,i.showBadges,{onNavigateToEntity:i.onNavigateToEntity,onNavigateToOntology:i.onNavigateToOntology,onNavigateToDisambiguate:i.onNavigateToDisambiguate}),e.jsx(e.Fragment,{children:n<q(t).length-1&&e.jsx("span",{style:{fontSize:"medium",color:"gray"},children:" ◂ "})})]},a))}function Ne(t,o){const i=t.getPropertyChains().map(n=>n.value),a=i.filter(n=>Array.isArray(n)).length>0;if(i.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:a?"Property chains":"Property chain"}),a?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:i.map(n=>e.jsx("li",{children:k(n,t,o)},T()))}),e.jsx("p",{})]}):e.jsx("p",{children:k(i,t,o)})]})}function fe(t,o){const i=t.getEquivalents();if(i.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Equivalent to"}),i.length===1?e.jsx("p",{children:w(t,i[0],o.showBadges,{onNavigateToEntity:o.onNavigateToEntity,onNavigateToOntology:o.onNavigateToOntology,onNavigateToDisambiguate:o.onNavigateToDisambiguate})}):e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:i.map(a=>e.jsx("li",{children:w(t,a,o.showBadges,{onNavigateToEntity:o.onNavigateToEntity,onNavigateToOntology:o.onNavigateToOntology,onNavigateToDisambiguate:o.onNavigateToDisambiguate})},T()))}),e.jsx("p",{})]})]})}function be(t,o){const i=t.getSuperEntities();if(i.length>0)return e.jsxs(y,{children:[e.jsxs("b",{children:["Sub",t.getType()," of"]}),i.length===1?e.jsx("p",{children:w(t,i[0],o.showBadges,{onNavigateToEntity:o.onNavigateToEntity,onNavigateToOntology:o.onNavigateToOntology,onNavigateToDisambiguate:o.onNavigateToDisambiguate})}):e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:i.map(a=>e.jsx("li",{children:w(t,a,o.showBadges,{onNavigateToEntity:o.onNavigateToEntity,onNavigateToOntology:o.onNavigateToOntology,onNavigateToDisambiguate:o.onNavigateToDisambiguate})},T()))}),e.jsx("p",{})]})]})}function Se(t,o){const i=t.getRelatedFrom(),a=Array.from(new Set(i.map(n=>n.value.property)));if(i.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Related from"}),a.map(n=>{const R=t.getLinkedEntities().getLabelForIri(n);return e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("a",{style:{color:"black"},href:n,children:e.jsx("i",{children:R||n})})}),e.jsxs(e.Fragment,{children:[e.jsx("ul",{style:{marginBottom:0},children:i.filter(m=>m.value.property===n).map(m=>e.jsx("li",{children:St(t,t.getLinkedEntities(),m.value.value,o.showBadges,{onNavigateToEntity:o.onNavigateToEntity,onNavigateToOntology:o.onNavigateToOntology,onNavigateToDisambiguate:o.onNavigateToDisambiguate})},T()))}),e.jsx("p",{})]}),e.jsx("p",{})," "]},n.toString()+T())})]})}function xe(t,o,i){if(o.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Instances"}),e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:o.map(a=>e.jsx("li",{children:Gt(t,t.getLinkedEntities(),a.getIri(),i.showBadges,{onNavigateToEntity:i.onNavigateToEntity,onNavigateToOntology:i.onNavigateToOntology,onNavigateToDisambiguate:i.onNavigateToDisambiguate})},T()))}),e.jsx("p",{})]})]})}function je(t){const{api:o,iri:i,ontologyId:a,hasTitle:n=ue,showBadges:R,entityType:m,parameter:P,onNavigateToEntity:we,onNavigateToDisambiguate:Re,onNavigateToOntology:Be,..._}=t,W=new $t(o),{data:l,isLoading:xt,isSuccess:C,isError:jt}=X(["entityJson",o,i,a,m,P,R],async()=>W.getEntityObject(i,m,a,P,!1)),{data:L,isLoading:Ot,isSuccess:It}=X({queryKey:["instances",l],queryFn:async()=>l&&p(l)&&l.hasDirectChildren()?W.getClassInstances(l.getIri(),l.getOntologyId()):[],enabled:!!l});function At(s,Dt){const g=[];if(zt(s)){const r=Te(s,t);r!=null&&g.push(r);const u=ve(s,t);u!=null&&g.push(u);const v=he(s,t);v!=null&&g.push(v)}if(B(s)||p(s)){const r=pe(s,t);r!=null&&g.push(r)}if(B(s)){const r=Ee(s,t);r!=null&&g.push(r);const u=Ne(s,t);u!=null&&g.push(u)}if(B(s)||p(s)){const r=fe(s,t);r!=null&&g.push(r);const u=be(s,t);u!=null&&g.push(u);const v=Se(s,t);v!=null&&g.push(v)}if(p(s)){const r=xe(s,Dt,t);r!=null&&g.push(r)}return g.length>0?e.jsx(F,{..._,children:g}):e.jsx(F,{..._,children:"No relations available."})}return e.jsx(e.Fragment,{children:e.jsxs(Kt,{"data-testid":"entity-relations",title:n?(m?J(Vt(m)):C&&l?J(l.getType()):"")+" Relations":"",layout:"horizontal",children:[(xt||Ot)&&e.jsx(Qt,{size:"s"}),jt&&e.jsx(F,{children:"Requested resource not available"}),C&&It&&l!==void 0&&L!==void 0&&At(l,L)]})})}function Oe(t){const o=new qt;return e.jsx(Xt,{colorMode:"light",children:e.jsx(kt,{client:o,children:e.jsx(je,{api:t.api,iri:t.iri,ontologyId:t.ontologyId,hasTitle:t.hasTitle,entityType:t.entityType,parameter:t.parameter,showBadges:t.showBadges,onNavigateToEntity:t.onNavigateToEntity,onNavigateToOntology:t.onNavigateToOntology,onNavigateToDisambiguate:t.onNavigateToDisambiguate})})})}const $=new WeakMap;function Ie(t,o){let i=$.get(o);i||(i=Ut.createRoot(o),$.set(o,i)),i.render(e.jsx(Oe,{...t}))}window.ts4nfdiWidgets={...window.ts4nfdiWidgets,createEntityRelations:Ie};let Ae=0;function De(){return Ae++}const io={title:"Additional Entity Metadata/EntityRelationsWidget",tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:Mt}}},render:t=>{const o=De();return`
<div id="autocomplete_widget_container_${o}"></div>

<script type="text/javascript">
window['ts4nfdiWidgets'].createEntityRelations(
    {
        api:"${t.api}",
        entityType:"${t.entityType}",
        ontologyId:"${t.ontologyId}",
        iri:"${t.iri}",
        hasTitle:${t.hasTitle},
        showBadges:${t.showBadges},
        parameter:"${t.parameter}",
        onNavigateToEntity:${t.onNavigateToEntity},
        onNavigateToOntology:${t.onNavigateToOntology},
        onNavigateToDisambiguate:${t.onNavigateToDisambiguate}
    },
    document.querySelector('#autocomplete_widget_container_${o}')
)
<\/script>
        `},argTypes:ee,args:oe},E={args:ie,play:d},N={args:ae,play:d},f={args:ne,play:d},b={args:se,play:d},S={args:re,play:d},x={args:ge,play:d},j={args:le,play:d},O={args:ce,play:d},I={args:de,play:d},A={args:ye,play:d},D={args:me,play:d};var Q,V,z;E.parameters={...E.parameters,docs:{...(Q=E.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  args: SubEntityOfArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(z=(V=E.parameters)==null?void 0:V.docs)==null?void 0:z.source}}};var M,U,G;N.parameters={...N.parameters,docs:{...(M=N.parameters)==null?void 0:M.docs,source:{originalSource:`{
  args: AllValuesFromArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(G=(U=N.parameters)==null?void 0:U.docs)==null?void 0:G.source}}};var K,H,Y;f.parameters={...f.parameters,docs:{...(K=f.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: DifferentFromArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(Y=(H=f.parameters)==null?void 0:H.docs)==null?void 0:Y.source}}};var Z,tt,et;b.parameters={...b.parameters,docs:{...(Z=b.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  args: EquivalentToArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(et=(tt=b.parameters)==null?void 0:tt.docs)==null?void 0:et.source}}};var ot,it,at;S.parameters={...S.parameters,docs:{...(ot=S.parameters)==null?void 0:ot.docs,source:{originalSource:`{
  args: SingleValueArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(at=(it=S.parameters)==null?void 0:it.docs)==null?void 0:at.source}}};var nt,st,rt;x.parameters={...x.parameters,docs:{...(nt=x.parameters)==null?void 0:nt.docs,source:{originalSource:`{
  args: InverseOfArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(rt=(st=x.parameters)==null?void 0:st.docs)==null?void 0:rt.source}}};var gt,lt,ct;j.parameters={...j.parameters,docs:{...(gt=j.parameters)==null?void 0:gt.docs,source:{originalSource:`{
  args: PropertyChainArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(ct=(lt=j.parameters)==null?void 0:lt.docs)==null?void 0:ct.source}}};var dt,yt,mt;O.parameters={...O.parameters,docs:{...(dt=O.parameters)==null?void 0:dt.docs,source:{originalSource:`{
  args: InstancesArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(mt=(yt=O.parameters)==null?void 0:yt.docs)==null?void 0:mt.source}}};var ut,Tt,vt;I.parameters={...I.parameters,docs:{...(ut=I.parameters)==null?void 0:ut.docs,source:{originalSource:`{
  args: AxiomsArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(vt=(Tt=I.parameters)==null?void 0:Tt.docs)==null?void 0:vt.source}}};var ht,pt,Et;A.parameters={...A.parameters,docs:{...(ht=A.parameters)==null?void 0:ht.docs,source:{originalSource:`{
  args: QualifiedCardinalityArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(Et=(pt=A.parameters)==null?void 0:pt.docs)==null?void 0:Et.source}}};var Nt,ft,bt;D.parameters={...D.parameters,docs:{...(Nt=D.parameters)==null?void 0:Nt.docs,source:{originalSource:`{
  args: NavigateToEBIPageArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(bt=(ft=D.parameters)==null?void 0:ft.docs)==null?void 0:bt.source}}};const ao=["SubEntityOf","AllValuesFrom","DifferentFrom","EquivalentTo","SingleValue","InverseOf","PropertyChain","Instances","Axioms","QualifiedCardinality","NavigateToEBIPage"];export{N as AllValuesFrom,I as Axioms,f as DifferentFrom,b as EquivalentTo,O as Instances,x as InverseOf,D as NavigateToEBIPage,j as PropertyChain,A as QualifiedCardinality,S as SingleValue,E as SubEntityOf,ao as __namedExportsOrder,io as default};
