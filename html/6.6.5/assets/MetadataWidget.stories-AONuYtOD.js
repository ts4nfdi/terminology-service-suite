import{Z as fe,a as Oe,E as m}from"./globals-BQAFDkgj.js";import{Q as Se,d as Ie,f as Ne,O as Ee,w as Ae,L as Le,an as xe,ao as We,ap as _e,aq as u,ar as De,as as ve,at as je,au as we,B as Pe,p as Me,x as $e,o as Re,y as Be,G as Ve,F as ke,z as Ce,r as Fe,av as He}from"./storyArgs-CNybPO01.js";import{j as t,c as Ke}from"./index-Bl-ZOWkZ.js";import{I as Ue}from"./IriWidget-lIf-qIw5.js";import{u as Qe}from"./useQuery-CidFMm36.js";import{B as Ge}from"./BreadcrumbPresentation-CaSfZFOI.js";import"./OntologyBadge-QeaUz3Wa.js";import{T as qe,c as Ze}from"./index-DD33oN0F.js";import{D as Ye}from"./DescriptionWidget-CxHot34l.js";import{T as M,c as ze}from"./index-qUWpd3_9.js";import{E as Je}from"./EntityOntoListPresentation-D7fwcukH.js";import{E as Xe}from"./EntityDefinedByPresentation-FDk2dYoq.js";/* empty css                  *//* empty css                             */import{E as et}from"./text-CwK6QkCY.js";import{E as D}from"./flex_group-BrdRh0Rx.js";import{E as c}from"./flex_item-C3VJF-KW.js";import{E as tt}from"./link-WAamRTbf.js";import{c as at}from"./index-Br_T7XMc.js";import{c as rt}from"./index-BUYzSMmq.js";import{c as it}from"./index-mQ7NfiG9.js";import{c as ot}from"./index-BXaKpWHe.js";import{c as nt}from"./index-BsQW0Qzh.js";import{c as st}from"./index-C91c6Snj.js";import{c as ct}from"./index-Czkze7ys.js";import{c as mt}from"./index-BcljCPaf.js";/* empty css                        */import"./button_icon-Cgn0eKka.js";import"./_button-YkQj8NM0.js";import"./_button_display-DDARembv.js";import"./icon-CE3ukyQW.js";import"./preload-helper-Dp1pzeXC.js";import"./href_validator-Cs1fZ0vS.js";import"./badge-1S-NH-ch.js";import"./color_utils-C32VsIho.js";import"./inner_text-CwdQ_heh.js";import"./OntologyInfoWidget-B1WVW2T7.js";/* empty css                                 */import"./RenderedReified-CV3uGpnQ.js";import"./ExpandableOntologyBadgeList-DuPGoLJ-.js";import"./Tooltip-d9QE-lRt.js";import"./icon_tip-2iimNjg9.js";import"./tool_tip-Cu82uPao.js";import"./shadow-hpW_Gm8d.js";import"./panel-DxNbXEZo.js";import"./observer-BN-lkF8-.js";import"./portal-2EC9qipk.js";import"./card-DqobdMLg.js";import"./title-DtV0diMW.js";import"./button-Bc5sVomR.js";import"./GraphViewWidget-Bqft2Sfd.js";import"./ts4nfdiGraphStyle-DEBK50Pl.js";import"./popover-Df51L6yb.js";import"./focus_trap-Ck4UtKVR.js";import"./screen_reader_only-E1t5Dz4g.js";import"./button_empty-BCDH6Gc9.js";import"./TermDepictionWidget-oW83NFts.js";import"./model-viewer-C2wGp_8x.js";import"./OlsThingApi-C8tVE3H-.js";import"./emotion-css.esm-Be2XztkC.js";/* empty css                        *//* empty css                                *//* empty css                          *//* empty css                                   *//* empty css                                    */import"./link.styles-Cwoei_NV.js";import"./BreadcrumbWidget-Ce1pVOMS.js";/* empty css                               *//* empty css                             *//* empty css                              */function yt(e){const{iri:r,api:o,ontologyId:b,entityType:g,parameter:W,useLegacy:y,onNavigateToOntology:v,hierarchyTab:ye,crossRefTab:le,terminologyInfoTab:ge,graphViewTab:pe,termDepictionTab:de,altNamesTab:Te,termLink:j,className:w}=e,P=new Ee(o),s=w||"ts4nfdi-metadata-style",{data:_,isLoading:p,isSuccess:he,isError:be,error:d}=Qe(["metadata",o,W,g,r,b,y],async()=>{let a,T,l;if(y){const i=(await P.getEntityResponse(r,g,void 0,W,y))._embedded;a=We({_embedded:{[Object.keys(i)[0]]:_e(i[Object.keys(i)[0]],y,b)}}),T=i[Object.keys(i)[0]].map(h=>h.ontology_name),l=i[Object.keys(i)[0]].filter(h=>h.is_defining_ontology).map(h=>h.ontology_name)}else a=await P.getEntityObject(r,g,b,W,y),T=a.getAppearsIn(),l=a.getDefinedBy();return l=l.filter(i=>i!=a.getOntologyId()).sort(),T=T.filter(i=>i!=a.getOntologyId()&&!l.includes(i)).sort(),{entity:a,ontoList:T,definedBy:l}});function ue(a){return t.jsx("div",{className:s,"data-testid":"metadata",children:t.jsxs(D,{direction:"column",children:[t.jsx(c,{grow:!1,style:{maxWidth:600},children:j?t.jsx(tt,{href:j,target:"_blank",external:!1,children:t.jsx(M,{title:a.entity.getLabel(),className:`${s}-title`,isLoading:p,error:d})}):t.jsx(M,{title:a.entity.getLabel(),className:`${s}-title`,isLoading:p,error:d})}),t.jsx(c,{grow:!1,children:t.jsx("span",{children:t.jsx(Ge,{onNavigateToOntology:e.onNavigateToOntology,ontologyId:b||a.entity.getOntologyId(),shortForm:a.entity.getShortForm(),className:`${s}-breadcrumb`})})}),t.jsx(c,{children:t.jsx(D,{direction:"column",children:t.jsx(c,{children:t.jsx(D,{children:t.jsx(c,{grow:!1,style:{maxWidth:600},children:t.jsx(Ue,{iri:r,className:`${s}-iri`})})})})})}),t.jsx(c,{style:{maxWidth:600},children:t.jsx(Ye,{description:a.entity.getDescription(),className:`${s}-description`,isLoading:p,error:d})}),t.jsxs("div",{style:{margin:"0 12px 0",maxWidth:600},children:[t.jsx(Je,{iri:e.iri,label:a.entity.getLabel()||"",ontolist:a.ontoList,entityType:g||a.entity.getType(),onNavigateToOntology:v,className:`${s}-entity-onto-list`}),t.jsx(Xe,{iri:e.iri,ontolist:a.definedBy,label:a.entity.getLabel()||"",entityType:g||a.entity.getType(),onNavigateToOntology:v,className:`${s}-entity-defined-by`})]}),t.jsx(c,{children:t.jsx(qe,{data:a.entity,isLoading:p,error:d,iri:r,entityType:e.entityType,api:o,ontologyId:e.ontologyId?e.ontologyId:a.entity.getOntologyId(),useLegacy:y,hierarchyTab:ye,crossRefTab:le,terminologyInfoTab:ge,termDepictionTab:de,graphViewTab:pe,altNamesTab:Te,hierarchyPreferredRoots:e.hierarchyPreferredRoots,hierarchyShowSiblingsOnInit:e.hierarchyShowSiblingsOnInit,hierarchyKeepExpansionStates:e.hierarchyKeepExpansionStates,onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate,className:w,hierarchyWrap:e.hierarchyWrap})})]})})}return t.jsxs(t.Fragment,{children:[p&&t.jsx(Ae,{}),be&&t.jsx(et,{children:Le(d,"metadata")}),he&&_&&t.jsx(t.Fragment,{children:xe(_.entity)?ue(_):null})]})}function lt(e){const r=new Se;return t.jsx(Ie,{colorMode:"light",globalStyles:!1,children:t.jsx(Ne,{client:r,children:t.jsx(yt,{iri:e.iri,ontologyId:e.ontologyId,api:e.api,entityType:e.entityType,parameter:e.parameter,useLegacy:e.useLegacy,termLink:e.termLink,altNamesTab:e.altNamesTab,hierarchyTab:e.hierarchyTab,crossRefTab:e.crossRefTab,terminologyInfoTab:e.terminologyInfoTab,graphViewTab:e.graphViewTab,termDepictionTab:e.termDepictionTab,hierarchyPreferredRoots:e.hierarchyPreferredRoots,hierarchyShowSiblingsOnInit:e.hierarchyShowSiblingsOnInit,hierarchyKeepExpansionStates:e.hierarchyKeepExpansionStates,onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate,className:e.className})})})}const{expect:gt,waitFor:pt,within:dt}=__STORYBOOK_MODULE_TEST__,Tt={...Fe,...Ce,...ke,...Ve,...Be,...Re,...$e,...Me,...Pe,...we,...je,...ve,...De},ht={api:"",useLegacy:!0,ontologyId:"",entityType:"term",iri:"",termLink:"",altNamesTab:!0,hierarchyTab:!0,crossRefTab:!0,terminologyInfoTab:!0,graphViewTab:!0,termDepictionTab:!0,hierarchyPreferredRoots:u.PREFERRED_ROOTS,hierarchyKeepExpansionStates:u.KEEP_EXPANSION_STATES,hierarchyShowSiblingsOnInit:u.SHOW_SIBLINGS_ON_INIT,onNavigateToEntity:"Console message",onNavigateToOntology:"Console message",onNavigateToDisambiguate:"Console message",hierarchyWrap:u.WRAP,parameter:""},bt={api:fe,ontologyId:"uberon",iri:"http://purl.obolibrary.org/obo/UBERON_0001443",entityType:"term",hierarchyWrap:!0},ut={api:Oe,ontologyId:"ncit",iri:"http://purl.obolibrary.org/obo/NCIT_C2984",entityType:"term"},ft={api:m,ontologyId:"ncit",iri:"http://purl.obolibrary.org/obo/NCIT_C2984",entityType:"term"},Ot={api:m,ontologyId:"ncit",iri:"http://purl.obolibrary.org/obo/NCIT_C2984",entityType:"term",useLegacy:!1,parameter:""},St={api:m,iri:"http://purl.obolibrary.org/obo/IAO_0000631",entityType:"term",parameter:""},It={api:m,iri:"http://identifiers.org/uniprot/Q9VAM9",entityType:"term",parameter:""},Nt={api:m,iri:"http://purl.obolibrary.org/obo/HP_0000819",ontologyId:"efo"},Et={api:m,ontologyId:"uberon",iri:"http://purl.obolibrary.org/obo/UBERON_0001443",entityType:"term",useLegacy:!1,parameter:"",altNamesTab:!1,hierarchyTab:!1,crossRefTab:!1,terminologyInfoTab:!1,graphViewTab:!1,termDepictionTab:!1},At={api:m,iri:"http://purl.obolibrary.org/obo/HP_0000819",ontologyId:"efo",termLink:"https://www.ebi.ac.uk/ols4/ontologies/efo/classes/http%253A%252F%252Fpurl.obolibrary.org%252Fobo%252FHP_0000819"},n=async({canvasElement:e})=>{const r=dt(e);await pt(async()=>{const o=r.getByTestId("metadata");await gt(o).toBeInTheDocument()},{timeout:3e3})},$=new WeakMap;function Lt(e,r){let o=$.get(r);o||(o=Ke.createRoot(r),$.set(r,o)),o.render(t.jsx(lt,{...e}))}window.ts4nfdiWidgets={...window.ts4nfdiWidgets,createMetadata:Lt,createTab:Ze,createHierarchy:mt,createCrossRefTab:ct,createAlternativeNameTab:st,createBreadcrumb:at,createDescription:rt,createEntityDefinedBy:it,createEntityOntoList:ot,createIri:nt,createTitle:ze};let xt=0;function Wt(){return xt++}const Ua={title:"Entity Metadata/MetadataWidget",tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:He}}},render:e=>{const r=Wt();return`
<div id="metadata_widget_container_${r}"></div>

<script type="text/javascript">
window['ts4nfdiWidgets'].createMetadata(
    {
        iri:"${e.iri}",
        ontologyId:"${e.ontologyId}",
        api:"${e.api}",
        entityType:"${e.entityType}",
        parameter:"${e.parameter}",
        useLegacy:${e.useLegacy},
        termLink: "${e.termLink}",
        altNamesTab: ${e.altNamesTab},
        hierarchyTab: ${e.hierarchyTab},
        crossRefTab: ${e.crossRefTab},
        terminologyInfoTab: ${e.terminologyInfoTab},
        graphViewTab: ${e.graphViewTab},
        termDepictionTab: ${e.termDepictionTab},
        hierarchyPreferredRoots:${e.hierarchyPreferredRoots},
        hierarchyKeepExpansionStates:${e.hierarchyKeepExpansionStates},
        hierarchyShowSiblingsOnInit:${e.hierarchyShowSiblingsOnInit},
        hierarchyWrap:${e.hierarchyWrap},
        onNavigateToEntity:${e.onNavigateToEntity},
        onNavigateToOntology:${e.onNavigateToOntology},
        onNavigateToDisambiguate:${e.onNavigateToDisambiguate},
        className:"${e.className}"
    },
    document.querySelector('#metadata_widget_container_${r}')
)
<\/script>
        `},argTypes:Tt,args:ht},f={name:"Metadata Widget",args:bt,play:n},O={name:"OLS3",args:ut,play:n},S={name:"OLS4 V1",args:ft,play:n},I={name:"OLS4 V2",args:Ot,play:n},N={args:St,play:n},E={args:It,play:n},A={args:Nt,play:n},L={name:"Hidden Tabs",args:Et,play:n},x={args:At,play:n};var R,B,V;f.parameters={...f.parameters,docs:{...(R=f.parameters)==null?void 0:R.docs,source:{originalSource:`{
  name: "Metadata Widget",
  args: MetadataWidget1Args,
  play: commonMetadataWidgetPlay
}`,...(V=(B=f.parameters)==null?void 0:B.docs)==null?void 0:V.source}}};var k,C,F;O.parameters={...O.parameters,docs:{...(k=O.parameters)==null?void 0:k.docs,source:{originalSource:`{
  name: "OLS3",
  args: OLS3Args,
  play: commonMetadataWidgetPlay
}`,...(F=(C=O.parameters)==null?void 0:C.docs)==null?void 0:F.source}}};var H,K,U;S.parameters={...S.parameters,docs:{...(H=S.parameters)==null?void 0:H.docs,source:{originalSource:`{
  name: "OLS4 V1",
  args: OLS4V1Args,
  play: commonMetadataWidgetPlay
}`,...(U=(K=S.parameters)==null?void 0:K.docs)==null?void 0:U.source}}};var Q,G,q;I.parameters={...I.parameters,docs:{...(Q=I.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  name: "OLS4 V2",
  args: OLS4V2Args,
  play: commonMetadataWidgetPlay
}`,...(q=(G=I.parameters)==null?void 0:G.docs)==null?void 0:q.source}}};var Z,Y,z;N.parameters={...N.parameters,docs:{...(Z=N.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  args: SelectingDefiningOntologyArgs,
  play: commonMetadataWidgetPlay
}`,...(z=(Y=N.parameters)==null?void 0:Y.docs)==null?void 0:z.source}}};var J,X,ee;E.parameters={...E.parameters,docs:{...(J=E.parameters)==null?void 0:J.docs,source:{originalSource:`{
  args: DefiningOntologyUnavailableArgs,
  play: commonMetadataWidgetPlay
}`,...(ee=(X=E.parameters)==null?void 0:X.docs)==null?void 0:ee.source}}};var te,ae,re;A.parameters={...A.parameters,docs:{...(te=A.parameters)==null?void 0:te.docs,source:{originalSource:`{
  args: DefinedByAlsoAppearsInWidgetsArgs,
  play: commonMetadataWidgetPlay
}`,...(re=(ae=A.parameters)==null?void 0:ae.docs)==null?void 0:re.source}}};var ie,oe,ne;L.parameters={...L.parameters,docs:{...(ie=L.parameters)==null?void 0:ie.docs,source:{originalSource:`{
  name: "Hidden Tabs",
  args: HiddenTabsArgs,
  play: commonMetadataWidgetPlay
}`,...(ne=(oe=L.parameters)==null?void 0:oe.docs)==null?void 0:ne.source}}};var se,ce,me;x.parameters={...x.parameters,docs:{...(se=x.parameters)==null?void 0:se.docs,source:{originalSource:`{
  args: TermAsLinkArgs,
  play: commonMetadataWidgetPlay
}`,...(me=(ce=x.parameters)==null?void 0:ce.docs)==null?void 0:me.source}}};const Qa=["MetadataWidget1","OLS3","OLS4V1","OLS4V2","SelectingDefiningOntology","DefiningOntologyUnavailable","DefinedByAlsoAppearsInWidgets","HiddenTabs","TermAsLink"];export{A as DefinedByAlsoAppearsInWidgets,E as DefiningOntologyUnavailable,L as HiddenTabs,f as MetadataWidget1,O as OLS3,S as OLS4V1,I as OLS4V2,N as SelectingDefiningOntology,x as TermAsLink,Qa as __namedExportsOrder,Ua as default};
