import{Z as fe,a as Oe,E as m}from"./globals-CvFyH82M.js";import{am as u,an as Se,ao as Ie,ap as Ne,aq as Ee,B as Ae,p as Le,w as xe,x as _e,y as De,G as We,F as ve,z as je,q as we,Q as Pe,d as Me,f as Re,O as $e,v as Be,L as Ve,ar as ke,as as Ce,at as Fe,au as He}from"./storyArgs-CHCFEocA.js";import{j as t,c as Ke}from"./index-Bl-ZOWkZ.js";import{I as Ue}from"./IriWidget-Gme6T5Sn.js";import{u as Qe}from"./useQuery-eCAqdNjx.js";import{B as qe}from"./BreadcrumbPresentation-DwrmKx2r.js";import{T as Ge,c as Ze}from"./index-CO-H-M6t.js";import{D as Ye}from"./DescriptionWidget-DLtPTfS4.js";import{T as M,c as ze}from"./index-BQOAaguc.js";import{E as Je}from"./EntityOntoListPresentation-j9orHrGP.js";import{E as Xe}from"./EntityDefinedByPresentation-Bn1KXMqW.js";/* empty css                  *//* empty css                             */import{E as et}from"./text-sZMdXYAe.js";import{E as W}from"./flex_group-C5H80g1N.js";import{E as c}from"./flex_item-CrO4-cAs.js";import{E as tt}from"./link-D4NJrP-U.js";import{c as at}from"./index-CXYLHfeC.js";import{c as rt}from"./index-Du9dn1FL.js";import{c as it}from"./index-806RzzU7.js";import{c as ot}from"./index-DYEDJVrX.js";import{c as nt}from"./index-DaJqPoLM.js";import{c as st}from"./index-B9X1-rA1.js";import{c as ct}from"./index-CGKR6kBd.js";import{c as mt}from"./index-Bcz6Bg8M.js";import"./button_icon-CmFztPfA.js";import"./_button-G5yDh9NY.js";import"./_button_display-BPybvRlU.js";import"./icon-mJshcVLQ.js";import"./preload-helper-Dp1pzeXC.js";import"./href_validator-Cs1fZ0vS.js";import"./badge-CO-_BFVt.js";import"./color_utils-B1RI_rmw.js";import"./inner_text-CAZVznGy.js";import"./OntologyInfoWidget-DUYuMjEO.js";import"./StructureRendering-qPDeJiVl.js";import"./icon_tip-DssVUXOY.js";import"./tool_tip-Dq6xpJC_.js";import"./shadow--Fm4bwzP.js";import"./panel-Dz_94pTP.js";import"./observer-CR8MQXwC.js";import"./portal-BdASisAI.js";/* empty css                                 */import"./card-CSn88swr.js";import"./title-DJ63GZCw.js";import"./button-DsRK99EW.js";import"./GraphViewWidget-DzOvJxaU.js";import"./ts4nfdiGraphStyle-DEBK50Pl.js";import"./popover-DZH2o5cj.js";import"./focus_trap-DBTFqDXt.js";import"./screen_reader_only-CYLtbae6.js";import"./button_empty-pXmrAhlH.js";import"./TermDepictionWidget-Dk1BI5Yn.js";import"./model-viewer-F8CK7FoJ.js";import"./OlsThingApi-z5jKeIpk.js";/* empty css                        *//* empty css                          */import"./link.styles-BhOFnrbR.js";import"./BreadcrumbWidget-Cpp_IfU7.js";/* empty css                               *//* empty css                             *//* empty css                              */const{expect:yt,waitFor:lt,within:gt}=__STORYBOOK_MODULE_TEST__,dt={...we,...je,...ve,...We,...De,..._e,...xe,...Le,...Ae,...Ee,...Ne,...Ie,...Se},pt={api:"",useLegacy:!0,ontologyId:"",entityType:"term",iri:"",termLink:"",altNamesTab:!0,hierarchyTab:!0,crossRefTab:!0,terminologyInfoTab:!0,graphViewTab:!0,termDepictionTab:!0,hierarchyPreferredRoots:u.PREFERRED_ROOTS,hierarchyKeepExpansionStates:u.KEEP_EXPANSION_STATES,hierarchyShowSiblingsOnInit:u.SHOW_SIBLINGS_ON_INIT,onNavigateToEntity:"Console message",onNavigateToOntology:"Console message",onNavigateToDisambiguate:"Console message",hierarchyWrap:u.WRAP,parameter:""},Tt={api:fe,ontologyId:"uberon",iri:"http://purl.obolibrary.org/obo/UBERON_0001443",entityType:"term",hierarchyWrap:!0},ht={api:Oe,ontologyId:"ncit",iri:"http://purl.obolibrary.org/obo/NCIT_C2984",entityType:"term"},bt={api:m,ontologyId:"ncit",iri:"http://purl.obolibrary.org/obo/NCIT_C2984",entityType:"term"},ut={api:m,ontologyId:"ncit",iri:"http://purl.obolibrary.org/obo/NCIT_C2984",entityType:"term",useLegacy:!1,parameter:""},ft={api:m,iri:"http://purl.obolibrary.org/obo/IAO_0000631",entityType:"term",parameter:""},Ot={api:m,iri:"http://identifiers.org/uniprot/Q9VAM9",entityType:"term",parameter:""},St={api:m,iri:"http://purl.obolibrary.org/obo/HP_0000819",ontologyId:"efo"},It={api:m,ontologyId:"uberon",iri:"http://purl.obolibrary.org/obo/UBERON_0001443",entityType:"term",useLegacy:!1,parameter:"",altNamesTab:!1,hierarchyTab:!1,crossRefTab:!1,terminologyInfoTab:!1,graphViewTab:!1,termDepictionTab:!1},Nt={api:m,iri:"http://purl.obolibrary.org/obo/HP_0000819",ontologyId:"efo",termLink:"https://www.ebi.ac.uk/ols4/ontologies/efo/classes/http%253A%252F%252Fpurl.obolibrary.org%252Fobo%252FHP_0000819"},n=async({canvasElement:e})=>{const r=gt(e);await lt(async()=>{const o=r.getByTestId("metadata");await yt(o).toBeInTheDocument()},{timeout:3e3})};function Et(e){const{iri:r,api:o,ontologyId:b,entityType:g,parameter:_,useLegacy:y,onNavigateToOntology:v,hierarchyTab:ye,crossRefTab:le,terminologyInfoTab:ge,graphViewTab:de,termDepictionTab:pe,altNamesTab:Te,termLink:j,className:w}=e,P=new $e(o),s=w||"ts4nfdi-metadata-style",{data:D,isLoading:d,isSuccess:he,isError:be,error:p}=Qe(["metadata",o,_,g,r,b,y],async()=>{let a,T,l;if(y){const i=(await P.getEntityResponse(r,g,void 0,_,y))._embedded;a=Ce({_embedded:{[Object.keys(i)[0]]:Fe(i[Object.keys(i)[0]],y,b)}}),T=i[Object.keys(i)[0]].map(h=>h.ontology_name),l=i[Object.keys(i)[0]].filter(h=>h.is_defining_ontology).map(h=>h.ontology_name)}else a=await P.getEntityObject(r,g,b,_,y),T=a.getAppearsIn(),l=a.getDefinedBy();return l=l.filter(i=>i!=a.getOntologyId()).sort(),T=T.filter(i=>i!=a.getOntologyId()&&!l.includes(i)).sort(),{entity:a,ontoList:T,definedBy:l}});function ue(a){return t.jsx("div",{className:s,"data-testid":"metadata",children:t.jsxs(W,{direction:"column",children:[t.jsx(c,{grow:!1,style:{maxWidth:600},children:j?t.jsx(tt,{href:j,target:"_blank",external:!1,children:t.jsx(M,{title:a.entity.getLabel(),className:`${s}-title`,isLoading:d,error:p})}):t.jsx(M,{title:a.entity.getLabel(),className:`${s}-title`,isLoading:d,error:p})}),t.jsx(c,{grow:!1,children:t.jsx("span",{children:t.jsx(qe,{onNavigateToOntology:e.onNavigateToOntology,ontologyId:b||a.entity.getOntologyId(),shortForm:a.entity.getShortForm(),className:`${s}-breadcrumb`})})}),t.jsx(c,{children:t.jsx(W,{direction:"column",children:t.jsx(c,{children:t.jsx(W,{children:t.jsx(c,{grow:!1,style:{maxWidth:600},children:t.jsx(Ue,{iri:r,className:`${s}-iri`})})})})})}),t.jsx(c,{style:{maxWidth:600},children:t.jsx(Ye,{description:a.entity.getDescription(),className:`${s}-description`,isLoading:d,error:p})}),t.jsxs("div",{style:{margin:"0 12px 0",maxWidth:600},children:[t.jsx(Je,{iri:e.iri,label:a.entity.getLabel()||"",ontolist:a.ontoList,entityType:g||a.entity.getType(),onNavigateToOntology:v,className:`${s}-entity-onto-list`}),t.jsx(Xe,{iri:e.iri,ontolist:a.definedBy,label:a.entity.getLabel()||"",entityType:g||a.entity.getType(),onNavigateToOntology:v,className:`${s}-entity-defined-by`})]}),t.jsx(c,{children:t.jsx(Ge,{data:a.entity,isLoading:d,error:p,iri:r,entityType:e.entityType,api:o,ontologyId:e.ontologyId?e.ontologyId:a.entity.getOntologyId(),useLegacy:y,hierarchyTab:ye,crossRefTab:le,terminologyInfoTab:ge,termDepictionTab:pe,graphViewTab:de,altNamesTab:Te,hierarchyPreferredRoots:e.hierarchyPreferredRoots,hierarchyShowSiblingsOnInit:e.hierarchyShowSiblingsOnInit,hierarchyKeepExpansionStates:e.hierarchyKeepExpansionStates,onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate,className:w,hierarchyWrap:e.hierarchyWrap})})]})})}return t.jsxs(t.Fragment,{children:[d&&t.jsx(Be,{}),be&&t.jsx(et,{children:Ve(p,"metadata")}),he&&D&&t.jsx(t.Fragment,{children:ke(D.entity)?ue(D):null})]})}function At(e){const r=new Pe;return t.jsx(Me,{colorMode:"light",globalStyles:!1,children:t.jsx(Re,{client:r,children:t.jsx(Et,{iri:e.iri,ontologyId:e.ontologyId,api:e.api,entityType:e.entityType,parameter:e.parameter,useLegacy:e.useLegacy,termLink:e.termLink,altNamesTab:e.altNamesTab,hierarchyTab:e.hierarchyTab,crossRefTab:e.crossRefTab,terminologyInfoTab:e.terminologyInfoTab,graphViewTab:e.graphViewTab,termDepictionTab:e.termDepictionTab,hierarchyPreferredRoots:e.hierarchyPreferredRoots,hierarchyShowSiblingsOnInit:e.hierarchyShowSiblingsOnInit,hierarchyKeepExpansionStates:e.hierarchyKeepExpansionStates,onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate,className:e.className})})})}const R=new WeakMap;function Lt(e,r){let o=R.get(r);o||(o=Ke.createRoot(r),R.set(r,o)),o.render(t.jsx(At,{...e}))}window.ts4nfdiWidgets={...window.ts4nfdiWidgets,createMetadata:Lt,createTab:Ze,createHierarchy:mt,createCrossRefTab:ct,createAlternativeNameTab:st,createBreadcrumb:at,createDescription:rt,createEntityDefinedBy:it,createEntityOntoList:ot,createIri:nt,createTitle:ze};let xt=0;function _t(){return xt++}const $a={title:"Entity Metadata/MetadataWidget",tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:He}}},render:e=>{const r=_t();return`
<div id="metadata_widget_container_${r}"></div>

<script type="text/javascript">
window['ts4nfdiWidgets'].createMetadata(
    {
        iri:"${e.iri}",
        ontologyId:"${e.ontologyId}",
        api:"${e.api}",
        entityType:"${e.entityType}",
        parameter:"${e.parameter}",
        useLegacy:${e.useLegacy},
        termLink: "${e.termLink}",
        altNamesTab: ${e.altNamesTab},
        hierarchyTab: ${e.hierarchyTab},
        crossRefTab: ${e.crossRefTab},
        terminologyInfoTab: ${e.terminologyInfoTab},
        graphViewTab: ${e.graphViewTab},
        termDepictionTab: ${e.termDepictionTab},
        hierarchyPreferredRoots:${e.hierarchyPreferredRoots},
        hierarchyKeepExpansionStates:${e.hierarchyKeepExpansionStates},
        hierarchyShowSiblingsOnInit:${e.hierarchyShowSiblingsOnInit},
        onNavigateToEntity:${e.onNavigateToEntity},
        onNavigateToOntology:${e.onNavigateToOntology},
        onNavigateToDisambiguate:${e.onNavigateToDisambiguate},
        className:"${e.className}"
    },
    document.querySelector('#metadata_widget_container_${r}')
)
<\/script>
        `},argTypes:dt,args:pt},f={name:"Metadata Widget",args:Tt,play:n},O={name:"OLS3",args:ht,play:n},S={name:"OLS4 V1",args:bt,play:n},I={name:"OLS4 V2",args:ut,play:n},N={args:ft,play:n},E={args:Ot,play:n},A={args:St,play:n},L={name:"Hidden Tabs",args:It,play:n},x={args:Nt,play:n};var $,B,V;f.parameters={...f.parameters,docs:{...($=f.parameters)==null?void 0:$.docs,source:{originalSource:`{
  name: "Metadata Widget",
  args: MetadataWidget1Args,
  play: commonMetadataWidgetPlay
}`,...(V=(B=f.parameters)==null?void 0:B.docs)==null?void 0:V.source}}};var k,C,F;O.parameters={...O.parameters,docs:{...(k=O.parameters)==null?void 0:k.docs,source:{originalSource:`{
  name: "OLS3",
  args: OLS3Args,
  play: commonMetadataWidgetPlay
}`,...(F=(C=O.parameters)==null?void 0:C.docs)==null?void 0:F.source}}};var H,K,U;S.parameters={...S.parameters,docs:{...(H=S.parameters)==null?void 0:H.docs,source:{originalSource:`{
  name: "OLS4 V1",
  args: OLS4V1Args,
  play: commonMetadataWidgetPlay
}`,...(U=(K=S.parameters)==null?void 0:K.docs)==null?void 0:U.source}}};var Q,q,G;I.parameters={...I.parameters,docs:{...(Q=I.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  name: "OLS4 V2",
  args: OLS4V2Args,
  play: commonMetadataWidgetPlay
}`,...(G=(q=I.parameters)==null?void 0:q.docs)==null?void 0:G.source}}};var Z,Y,z;N.parameters={...N.parameters,docs:{...(Z=N.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  args: SelectingDefiningOntologyArgs,
  play: commonMetadataWidgetPlay
}`,...(z=(Y=N.parameters)==null?void 0:Y.docs)==null?void 0:z.source}}};var J,X,ee;E.parameters={...E.parameters,docs:{...(J=E.parameters)==null?void 0:J.docs,source:{originalSource:`{
  args: DefiningOntologyUnavailableArgs,
  play: commonMetadataWidgetPlay
}`,...(ee=(X=E.parameters)==null?void 0:X.docs)==null?void 0:ee.source}}};var te,ae,re;A.parameters={...A.parameters,docs:{...(te=A.parameters)==null?void 0:te.docs,source:{originalSource:`{
  args: DefinedByAlsoAppearsInWidgetsArgs,
  play: commonMetadataWidgetPlay
}`,...(re=(ae=A.parameters)==null?void 0:ae.docs)==null?void 0:re.source}}};var ie,oe,ne;L.parameters={...L.parameters,docs:{...(ie=L.parameters)==null?void 0:ie.docs,source:{originalSource:`{
  name: "Hidden Tabs",
  args: HiddenTabsArgs,
  play: commonMetadataWidgetPlay
}`,...(ne=(oe=L.parameters)==null?void 0:oe.docs)==null?void 0:ne.source}}};var se,ce,me;x.parameters={...x.parameters,docs:{...(se=x.parameters)==null?void 0:se.docs,source:{originalSource:`{
  args: TermAsLinkArgs,
  play: commonMetadataWidgetPlay
}`,...(me=(ce=x.parameters)==null?void 0:ce.docs)==null?void 0:me.source}}};const Ba=["MetadataWidget1","OLS3","OLS4V1","OLS4V2","SelectingDefiningOntology","DefiningOntologyUnavailable","DefinedByAlsoAppearsInWidgets","HiddenTabs","TermAsLink"];export{A as DefinedByAlsoAppearsInWidgets,E as DefiningOntologyUnavailable,L as HiddenTabs,f as MetadataWidget1,O as OLS3,S as OLS4V1,I as OLS4V2,N as SelectingDefiningOntology,x as TermAsLink,Ba as __namedExportsOrder,$a as default};
