import{Q as fe,k as Oe,l as Se,O as Ie,n as Ne,G as Ee,ah as Ae,ai as xe,aj as Le,ak as u,al as We,am as _e,an as De,ao as ve,v as je,p as we,q as Pe,o as Me,r as $e,y as Re,x as ke,u as Be,i as Ve,ap as Ce}from"./QueryClientProvider-Cv6DMAwY.js";import{Z as Fe,a as He,E as c}from"./globals-BQAFDkgj.js";import{c as Ke}from"./index-DMmwMmfI.js";import{c as Ue}from"./index-xUWEfGvJ.js";import{c as Qe}from"./index-DUtrUtcs.js";import{c as Ge}from"./index-Da4HODEa.js";import{c as qe}from"./index-DmJMDCgg.js";import{j as t,c as Ze}from"./client-hNkKQuBU.js";import{u as Ye}from"./useQuery-D80UYlTP.js";/* empty css                             *//* empty css                  */import{B as Je}from"./BreadcrumbPresentation-C0_-gNyl.js";import"./OntologyBadge-VEH00cI7.js";import{D as Xe}from"./DescriptionWidget-BsG61Bk-.js";import{E as ze}from"./EntityDefinedByPresentation-C-FIr9KQ.js";import{E as et}from"./EntityOntoListPresentation-DYxYseow.js";import{I as tt}from"./IriWidget-ChnKaBTJ.js";import{T as at,c as rt}from"./index-7Z0t_v0l.js";import{T as M,c as it}from"./index-Bi8AsoDW.js";import{E as ot}from"./text-Dj3fvmL0.js";import{E as D}from"./flex_group-O0zAkBzd.js";import{E as m}from"./flex_item-DWpVg6bz.js";import{E as nt}from"./link-CaYxHkJi.js";import{c as st}from"./index-e8teL0j7.js";import{c as mt}from"./index-BS3A02Nb.js";import{c as ct}from"./index-lfIAgyP_.js";import"./BreadcrumbWidget-IDimH7uT.js";import"./icon-Dbgqo2NT.js";import"./preload-helper-Dp1pzeXC.js";import"./badge-2Dv_I7s6.js";import"./href_validator-RjdtbSlK.js";import"./color_utils-CxG7mbtu.js";import"./_button-DR0DDSYL.js";import"./inner_text-Ooo0Ljl4.js";import"./OlsThingApi-CBuqiEEB.js";/* empty css                                *//* empty css                                    */import"./ExpandableOntologyBadgeList-RmK6elIf.js";/* empty css                                   *//* empty css                        */import"./button_icon-yDZ-49HD.js";import"./_button_display-mhn372ul.js";/* empty css                        */import"./GraphViewWidget-D9h0l7TH.js";import"./ts4nfdiGraphStyle-DEBK50Pl.js";import"./panel-pG-TvU-E.js";import"./shadow-BRsMk7Ev.js";import"./button-Dca_e4tp.js";import"./popover-CJy3jVu9.js";import"./focus_trap-dYxqw4EE.js";import"./screen_reader_only-DI2vJL1y.js";import"./portal-DMzDUsME.js";import"./popover_arrow.styles-CHH0a3nc.js";import"./observer-XTR45IxP.js";import"./button_empty-BPGL8DZd.js";import"./OntologyInfoWidget-JdhsT_4C.js";/* empty css                                 */import"./RenderedReified-7PtmsR14.js";import"./Tooltip-DIwxeMH_.js";import"./icon_tip-4Wg2s-aI.js";import"./tool_tip-4Qko17uz.js";import"./resize_observer-DE6M6jJJ.js";import"./card-CJIbcMT9.js";import"./title-BjAFpbjY.js";import"./TermDepictionWidget-DGHU31as.js";import"./model-viewer-C2wGp_8x.js";import"./emotion-css.esm-BKBvaUqZ.js";/* empty css                          */import"./link.styles-DeXSguuE.js";/* empty css                               *//* empty css                             */import"./health-6JZd6YNG.js";function yt(e){const{iri:r,api:o,ontologyId:b,entityType:g,parameter:W,useLegacy:y,onNavigateToOntology:v,hierarchyTab:ye,crossRefTab:le,terminologyInfoTab:ge,graphViewTab:pe,termDepictionTab:de,altNamesTab:Te,termLink:j,className:w}=e,P=new Ie(o),s=w||"ts4nfdi-metadata-style",{data:_,isLoading:p,isSuccess:he,isError:be,error:d}=Ye(["metadata",o,W,g,r,b,y],async()=>{let a,T,l;if(y){const i=(await P.getEntityResponse(r,g,void 0,W,y))._embedded;a=xe({_embedded:{[Object.keys(i)[0]]:Le(i[Object.keys(i)[0]],y,b)}}),T=i[Object.keys(i)[0]].map(h=>h.ontology_name),l=i[Object.keys(i)[0]].filter(h=>h.is_defining_ontology).map(h=>h.ontology_name)}else a=await P.getEntityObject(r,g,b,W,y),T=a.getAppearsIn(),l=a.getDefinedBy();return l=l.filter(i=>i!=a.getOntologyId()).sort(),T=T.filter(i=>i!=a.getOntologyId()&&!l.includes(i)).sort(),{entity:a,ontoList:T,definedBy:l}});function ue(a){return t.jsx("div",{className:s,"data-testid":"metadata",children:t.jsxs(D,{direction:"column",children:[t.jsx(m,{grow:!1,style:{maxWidth:600},children:j?t.jsx(nt,{href:j,target:"_blank",external:!1,children:t.jsx(M,{title:a.entity.getLabel(),className:`${s}-title`,isLoading:p,error:d})}):t.jsx(M,{title:a.entity.getLabel(),className:`${s}-title`,isLoading:p,error:d})}),t.jsx(m,{grow:!1,children:t.jsx("span",{children:t.jsx(Je,{onNavigateToOntology:e.onNavigateToOntology,ontologyId:b||a.entity.getOntologyId(),shortForm:a.entity.getShortForm(),className:`${s}-breadcrumb`})})}),t.jsx(m,{children:t.jsx(D,{direction:"column",children:t.jsx(m,{children:t.jsx(D,{children:t.jsx(m,{grow:!1,style:{maxWidth:600},children:t.jsx(tt,{iri:r,className:`${s}-iri`})})})})})}),t.jsx(m,{style:{maxWidth:600},children:t.jsx(Xe,{description:a.entity.getDescription(),className:`${s}-description`,isLoading:p,error:d})}),t.jsxs("div",{style:{margin:"0 12px 0",maxWidth:600},children:[t.jsx(et,{iri:e.iri,label:a.entity.getLabel()||"",ontolist:a.ontoList,entityType:g||a.entity.getType(),onNavigateToOntology:v,className:`${s}-entity-onto-list`}),t.jsx(ze,{iri:e.iri,ontolist:a.definedBy,label:a.entity.getLabel()||"",entityType:g||a.entity.getType(),onNavigateToOntology:v,className:`${s}-entity-defined-by`})]}),t.jsx(m,{children:t.jsx(at,{data:a.entity,isLoading:p,error:d,iri:r,entityType:e.entityType,api:o,ontologyId:e.ontologyId?e.ontologyId:a.entity.getOntologyId(),useLegacy:y,hierarchyTab:ye,crossRefTab:le,terminologyInfoTab:ge,termDepictionTab:de,graphViewTab:pe,altNamesTab:Te,hierarchyPreferredRoots:e.hierarchyPreferredRoots,hierarchyShowSiblingsOnInit:e.hierarchyShowSiblingsOnInit,hierarchyKeepExpansionStates:e.hierarchyKeepExpansionStates,onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate,className:w,hierarchyWrap:e.hierarchyWrap})})]})})}return t.jsxs(t.Fragment,{children:[p&&t.jsx(Ne,{}),be&&t.jsx(ot,{children:Ee(d,"metadata")}),he&&_&&t.jsx(t.Fragment,{children:Ae(_.entity)?ue(_):null})]})}function lt(e){const r=new fe;return t.jsx(Oe,{colorMode:"light",globalStyles:!1,children:t.jsx(Se,{client:r,children:t.jsx(yt,{iri:e.iri,ontologyId:e.ontologyId,api:e.api,entityType:e.entityType,parameter:e.parameter,useLegacy:e.useLegacy,termLink:e.termLink,altNamesTab:e.altNamesTab,hierarchyTab:e.hierarchyTab,crossRefTab:e.crossRefTab,terminologyInfoTab:e.terminologyInfoTab,graphViewTab:e.graphViewTab,termDepictionTab:e.termDepictionTab,hierarchyPreferredRoots:e.hierarchyPreferredRoots,hierarchyShowSiblingsOnInit:e.hierarchyShowSiblingsOnInit,hierarchyKeepExpansionStates:e.hierarchyKeepExpansionStates,onNavigateToEntity:e.onNavigateToEntity,onNavigateToOntology:e.onNavigateToOntology,onNavigateToDisambiguate:e.onNavigateToDisambiguate,className:e.className})})})}const{expect:gt,waitFor:pt,within:dt}=__STORYBOOK_MODULE_TEST__,Tt={...Ve,...Be,...ke,...Re,...$e,...Me,...Pe,...we,...je,...ve,...De,..._e,...We},ht={api:"",useLegacy:!0,ontologyId:"",entityType:"term",iri:"",termLink:"",altNamesTab:!0,hierarchyTab:!0,crossRefTab:!0,terminologyInfoTab:!0,graphViewTab:!0,termDepictionTab:!0,hierarchyPreferredRoots:u.PREFERRED_ROOTS,hierarchyKeepExpansionStates:u.KEEP_EXPANSION_STATES,hierarchyShowSiblingsOnInit:u.SHOW_SIBLINGS_ON_INIT,onNavigateToEntity:"Console message",onNavigateToOntology:"Console message",onNavigateToDisambiguate:"Console message",hierarchyWrap:u.WRAP,parameter:""},bt={api:Fe,ontologyId:"uberon",iri:"http://purl.obolibrary.org/obo/UBERON_0001443",entityType:"term",hierarchyWrap:!0},ut={api:He,ontologyId:"ncit",iri:"http://purl.obolibrary.org/obo/NCIT_C2984",entityType:"term"},ft={api:c,ontologyId:"ncit",iri:"http://purl.obolibrary.org/obo/NCIT_C2984",entityType:"term"},Ot={api:c,ontologyId:"ncit",iri:"http://purl.obolibrary.org/obo/NCIT_C2984",entityType:"term",useLegacy:!1,parameter:""},St={api:c,iri:"http://purl.obolibrary.org/obo/IAO_0000631",entityType:"term",parameter:""},It={api:c,iri:"http://identifiers.org/uniprot/Q9VAM9",entityType:"term",parameter:""},Nt={api:c,iri:"http://purl.obolibrary.org/obo/HP_0000819",ontologyId:"efo"},Et={api:c,ontologyId:"uberon",iri:"http://purl.obolibrary.org/obo/UBERON_0001443",entityType:"term",useLegacy:!1,parameter:"",altNamesTab:!1,hierarchyTab:!1,crossRefTab:!1,terminologyInfoTab:!1,graphViewTab:!1,termDepictionTab:!1},At={api:c,iri:"http://purl.obolibrary.org/obo/HP_0000819",ontologyId:"efo",termLink:"https://www.ebi.ac.uk/ols4/ontologies/efo/classes/http%253A%252F%252Fpurl.obolibrary.org%252Fobo%252FHP_0000819"},n=async({canvasElement:e})=>{const r=dt(e);await pt(async()=>{const o=r.getByTestId("metadata");await gt(o).toBeInTheDocument()},{timeout:3e3})},$=new WeakMap;function xt(e,r){let o=$.get(r);o||(o=Ze.createRoot(r),$.set(r,o)),o.render(t.jsx(lt,{...e}))}window.ts4nfdiWidgets={...window.ts4nfdiWidgets,createMetadata:xt,createTab:rt,createHierarchy:ct,createCrossRefTab:mt,createAlternativeNameTab:st,createBreadcrumb:Ke,createDescription:Ue,createEntityDefinedBy:Qe,createEntityOntoList:Ge,createIri:qe,createTitle:it};let Lt=0;function Wt(){return Lt++}const Ga={title:"Entity Metadata/MetadataWidget",tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:Ce}}},render:e=>{const r=Wt();return`
<div id="metadata_widget_container_${r}"></div>

<script type="text/javascript">
window['ts4nfdiWidgets'].createMetadata(
    {
        iri:"${e.iri}",
        ontologyId:"${e.ontologyId}",
        api:"${e.api}",
        entityType:"${e.entityType}",
        parameter:"${e.parameter}",
        useLegacy:${e.useLegacy},
        termLink: "${e.termLink}",
        altNamesTab: ${e.altNamesTab},
        hierarchyTab: ${e.hierarchyTab},
        crossRefTab: ${e.crossRefTab},
        terminologyInfoTab: ${e.terminologyInfoTab},
        graphViewTab: ${e.graphViewTab},
        termDepictionTab: ${e.termDepictionTab},
        hierarchyPreferredRoots:${e.hierarchyPreferredRoots},
        hierarchyKeepExpansionStates:${e.hierarchyKeepExpansionStates},
        hierarchyShowSiblingsOnInit:${e.hierarchyShowSiblingsOnInit},
        hierarchyWrap:${e.hierarchyWrap},
        onNavigateToEntity:${e.onNavigateToEntity},
        onNavigateToOntology:${e.onNavigateToOntology},
        onNavigateToDisambiguate:${e.onNavigateToDisambiguate},
        className:"${e.className}"
    },
    document.querySelector('#metadata_widget_container_${r}')
)
<\/script>
        `},argTypes:Tt,args:ht},f={name:"Metadata Widget",args:bt,play:n},O={name:"OLS3",args:ut,play:n},S={name:"OLS4 V1",args:ft,play:n},I={name:"OLS4 V2",args:Ot,play:n},N={args:St,play:n},E={args:It,play:n},A={args:Nt,play:n},x={name:"Hidden Tabs",args:Et,play:n},L={args:At,play:n};var R,k,B;f.parameters={...f.parameters,docs:{...(R=f.parameters)==null?void 0:R.docs,source:{originalSource:`{
  name: "Metadata Widget",
  args: MetadataWidget1Args,
  play: commonMetadataWidgetPlay
}`,...(B=(k=f.parameters)==null?void 0:k.docs)==null?void 0:B.source}}};var V,C,F;O.parameters={...O.parameters,docs:{...(V=O.parameters)==null?void 0:V.docs,source:{originalSource:`{
  name: "OLS3",
  args: OLS3Args,
  play: commonMetadataWidgetPlay
}`,...(F=(C=O.parameters)==null?void 0:C.docs)==null?void 0:F.source}}};var H,K,U;S.parameters={...S.parameters,docs:{...(H=S.parameters)==null?void 0:H.docs,source:{originalSource:`{
  name: "OLS4 V1",
  args: OLS4V1Args,
  play: commonMetadataWidgetPlay
}`,...(U=(K=S.parameters)==null?void 0:K.docs)==null?void 0:U.source}}};var Q,G,q;I.parameters={...I.parameters,docs:{...(Q=I.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  name: "OLS4 V2",
  args: OLS4V2Args,
  play: commonMetadataWidgetPlay
}`,...(q=(G=I.parameters)==null?void 0:G.docs)==null?void 0:q.source}}};var Z,Y,J;N.parameters={...N.parameters,docs:{...(Z=N.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  args: SelectingDefiningOntologyArgs,
  play: commonMetadataWidgetPlay
}`,...(J=(Y=N.parameters)==null?void 0:Y.docs)==null?void 0:J.source}}};var X,z,ee;E.parameters={...E.parameters,docs:{...(X=E.parameters)==null?void 0:X.docs,source:{originalSource:`{
  args: DefiningOntologyUnavailableArgs,
  play: commonMetadataWidgetPlay
}`,...(ee=(z=E.parameters)==null?void 0:z.docs)==null?void 0:ee.source}}};var te,ae,re;A.parameters={...A.parameters,docs:{...(te=A.parameters)==null?void 0:te.docs,source:{originalSource:`{
  args: DefinedByAlsoAppearsInWidgetsArgs,
  play: commonMetadataWidgetPlay
}`,...(re=(ae=A.parameters)==null?void 0:ae.docs)==null?void 0:re.source}}};var ie,oe,ne;x.parameters={...x.parameters,docs:{...(ie=x.parameters)==null?void 0:ie.docs,source:{originalSource:`{
  name: "Hidden Tabs",
  args: HiddenTabsArgs,
  play: commonMetadataWidgetPlay
}`,...(ne=(oe=x.parameters)==null?void 0:oe.docs)==null?void 0:ne.source}}};var se,me,ce;L.parameters={...L.parameters,docs:{...(se=L.parameters)==null?void 0:se.docs,source:{originalSource:`{
  args: TermAsLinkArgs,
  play: commonMetadataWidgetPlay
}`,...(ce=(me=L.parameters)==null?void 0:me.docs)==null?void 0:ce.source}}};const qa=["MetadataWidget1","OLS3","OLS4V1","OLS4V2","SelectingDefiningOntology","DefiningOntologyUnavailable","DefinedByAlsoAppearsInWidgets","HiddenTabs","TermAsLink"];export{A as DefinedByAlsoAppearsInWidgets,E as DefiningOntologyUnavailable,x as HiddenTabs,f as MetadataWidget1,O as OLS3,S as OLS4V1,I as OLS4V2,N as SelectingDefiningOntology,L as TermAsLink,qa as __namedExportsOrder,Ga as default};
