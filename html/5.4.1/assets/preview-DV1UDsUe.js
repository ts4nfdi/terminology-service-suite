import{I as A,v as R}from"./preview-errors-BMTnjymN.js";import"./index-DrFu-skq.js";const{addons:E}=__STORYBOOK_MODULE_PREVIEW_API__,{global:O}=__STORYBOOK_MODULE_GLOBAL__;var b="storybook/actions",I=`${b}/action-event`,T={depth:10,clearOnStoryChange:!0,limit:50},_=(t,r)=>{let e=Object.getPrototypeOf(t);return!e||r(e)?e:_(e,r)},w=t=>!!(typeof t=="object"&&t&&_(t,r=>/^Synthetic(?:Base)?Event$/.test(r.constructor.name))&&typeof t.persist=="function"),j=t=>{if(w(t)){let r=Object.create(t.constructor.prototype,Object.getOwnPropertyDescriptors(t));r.persist();let e=Object.getOwnPropertyDescriptor(r,"view"),n=e==null?void 0:e.value;return typeof n=="object"&&(n==null?void 0:n.constructor.name)==="Window"&&Object.defineProperty(r,"view",{...e,value:Object.create(n.constructor.prototype)}),r}return t},D=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?R():Date.now().toString(36)+Math.random().toString(36).substring(2);function l(t,r={}){let e={...T,...r},n=function(...i){var g,d;if(r.implicit){let f=(g="__STORYBOOK_PREVIEW__"in O?O.__STORYBOOK_PREVIEW__:void 0)==null?void 0:g.storyRenders.find(s=>s.phase==="playing"||s.phase==="rendering");if(f){let s=!((d=window==null?void 0:window.FEATURES)!=null&&d.disallowImplicitActionsInRenderV8),y=new A({phase:f.phase,name:t,deprecated:s});if(s)console.warn(y);else throw y}}let o=E.getChannel(),c=D(),a=5,p=i.map(j),m=i.length>1?p:p[0],h={id:c,count:0,data:{name:t,args:m},options:{...e,maxDepth:a+(e.depth||3),allowFunction:e.allowFunction||!1}};o.emit(I,h)};return n.isAction=!0,n}var u=(t,r)=>typeof r[t]>"u"&&!(t in r),S=t=>{let{initialArgs:r,argTypes:e,id:n,parameters:{actions:i}}=t;if(!i||i.disable||!i.argTypesRegex||!e)return{};let o=new RegExp(i.argTypesRegex);return Object.entries(e).filter(([c])=>!!o.test(c)).reduce((c,[a,p])=>(u(a,r)&&(c[a]=l(a,{implicit:!0,id:n})),c),{})},P=t=>{let{initialArgs:r,argTypes:e,parameters:{actions:n}}=t;return n!=null&&n.disable||!e?{}:Object.entries(e).filter(([i,o])=>!!o.action).reduce((i,[o,c])=>(u(o,r)&&(i[o]=l(typeof c.action=="string"?c.action:o)),i),{})},v=[P,S],F=t=>{let{args:r,parameters:{actions:e}}=t;e!=null&&e.disable||Object.entries(r).filter(([,n])=>typeof n=="function"&&"_isMockFunction"in n&&n._isMockFunction).forEach(([n,i])=>{let o=i.getMockImplementation();if((o==null?void 0:o._actionAttached)!==!0&&(o==null?void 0:o.isAction)!==!0){let c=(...a)=>(l(n)(...a),o==null?void 0:o(...a));c._actionAttached=!0,i.mockImplementation(c)}})},B=[F];export{v as argsEnhancers,B as loaders};
