"use client";import{O as Je,k as Ue,l as Ke,m as Ve,n as Ze,q as B,r as m,u as Ge,v as Qe,w as D,x as Ye,y as Xe,o as $e,z as et,B as tt,C as nt,E as it,p as rt,F as st,G as ot,H as at,i as ct,I as gt}from"./storyArgs-BXaqVnci.js";import{j as e}from"./iframe-D6RYroSH.js";import{u as lt}from"./useQuery-qHBwtFk-.js";import{R as I,E,C as h,T as z}from"./RenderedReified-CVIsPKi_.js";import{E as pt}from"./card-o-KKmi8z.js";import{E as yt}from"./loading_spinner-CVdmt-nO.js";import{E as H}from"./text-lkAphQ2Q.js";import{E as u}from"./flex_item-s4DeOxka.js";import{E as dt}from"./title-NZ55UdS3.js";import{Z as _,T as mt,E as j}from"./globals-BQAFDkgj.js";import"./preload-helper-Dp1pzeXC.js";import"./OntologyBadge-7ZQyUBhu.js";import"./badge-DvPDG36s.js";import"./href_validator-CE5FVb0h.js";import"./color_utils-C8_L2aGD.js";import"./_button-l74fIanX.js";import"./icon-Bsau_sfl.js";import"./inner_text-8epz5Jku.js";import"./ExpandableOntologyBadgeList-Bo1uhQLc.js";import"./icon_tip-CqSDLcDH.js";import"./tool_tip-DJU-hVZT.js";import"./shadow-DH1WdWVC.js";import"./panel-C1UeVyCI.js";import"./popover_arrow.styles-M9_umx9i.js";import"./portal-DrjZNU5m.js";import"./resize_observer-2MXYJlkX.js";import"./observer-CyIwzCln.js";import"./button-Dj_sIQGD.js";import"./_button_display-Bm-uJyGU.js";import"./link.styles-BqW3fVvj.js";const ht=!0;function be(f){const{api:F,iri:N,ontologyId:Te,hasTitle:ke=ht,entityType:R,parameter:Se,showBadges:i,useLegacy:Pe,...Ae}=f,r={onNavigateToEntity:f.onNavigateToEntity,onNavigateToOntology:f.onNavigateToOntology,onNavigateToDisambiguate:f.onNavigateToDisambiguate},we=new Je(F),{data:a,isLoading:Le,isSuccess:C,isError:ve,error:We}=lt(["entityInfo",f],()=>we.getEntityObject(N,R,Te,Se,Pe));function Oe(t){return e.jsx(e.Fragment,{children:t.getLabel()&&e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx("b",{children:"Label:"}),t.getLabel()]}),e.jsx(dt,{})]})})}function Fe(t){return e.jsx(e.Fragment,{children:t.getSynonyms().length>0&&e.jsx(e.Fragment,{children:e.jsxs(u,{children:[e.jsx("b",{children:"Synonyms:"}),t.getSynonyms().length>1?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:t.getSynonyms().map(n=>e.jsx("li",{id:n.value,children:e.jsx(I,{parentEntity:t,reified:n,showBadges:i,onNavigates:r})},m()))}),e.jsx("p",{})]}):e.jsx("p",{children:e.jsx(I,{parentEntity:t,reified:t.getSynonyms()[0],showBadges:i,onNavigates:r})})]})})})}function Ne(t){const n=t.getHasKey();return e.jsx(e.Fragment,{children:n.length>0&&e.jsx(e.Fragment,{children:e.jsxs(u,{children:[e.jsx("b",{children:"Has Key:"}),n.length>1?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:n.map(c=>e.jsx("li",{children:e.jsx(h,{parentEntity:t,linkedEntities:t.getLinkedEntities(),currentResponsePath:c,showBadges:i,onNavigates:r})},m()))}),e.jsx("p",{})]}):e.jsx("p",{children:e.jsx(h,{parentEntity:t,linkedEntities:t.getLinkedEntities(),currentResponsePath:n[0],showBadges:i,onNavigates:r})})]})})})}function Re(t){return e.jsx(e.Fragment,{children:t.getSubsets().length>0&&e.jsx(e.Fragment,{children:e.jsxs(u,{children:[e.jsx("b",{children:"In Subsets:"}),t.getSubsets().length>1?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:t.getSubsets().map(n=>e.jsx("li",{id:n+m(),children:e.jsx(E,{parentEntity:t,linkedEntities:t.getLinkedEntities(),iri:n,showBadges:i,onNavigates:r})},m()))}),e.jsx("p",{})]}):e.jsx("p",{children:e.jsx(E,{parentEntity:t,linkedEntities:t.getLinkedEntities(),iri:t.getSubsets()[0],showBadges:i,onNavigates:r})})]})})})}function Be(t){const n=t.getRdfTypes().map(c=>({"http://www.w3.org/2002/07/owl#FunctionalProperty":"Functional","http://www.w3.org/2002/07/owl#InverseFunctionalProperty":"Inverse Functional","http://www.w3.org/2002/07/owl#TransitiveProperty":"Transitive","http://www.w3.org/2002/07/owl#SymmetricProperty":"Symmetric","http://www.w3.org/2002/07/owl#AsymmetricProperty":"Asymmetric","http://www.w3.org/2002/07/owl#ReflexiveProperty":"Reflexive","http://www.w3.org/2002/07/owl#IrreflexiveProperty":"Irreflexive"})[c]).filter(c=>!!c);return e.jsx(e.Fragment,{children:n.length>0&&e.jsx(e.Fragment,{children:e.jsxs(u,{children:[e.jsx("b",{children:"Characteristics:"}),n.length>1?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:n.map(c=>e.jsx("li",{children:c},m())).sort()}),e.jsx("p",{})]}):e.jsx("p",{children:n[0]})]})})})}function De(t){const n=t.getDomain();return e.jsx(e.Fragment,{children:n.length>0&&e.jsx(e.Fragment,{children:e.jsxs(u,{children:[e.jsx("b",{children:"Domain:"}),n.length>1?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:n.map(c=>e.jsx("li",{children:e.jsx(h,{parentEntity:t,linkedEntities:t.getLinkedEntities(),currentResponsePath:c,showBadges:i,onNavigates:r})},m()))}),e.jsx("p",{})]}):e.jsx("p",{children:e.jsx(h,{parentEntity:t,linkedEntities:t.getLinkedEntities(),currentResponsePath:n[0],showBadges:i,onNavigates:r})})]})})})}function _e(t){const n=t.getRange();return e.jsx(e.Fragment,{children:n.length>0&&e.jsxs(u,{children:[e.jsx("b",{children:"Range:"}),n.length>1?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:n.map(c=>e.jsx("li",{children:e.jsx(h,{parentEntity:t,linkedEntities:t.getLinkedEntities(),currentResponsePath:c,showBadges:i,onNavigates:r})},m()))}),e.jsx("p",{})]}):e.jsx("p",{children:e.jsx(h,{parentEntity:t,linkedEntities:t.getLinkedEntities(),currentResponsePath:n[0],showBadges:i,onNavigates:r})})]})})}function Ce(t){const n=Object.keys(t.properties),c=n.filter(o=>o.startsWith("negativePropertyAssertion+")),q=n.filter(o=>{var g;return t.getLinkedEntities().get(o)&&((g=t.getLinkedEntities().get(o))==null?void 0:g.type.indexOf("objectProperty"))!==-1}),x=n.filter(o=>{var g;return t.getLinkedEntities().get(o)&&((g=t.getLinkedEntities().get(o))==null?void 0:g.type.indexOf("dataProperty"))!==-1}),d=[];for(const o of q){const g=D(t.properties[o]);for(const s of g)d.push(e.jsxs(e.Fragment,{children:[e.jsx(h,{parentEntity:t,linkedEntities:t.getLinkedEntities(),currentResponsePath:o,showBadges:i,onNavigates:r}),typeof s=="string"&&s.includes("http")?e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{style:{fontSize:"medium",color:"gray"},children:"▸"})," ",e.jsx(E,{parentEntity:t,linkedEntities:t.getLinkedEntities(),iri:s,showBadges:i,onNavigates:r})]}):e.jsx(z,{text:typeof s=="string"?s:typeof s=="object"&&!Array.isArray(s)&&s.value?JSON.stringify(s.value):JSON.stringify(s)})]}))}for(const o of x){const g=D(t.properties[o]);for(const s of g)d.push(e.jsxs(e.Fragment,{children:[e.jsx(h,{parentEntity:t,linkedEntities:t.getLinkedEntities(),currentResponsePath:o,showBadges:i,onNavigates:r}),e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{style:{fontSize:"medium",color:"gray"},children:"▸"})," ",e.jsx(E,{parentEntity:t,linkedEntities:t.getLinkedEntities(),iri:s,showBadges:i,onNavigates:r})]})]}))}for(const o of c){const g=o.slice(26),s=t.getLinkedEntities().get(g),ze=(s==null?void 0:s.type.indexOf("dataProperty"))!==-1,He=(s==null?void 0:s.type.indexOf("objectProperty"))!==-1,Me=D(t.properties[o]);for(const p of Me)d.push(e.jsxs(e.Fragment,{children:[e.jsx("i",{style:{color:"purple"},children:"not"})," ",e.jsx(h,{parentEntity:t,linkedEntities:t.getLinkedEntities(),currentResponsePath:g,showBadges:i,onNavigates:r}),typeof p=="string"&&p.includes("http")?e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{style:{fontSize:"medium",color:"gray"},children:"▸"})," ",e.jsx(E,{parentEntity:t,linkedEntities:t.getLinkedEntities(),iri:p,showBadges:i,onNavigates:r})]}):He?e.jsx(z,{text:typeof p=="string"?p:typeof p=="object"&&!Array.isArray(p)&&p.value?JSON.stringify(p.value):JSON.stringify(p)}):ze?e.jsxs(e.Fragment,{children:[" ",e.jsx("span",{style:{fontSize:"medium",color:"gray"},children:"▸"})," ",e.jsx(E,{parentEntity:t,linkedEntities:t.getLinkedEntities(),iri:p,showBadges:i,onNavigates:r})]}):e.jsx(e.Fragment,{})]}))}return e.jsx(e.Fragment,{children:d.length>0&&e.jsx(e.Fragment,{children:e.jsxs(u,{children:[e.jsx("b",{children:"Property assertions:"}),d.length>1?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:d.map(o=>e.jsx("li",{children:o},m())).sort()}),e.jsx("p",{})]}):e.jsx("p",{children:d[0]})]})})})}function qe(t){return e.jsx(e.Fragment,{children:t.getAnnotationPredicates().map((n,c,q)=>{const x=t.getAnnotationById(n);return x.length==0?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsxs(u,{grow:!1,children:[e.jsxs("b",{children:[B(Ge(Qe(t.getAnnotationTitleById(n)))),":"]}),x.length>1?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:x.map(d=>e.jsx("li",{id:d.value,children:e.jsx(I,{parentEntity:t,reified:d,showBadges:i,onNavigates:r})},m()))}),e.jsx("p",{})]}):e.jsx("p",{children:e.jsx(I,{parentEntity:t,reified:x[0],showBadges:i,onNavigates:r})},m())]},n)})})})}return e.jsx(e.Fragment,{children:e.jsxs(pt,{"data-testid":"entity-info",title:ke?(R?B(Ye(R)):C&&a?B(a.getType()):"")+" Information":"",layout:"horizontal",children:[Le&&e.jsx(yt,{size:"s"}),C&&a!==void 0&&e.jsxs(H,{...Ae,children:[Oe(a),Fe(a),Ue(a)&&e.jsxs(e.Fragment,{children:[Re(a),Ne(a)]}),Ke(a)&&e.jsxs(e.Fragment,{children:[Be(a),De(a),_e(a)]}),Ve(a)&&e.jsx(e.Fragment,{children:Ce(a)}),qe(a)]}),ve&&e.jsx(H,{children:Ze(We,"information")})]})})}be.__docgenInfo={description:"",methods:[],displayName:"EntityInfoWidget",props:{api:{required:!0,tsType:{name:"string"},description:"The API instance for the API call."},entityType:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof entityTypeNames)[number]"},description:"Sets the type of the entity whose information you want to fetch."},ontologyId:{required:!1,tsType:{name:"string"},description:"Select a specific ontology by id"},iri:{required:!0,tsType:{name:"string"},description:"Entity IRI whose information you want to fetch."},hasTitle:{required:!1,tsType:{name:"boolean"},description:"Show title, default is true"},showBadges:{required:!1,tsType:{name:"boolean"},description:"If true (default), entity badges linking to their defining ontologies are shown."},parameter:{required:!1,tsType:{name:"string"},description:""},useLegacy:{required:!1,tsType:{name:"boolean"},description:"Toggle between OLS3 (legacy) and OLS4 API versions."},onNavigateToEntity:{required:!1,tsType:{name:"union",raw:`| ((ontologyId: string, entityType?: string, entity?: EntityData) => void)
| string`,elements:[{name:"unknown"},{name:"string"}]},description:`This function is called every time an entity link is clicked
@param ontologyId obtains the ontologyId of the current ontology
@param entityType obtains the entityType of the clicked entity
@param entity.iri obtains the iri of the clicked entity
@param entity.label obtains the label of the clicked entity
@param entity.definedBy obtains the list of ontologies the clicked entity is defined in (only OLS)
@param entity.hasChildren obtains a boolean indicating whether the clicked entity has child entities
@param entity.numDescendants obtains the number of hierarchical descendants of the clicked entity (only OLS)
@param entity.parents obtains the list of parent entities of the clicked entity (only OLS, Skosmos)`},onNavigateToOntology:{required:!1,tsType:{name:"union",raw:`| ((ontologyId: string, entityType?: string, entity?: EntityData) => void)
| string`,elements:[{name:"unknown"},{name:"string"}]},description:`This function is called every time an entity link is clicked
@param ontologyId obtains the ontologyId of the clicked badge
@param entityType obtains the entityType of the clicked badge
@param entity.iri obtains the iri of the clicked badge (can be empty)
@param entity.label obtains the label of the clicked badge
@param entity.definedBy obtains the list of ontologies the clicked entity is defined in (only OLS)
@param entity.hasChildren obtains a boolean indicating whether the clicked entity has child entities
@param entity.numDescendants obtains the number of hierarchical descendants of the clicked entity (only OLS)
@param entity.parents obtains the list of parent entities of the clicked entity (only OLS, Skosmos)`},onNavigateToDisambiguate:{required:!1,tsType:{name:"union",raw:`| ((entityType: string, entity?: EntityData) => void)
| string`,elements:[{name:"unknown"},{name:"string"}]},description:`This function is called every time a disambiguation badge is clicked
@param entityType obtains the entityType of the clicked badge
@param entity.iri obtains the iri of the clicked badge (can be empty)
@param entity.label obtains the label of the clicked badge
@param entity.definedBy obtains the list of ontologies the clicked entity is defined in (only OLS)
@param entity.hasChildren obtains a boolean indicating whether the clicked entity has child entities
@param entity.numDescendants obtains the number of hierarchical descendants of the clicked entity (only OLS)
@param entity.parents obtains the list of parent entities of the clicked entity (only OLS, Skosmos)`}}};const{expect:ut,waitFor:ft,within:xt}=__STORYBOOK_MODULE_TEST__,Et={...ct,...at,...ot,...st,...rt,...it,...nt,...tt,...et,...$e,...Xe},l={api:_,iri:"",useLegacy:!0,ontologyId:"",entityType:"term",hasTitle:!0,showBadges:!0,parameter:"",onNavigateToEntity:"Console message",onNavigateToOntology:"Console message",onNavigateToDisambiguate:"Console message"},jt={...l,iri:"http://purl.obolibrary.org/obo/NCIT_C2985",entityType:"term",ontologyId:"ncit",hasTitle:!0},It={...l,iri:"http://www.w3.org/2004/02/skos/core#altLabel",entityType:"property",ontologyId:"mesh"},bt={...l,iri:"https://openenergyplatform.org/ontology/oeo/OEO_00020163",entityType:"individual",ontologyId:"oeo",api:mt},Tt={...l,api:j,useLegacy:!1,entityType:"class",iri:"http://purl.obolibrary.org/obo/UBERON_0000006",ontologyId:"uberon"},kt={...l,api:_,iri:"http://purl.obolibrary.org/obo/NCIT_C88403"},St={...l,api:j,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/NCIT_R89",entityType:"property",ontologyId:"ncit"},Pt={...l,api:j,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/RO_0002029",entityType:"property",ontologyId:"ro"},At={...l,api:j,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/ENVO_01001569",entityType:"individual",ontologyId:"envo"},wt={...l,api:j,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/MICRO_0001603",entityType:"property",ontologyId:"micro"},Lt={...l,api:j,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/ENVO_01001569",onNavigateToEntity:"Navigate to EBI page",onNavigateToOntology:"Navigate to EBI page",onNavigateToDisambiguate:"Navigate to EBI page",entityType:"individual",ontologyId:"envo"},vt={...l,api:_,useLegacy:!0,iri:"http://id.loc.gov/vocabulary/iso639-1/zh"},y=async({canvasElement:f})=>{const F=xt(f);await ft(async()=>{const N=F.getByTestId("entity-info");await ut(N).toBeInTheDocument()},{timeout:3e3})},cn={title:"Additional Entity Metadata/EntityInfoWidget",tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:gt}}},component:be,argTypes:Et,args:l},b={args:jt,play:y},T={args:It,play:y},k={args:bt,play:y},S={args:Tt,play:y},P={args:kt,play:y},A={args:St,play:y},w={args:Pt,play:y},L={args:At,play:y},v={args:wt,play:y},W={args:Lt,play:y},O={args:vt,play:y};var M,J,U;b.parameters={...b.parameters,docs:{...(M=b.parameters)==null?void 0:M.docs,source:{originalSource:`{
  args: TermInfoWidgetArgs,
  play: commonEntityInfoWidgetPlay
}`,...(U=(J=b.parameters)==null?void 0:J.docs)==null?void 0:U.source}}};var K,V,Z;T.parameters={...T.parameters,docs:{...(K=T.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: PropertyInfoWidgetArgs,
  play: commonEntityInfoWidgetPlay
}`,...(Z=(V=T.parameters)==null?void 0:V.docs)==null?void 0:Z.source}}};var G,Q,Y;k.parameters={...k.parameters,docs:{...(G=k.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: IndividualInfoWidgetArgs,
  play: commonEntityInfoWidgetPlay
}`,...(Y=(Q=k.parameters)==null?void 0:Q.docs)==null?void 0:Y.source}}};var X,$,ee;S.parameters={...S.parameters,docs:{...(X=S.parameters)==null?void 0:X.docs,source:{originalSource:`{
  args: InfoWidgetBadgesArgs,
  play: commonEntityInfoWidgetPlay
}`,...(ee=($=S.parameters)==null?void 0:$.docs)==null?void 0:ee.source}}};var te,ne,ie;P.parameters={...P.parameters,docs:{...(te=P.parameters)==null?void 0:te.docs,source:{originalSource:`{
  args: OptionalEntityTypeLegacyAPIArgs,
  play: commonEntityInfoWidgetPlay
}`,...(ie=(ne=P.parameters)==null?void 0:ne.docs)==null?void 0:ie.source}}};var re,se,oe;A.parameters={...A.parameters,docs:{...(re=A.parameters)==null?void 0:re.docs,source:{originalSource:`{
  args: InfoWidgetDomainArgs,
  play: commonEntityInfoWidgetPlay
}`,...(oe=(se=A.parameters)==null?void 0:se.docs)==null?void 0:oe.source}}};var ae,ce,ge;w.parameters={...w.parameters,docs:{...(ae=w.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  args: InfoWidgetRangeArgs,
  play: commonEntityInfoWidgetPlay
}`,...(ge=(ce=w.parameters)==null?void 0:ce.docs)==null?void 0:ge.source}}};var le,pe,ye;L.parameters={...L.parameters,docs:{...(le=L.parameters)==null?void 0:le.docs,source:{originalSource:`{
  args: InfoWidgetPropertyAssertionArgs,
  play: commonEntityInfoWidgetPlay
}`,...(ye=(pe=L.parameters)==null?void 0:pe.docs)==null?void 0:ye.source}}};var de,me,he;v.parameters={...v.parameters,docs:{...(de=v.parameters)==null?void 0:de.docs,source:{originalSource:`{
  args: InfoWidgetPropertyCharacteristicsArgs,
  play: commonEntityInfoWidgetPlay
}`,...(he=(me=v.parameters)==null?void 0:me.docs)==null?void 0:he.source}}};var ue,fe,xe;W.parameters={...W.parameters,docs:{...(ue=W.parameters)==null?void 0:ue.docs,source:{originalSource:`{
  args: NavigateToEBIPageArgs,
  play: commonEntityInfoWidgetPlay
}`,...(xe=(fe=W.parameters)==null?void 0:fe.docs)==null?void 0:xe.source}}};var Ee,je,Ie;O.parameters={...O.parameters,docs:{...(Ee=O.parameters)==null?void 0:Ee.docs,source:{originalSource:`{
  args: SkosmosImportArgs,
  play: commonEntityInfoWidgetPlay
}`,...(Ie=(je=O.parameters)==null?void 0:je.docs)==null?void 0:Ie.source}}};const gn=["TermInfoWidget","PropertyInfoWidget","IndividualInfoWidget","InfoWidgetBadges","OptionalEntityTypeLegacyAPI","InfoWidgetDomain","InfoWidgetRange","InfoWidgetPropertyAssertion","InfoWidgetPropertyCharacteristics","NavigateToEBIPage","SkosmosImport"];export{k as IndividualInfoWidget,S as InfoWidgetBadges,A as InfoWidgetDomain,L as InfoWidgetPropertyAssertion,v as InfoWidgetPropertyCharacteristics,w as InfoWidgetRange,W as NavigateToEBIPage,P as OptionalEntityTypeLegacyAPI,T as PropertyInfoWidget,O as SkosmosImport,b as TermInfoWidget,gn as __namedExportsOrder,cn as default};
