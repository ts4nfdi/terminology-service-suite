"use client";import{b as t}from"./iframe-PNlz-VpA.js";import{u as Ht}from"./useQuery-DJNlENI_.js";import{O as Mt,l as Ut,m as Xt,n as Kt,o as Vt,q as F,r as p,u as Zt,v as Gt,w as B,x as Qt,y as Yt,z as $t,B as te,C as ee,E as ne,F as oe,p as ie,G as ae,H as re,I as se,j as ge,J as ye}from"./widgetDescriptions-wzeR7e9S.js";import{g as N,a as f,b as h,c as q}from"./StructureRendering-ChnnLJvl.js";import{E as T}from"./flex_item-BrmJMUMv.js";import{E as ce}from"./title-BZM3IDwD.js";import{E as le}from"./card-CfAjokqN.js";import{E as de}from"./loading_spinner-BcLTIyBp.js";import{E as z}from"./text-x82zVtmH.js";import{Z as _,T as me,E as v}from"./globals-CvFyH82M.js";import"./preload-helper-Dp1pzeXC.js";/* empty css                  */import"./icon_tip-CU92SANV.js";import"./tool_tip-BHJpc4Fb.js";import"./icon-BvZXFxCz.js";import"./shadow-DbVRg5KY.js";import"./panel-DqvEEgTT.js";import"./observer-BesoJgzI.js";import"./portal-CIqPDJtc.js";import"./href_validator-BrIMIKMP.js";import"./_button-Bq6rb-mg.js";import"./color_utils-Cd7Nh0EZ.js";import"./button-BqOw5xMX.js";import"./_button_display-xdnljVY1.js";import"./link.styles-CG81dKAP.js";const pe=!0;function bt(n){const{api:k,iri:L,ontologyId:Et,hasTitle:It=pe,entityType:W,parameter:xt,showBadges:i,useLegacy:jt,onNavigateToEntity:De,onNavigateToOntology:Pe,onNavigateToDisambiguate:ke,...Ot}=n,St=new Mt(k),{data:s,isLoading:At,isSuccess:C,isError:wt,error:Dt}=Ht(["entityInfo",n],()=>St.getEntityObject(L,W,Et,xt,jt));function Pt(e){return t.jsx(t.Fragment,{children:e.getLabel()&&t.jsxs(t.Fragment,{children:[t.jsxs(T,{children:[t.jsx("b",{children:"Label:"}),e.getLabel()]}),t.jsx(ce,{})]})})}function kt(e){return t.jsx(t.Fragment,{children:e.getSynonyms().length>0&&t.jsx(t.Fragment,{children:t.jsxs(T,{children:[t.jsx("b",{children:"Synonyms:"}),e.getSynonyms().length>1?t.jsxs(t.Fragment,{children:[t.jsx("ul",{children:e.getSynonyms().map(o=>t.jsx("li",{id:o.value,children:N(e,o,i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})},p()))}),t.jsx("p",{})]}):t.jsx("p",{children:N(e,e.getSynonyms()[0],i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})})]})})})}function Lt(e){const o=e.getHasKey();return t.jsx(t.Fragment,{children:o.length>0&&t.jsx(t.Fragment,{children:t.jsxs(T,{children:[t.jsx("b",{children:"Has Key:"}),o.length>1?t.jsxs(t.Fragment,{children:[t.jsx("ul",{children:o.map(g=>t.jsx("li",{children:h(e,e.getLinkedEntities(),g,i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})},p()))}),t.jsx("p",{})]}):t.jsx("p",{children:h(e,e.getLinkedEntities(),o[0],i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})})]})})})}function Wt(e){return t.jsx(t.Fragment,{children:e.getSubsets().length>0&&t.jsx(t.Fragment,{children:t.jsxs(T,{children:[t.jsx("b",{children:"In Subsets:"}),e.getSubsets().length>1?t.jsxs(t.Fragment,{children:[t.jsx("ul",{children:e.getSubsets().map(o=>t.jsx("li",{id:o+p(),children:f(e,e.getLinkedEntities(),o,i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})},p()))}),t.jsx("p",{})]}):t.jsx("p",{children:f(e,e.getLinkedEntities(),e.getSubsets()[0],i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})})]})})})}function Ft(e){const o=e.getRdfTypes().map(g=>({"http://www.w3.org/2002/07/owl#FunctionalProperty":"Functional","http://www.w3.org/2002/07/owl#InverseFunctionalProperty":"Inverse Functional","http://www.w3.org/2002/07/owl#TransitiveProperty":"Transitive","http://www.w3.org/2002/07/owl#SymmetricProperty":"Symmetric","http://www.w3.org/2002/07/owl#AsymmetricProperty":"Asymmetric","http://www.w3.org/2002/07/owl#ReflexiveProperty":"Reflexive","http://www.w3.org/2002/07/owl#IrreflexiveProperty":"Irreflexive"})[g]).filter(g=>!!g);return t.jsx(t.Fragment,{children:o.length>0&&t.jsx(t.Fragment,{children:t.jsxs(T,{children:[t.jsx("b",{children:"Characteristics:"}),o.length>1?t.jsxs(t.Fragment,{children:[t.jsx("ul",{children:o.map(g=>t.jsx("li",{children:g},p())).sort()}),t.jsx("p",{})]}):t.jsx("p",{children:o[0]})]})})})}function Bt(e){const o=e.getDomain();return t.jsx(t.Fragment,{children:o.length>0&&t.jsx(t.Fragment,{children:t.jsxs(T,{children:[t.jsx("b",{children:"Domain:"}),o.length>1?t.jsxs(t.Fragment,{children:[t.jsx("ul",{children:o.map(g=>t.jsx("li",{children:h(e,e.getLinkedEntities(),g,i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})},p()))}),t.jsx("p",{})]}):t.jsx("p",{children:h(e,e.getLinkedEntities(),o[0],i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})})]})})})}function _t(e){const o=e.getRange();return t.jsx(t.Fragment,{children:o.length>0&&t.jsxs(T,{children:[t.jsx("b",{children:"Range:"}),o.length>1?t.jsxs(t.Fragment,{children:[t.jsx("ul",{children:o.map(g=>t.jsx("li",{children:h(e,e.getLinkedEntities(),g,i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})},p()))}),t.jsx("p",{})]}):t.jsx("p",{children:h(e,e.getLinkedEntities(),o[0],i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})})]})})}function Ct(e){const o=Object.keys(e.properties),g=o.filter(r=>r.startsWith("negativePropertyAssertion+")),R=o.filter(r=>{var y;return e.getLinkedEntities().get(r)&&((y=e.getLinkedEntities().get(r))==null?void 0:y.type.indexOf("objectProperty"))!==-1}),u=o.filter(r=>{var y;return e.getLinkedEntities().get(r)&&((y=e.getLinkedEntities().get(r))==null?void 0:y.type.indexOf("dataProperty"))!==-1}),m=[];for(const r of R){const y=B(e.properties[r]);for(const a of y)m.push(t.jsxs(t.Fragment,{children:[h(e,e.getLinkedEntities(),r,i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate}),typeof a=="string"&&a.includes("http")?t.jsxs(t.Fragment,{children:[" ",t.jsx("span",{style:{fontSize:"medium",color:"gray"},children:"▸"})," ",f(e,e.getLinkedEntities(),a,i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})]}):q(typeof a=="string"?a:typeof a=="object"&&!Array.isArray(a)&&a.value?JSON.stringify(a.value):JSON.stringify(a))]}))}for(const r of u){const y=B(e.properties[r]);for(const a of y)m.push(t.jsxs(t.Fragment,{children:[h(e,e.getLinkedEntities(),r,i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate}),t.jsxs(t.Fragment,{children:[" ",t.jsx("span",{style:{fontSize:"medium",color:"gray"},children:"▸"})," ",f(e,e.getLinkedEntities(),a,i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})]})]}))}for(const r of g){const y=r.slice(26),a=e.getLinkedEntities().get(y),qt=(a==null?void 0:a.type.indexOf("dataProperty"))!==-1,zt=(a==null?void 0:a.type.indexOf("objectProperty"))!==-1,Jt=B(e.properties[r]);for(const l of Jt)m.push(t.jsxs(t.Fragment,{children:[t.jsx("i",{style:{color:"purple"},children:"not"})," ",h(e,e.getLinkedEntities(),y,i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate}),typeof l=="string"&&l.includes("http")?t.jsxs(t.Fragment,{children:[" ",t.jsx("span",{style:{fontSize:"medium",color:"gray"},children:"▸"})," ",f(e,e.getLinkedEntities(),l,i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})]}):zt?q(typeof l=="string"?l:typeof l=="object"&&!Array.isArray(l)&&l.value?JSON.stringify(l.value):JSON.stringify(l)):qt?t.jsxs(t.Fragment,{children:[" ",t.jsx("span",{style:{fontSize:"medium",color:"gray"},children:"▸"})," ",f(e,e.getLinkedEntities(),l,i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})]}):t.jsx(t.Fragment,{})]}))}return t.jsx(t.Fragment,{children:m.length>0&&t.jsx(t.Fragment,{children:t.jsxs(T,{children:[t.jsx("b",{children:"Property assertions:"}),m.length>1?t.jsxs(t.Fragment,{children:[t.jsx("ul",{children:m.map(r=>t.jsx("li",{children:r},p())).sort()}),t.jsx("p",{})]}):t.jsx("p",{children:m[0]})]})})})}function Rt(e){return t.jsx(t.Fragment,{children:e.getAnnotationPredicates().map((o,g,R)=>{const u=e.getAnnotationById(o);return u.length==0?t.jsx(t.Fragment,{}):t.jsx(t.Fragment,{children:t.jsxs(T,{grow:!1,children:[t.jsxs("b",{children:[F(Zt(Gt(e.getAnnotationTitleById(o)))),":"]}),u.length>1?t.jsxs(t.Fragment,{children:[t.jsx("ul",{children:u.map(m=>t.jsx("li",{id:m.value,children:N(e,m,i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})},p()))}),t.jsx("p",{})]}):t.jsx("p",{children:N(e,u[0],i,{onNavigateToEntity:n.onNavigateToEntity,onNavigateToOntology:n.onNavigateToOntology,onNavigateToDisambiguate:n.onNavigateToDisambiguate})},p())]},o)})})})}return t.jsx(t.Fragment,{children:t.jsxs(le,{"data-testid":"entity-info",title:It?(W?F(Qt(W)):C&&s?F(s.getType()):"")+" Information":"",layout:"horizontal",children:[At&&t.jsx(de,{size:"s"}),C&&s!==void 0&&t.jsxs(z,{...Ot,children:[Pt(s),kt(s),Ut(s)&&t.jsxs(t.Fragment,{children:[Wt(s),Lt(s)]}),Xt(s)&&t.jsxs(t.Fragment,{children:[Ft(s),Bt(s),_t(s)]}),Kt(s)&&t.jsx(t.Fragment,{children:Ct(s)}),Rt(s)]}),wt&&t.jsx(z,{children:Vt(Dt,"information")})]})})}bt.__docgenInfo={description:"",methods:[],displayName:"EntityInfoWidget",props:{api:{required:!0,tsType:{name:"string"},description:"The API instance for the API call."},entityType:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof entityTypeNames)[number]"},description:"Sets the type of the entity whose information you want to fetch."},ontologyId:{required:!1,tsType:{name:"string"},description:"Select a specific ontology by id"},iri:{required:!0,tsType:{name:"string"},description:"Entity IRI whose information you want to fetch."},hasTitle:{required:!1,tsType:{name:"boolean"},description:"Show title, default is true"},showBadges:{required:!1,tsType:{name:"boolean"},description:"If true (default), entity badges linking to their defining ontologies are shown."},parameter:{required:!1,tsType:{name:"string"},description:""},useLegacy:{required:!1,tsType:{name:"boolean"},description:"Toggle between OLS3 (legacy) and OLS4 API versions."},onNavigateToEntity:{required:!1,tsType:{name:"union",raw:`| ((ontologyId: string, entityType?: string, entity?: EntityData) => void)
| string`,elements:[{name:"unknown"},{name:"string"}]},description:`This function is called every time an entity link is clicked
@param ontologyId obtains the ontologyId of the current ontology
@param entityType obtains the entityType of the clicked entity
@param entity.iri obtains the iri of the clicked entity
@param entity.label obtains the label of the clicked entity
@param entity.definedBy obtains the list of ontologies the clicked entity is defined in (only OLS)
@param entity.hasChildren obtains a boolean indicating whether the clicked entity has child entities
@param entity.numDescendants obtains the number of hierarchical descendants of the clicked entity (only OLS)
@param entity.parents obtains the list of parent entities of the clicked entity (only OLS, Skosmos)`},onNavigateToOntology:{required:!1,tsType:{name:"union",raw:`| ((ontologyId: string, entityType?: string, entity?: EntityData) => void)
| string`,elements:[{name:"unknown"},{name:"string"}]},description:`This function is called every time an entity link is clicked
@param ontologyId obtains the ontologyId of the clicked badge
@param entityType obtains the entityType of the clicked badge
@param entity.iri obtains the iri of the clicked badge (can be empty)
@param entity.label obtains the label of the clicked badge
@param entity.definedBy obtains the list of ontologies the clicked entity is defined in (only OLS)
@param entity.hasChildren obtains a boolean indicating whether the clicked entity has child entities
@param entity.numDescendants obtains the number of hierarchical descendants of the clicked entity (only OLS)
@param entity.parents obtains the list of parent entities of the clicked entity (only OLS, Skosmos)`},onNavigateToDisambiguate:{required:!1,tsType:{name:"union",raw:`| ((entityType: string, entity?: EntityData) => void)
| string`,elements:[{name:"unknown"},{name:"string"}]},description:`This function is called every time a disambiguation badge is clicked
@param entityType obtains the entityType of the clicked badge
@param entity.iri obtains the iri of the clicked badge (can be empty)
@param entity.label obtains the label of the clicked badge
@param entity.definedBy obtains the list of ontologies the clicked entity is defined in (only OLS)
@param entity.hasChildren obtains a boolean indicating whether the clicked entity has child entities
@param entity.numDescendants obtains the number of hierarchical descendants of the clicked entity (only OLS)
@param entity.parents obtains the list of parent entities of the clicked entity (only OLS, Skosmos)`}}};const{expect:he,waitFor:Te,within:ue}=__STORYBOOK_MODULE_TEST__,fe={...ge,...se,...re,...ae,...ie,...oe,...ne,...ee,...te,...$t,...Yt},c={api:_,iri:"",useLegacy:!0,ontologyId:"",entityType:"term",hasTitle:!0,showBadges:!0,parameter:"",onNavigateToEntity:"Console message",onNavigateToOntology:"Console message",onNavigateToDisambiguate:"Console message"},ve={...c,iri:"http://purl.obolibrary.org/obo/NCIT_C2985",entityType:"term",ontologyId:"ncit",hasTitle:!0},Ne={...c,iri:"http://www.w3.org/2004/02/skos/core#altLabel",entityType:"property",ontologyId:"mesh"},be={...c,iri:"https://openenergyplatform.org/ontology/oeo/OEO_00020163",entityType:"individual",ontologyId:"oeo",api:me},Ee={...c,api:v,useLegacy:!1,entityType:"class",iri:"http://purl.obolibrary.org/obo/UBERON_0000006",ontologyId:"uberon"},Ie={...c,api:_,iri:"http://purl.obolibrary.org/obo/NCIT_C88403"},xe={...c,api:v,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/NCIT_R89",entityType:"property",ontologyId:"ncit"},je={...c,api:v,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/RO_0002029",entityType:"property",ontologyId:"ro"},Oe={...c,api:v,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/ENVO_01001569",entityType:"individual",ontologyId:"envo"},Se={...c,api:v,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/MICRO_0001603",entityType:"property",ontologyId:"micro"},Ae={...c,api:v,useLegacy:!1,iri:"http://purl.obolibrary.org/obo/ENVO_01001569",onNavigateToEntity:"Navigate to EBI page",onNavigateToOntology:"Navigate to EBI page",onNavigateToDisambiguate:"Navigate to EBI page",entityType:"individual",ontologyId:"envo"},we={...c,api:_,useLegacy:!0,iri:"http://id.loc.gov/vocabulary/iso639-1/zh"},d=async({canvasElement:n})=>{const k=ue(n);await Te(async()=>{const L=k.getByTestId("entity-info");await he(L).toBeInTheDocument()},{timeout:3e3})},an={title:"Additional Entity Metadata/EntityInfoWidget",tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:ye}}},component:bt,argTypes:fe,args:c},b={args:ve,play:d},E={args:Ne,play:d},I={args:be,play:d},x={args:Ee,play:d},j={args:Ie,play:d},O={args:xe,play:d},S={args:je,play:d},A={args:Oe,play:d},w={args:Se,play:d},D={args:Ae,play:d},P={args:we,play:d};var J,H,M;b.parameters={...b.parameters,docs:{...(J=b.parameters)==null?void 0:J.docs,source:{originalSource:`{
  args: TermInfoWidgetArgs,
  play: commonEntityInfoWidgetPlay
}`,...(M=(H=b.parameters)==null?void 0:H.docs)==null?void 0:M.source}}};var U,X,K;E.parameters={...E.parameters,docs:{...(U=E.parameters)==null?void 0:U.docs,source:{originalSource:`{
  args: PropertyInfoWidgetArgs,
  play: commonEntityInfoWidgetPlay
}`,...(K=(X=E.parameters)==null?void 0:X.docs)==null?void 0:K.source}}};var V,Z,G;I.parameters={...I.parameters,docs:{...(V=I.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: IndividualInfoWidgetArgs,
  play: commonEntityInfoWidgetPlay
}`,...(G=(Z=I.parameters)==null?void 0:Z.docs)==null?void 0:G.source}}};var Q,Y,$;x.parameters={...x.parameters,docs:{...(Q=x.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  args: InfoWidgetBadgesArgs,
  play: commonEntityInfoWidgetPlay
}`,...($=(Y=x.parameters)==null?void 0:Y.docs)==null?void 0:$.source}}};var tt,et,nt;j.parameters={...j.parameters,docs:{...(tt=j.parameters)==null?void 0:tt.docs,source:{originalSource:`{
  args: OptionalEntityTypeLegacyAPIArgs,
  play: commonEntityInfoWidgetPlay
}`,...(nt=(et=j.parameters)==null?void 0:et.docs)==null?void 0:nt.source}}};var ot,it,at;O.parameters={...O.parameters,docs:{...(ot=O.parameters)==null?void 0:ot.docs,source:{originalSource:`{
  args: InfoWidgetDomainArgs,
  play: commonEntityInfoWidgetPlay
}`,...(at=(it=O.parameters)==null?void 0:it.docs)==null?void 0:at.source}}};var rt,st,gt;S.parameters={...S.parameters,docs:{...(rt=S.parameters)==null?void 0:rt.docs,source:{originalSource:`{
  args: InfoWidgetRangeArgs,
  play: commonEntityInfoWidgetPlay
}`,...(gt=(st=S.parameters)==null?void 0:st.docs)==null?void 0:gt.source}}};var yt,ct,lt;A.parameters={...A.parameters,docs:{...(yt=A.parameters)==null?void 0:yt.docs,source:{originalSource:`{
  args: InfoWidgetPropertyAssertionArgs,
  play: commonEntityInfoWidgetPlay
}`,...(lt=(ct=A.parameters)==null?void 0:ct.docs)==null?void 0:lt.source}}};var dt,mt,pt;w.parameters={...w.parameters,docs:{...(dt=w.parameters)==null?void 0:dt.docs,source:{originalSource:`{
  args: InfoWidgetPropertyCharacteristicsArgs,
  play: commonEntityInfoWidgetPlay
}`,...(pt=(mt=w.parameters)==null?void 0:mt.docs)==null?void 0:pt.source}}};var ht,Tt,ut;D.parameters={...D.parameters,docs:{...(ht=D.parameters)==null?void 0:ht.docs,source:{originalSource:`{
  args: NavigateToEBIPageArgs,
  play: commonEntityInfoWidgetPlay
}`,...(ut=(Tt=D.parameters)==null?void 0:Tt.docs)==null?void 0:ut.source}}};var ft,vt,Nt;P.parameters={...P.parameters,docs:{...(ft=P.parameters)==null?void 0:ft.docs,source:{originalSource:`{
  args: SkosmosImportArgs,
  play: commonEntityInfoWidgetPlay
}`,...(Nt=(vt=P.parameters)==null?void 0:vt.docs)==null?void 0:Nt.source}}};const rn=["TermInfoWidget","PropertyInfoWidget","IndividualInfoWidget","InfoWidgetBadges","OptionalEntityTypeLegacyAPI","InfoWidgetDomain","InfoWidgetRange","InfoWidgetPropertyAssertion","InfoWidgetPropertyCharacteristics","NavigateToEBIPage","SkosmosImport"];export{I as IndividualInfoWidget,x as InfoWidgetBadges,O as InfoWidgetDomain,A as InfoWidgetPropertyAssertion,w as InfoWidgetPropertyCharacteristics,S as InfoWidgetRange,D as NavigateToEBIPage,j as OptionalEntityTypeLegacyAPI,E as PropertyInfoWidget,P as SkosmosImport,b as TermInfoWidget,rn as __namedExportsOrder,an as default};
