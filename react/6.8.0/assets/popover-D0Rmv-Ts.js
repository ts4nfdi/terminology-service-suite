import{r as P,P as s,G as y,X as Xe,a0 as Se,a as b,H as K,Q as Qe}from"./iframe-D6RYroSH.js";import{aH as q,aG as G}from"./storyArgs-BXaqVnci.js";import{E as Je,s as et}from"./focus_trap-BAgdUZIJ.js";import{E as tt}from"./screen_reader_only-BBIH0-8z.js";import{j as rt}from"./loading_spinner-CVdmt-nO.js";import{g as ot,f as nt}from"./portal-DrjZNU5m.js";import{a as it,E as at}from"./panel-C1UeVyCI.js";import{e as st,a as ut,b as lt}from"./shadow-DH1WdWVC.js";import{_ as ct,f as pt,g as ft}from"./popover_arrow.styles-M9_umx9i.js";import{E as dt}from"./observer-CyIwzCln.js";import{h as Te}from"./icon-Bsau_sfl.js";var ce=/^([\d.]+)(s|ms)/;function pe(r,e){var o=e==="s"?1e3:1;return parseFloat(r)*o}var _e=function(e){var o=window.getComputedStyle(e),t=o.getPropertyValue("transition-duration"),n=t.match(ce),i=n?pe(n[1],n[2]):0,a=o.getPropertyValue("transition-delay"),u=a.match(ce),l=u?pe(u[1],u[2]):0;return{durationMatch:i,delayMatch:l}};function vt(r){return r.nodeType===document.ELEMENT_NODE}var bt=function(e){return e.reduce(function(o,t){if(vt(t.target)){var n=_e(t.target),i=n.durationMatch,a=n.delayMatch;o=Math.max(o,i+a)}return o},0)},yt=function(e,o){if(e>0){var t=Date.now(),n=t+e,i=function a(){o(),n>Date.now()&&requestAnimationFrame(a)};requestAnimationFrame(i)}};/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var ht=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],H=ht.join(","),je=typeof Element>"u",_=je?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Z=!je&&Element.prototype.getRootNode?function(r){return r.getRootNode()}:function(r){return r.ownerDocument},Ee=function(e,o,t){var n=Array.prototype.slice.apply(e.querySelectorAll(H));return o&&_.call(e,H)&&n.unshift(e),n=n.filter(t),n},Ce=function r(e,o,t){for(var n=[],i=Array.from(e);i.length;){var a=i.shift();if(a.tagName==="SLOT"){var u=a.assignedElements(),l=u.length?u:a.children,c=r(l,!0,t);t.flatten?n.push.apply(n,c):n.push({scope:a,candidates:c})}else{var d=_.call(a,H);d&&t.filter(a)&&(o||!e.includes(a))&&n.push(a);var p=a.shadowRoot||typeof t.getShadowRoot=="function"&&t.getShadowRoot(a),m=!t.shadowRootFilter||t.shadowRootFilter(a);if(p&&m){var h=r(p===!0?a.children:p.children,!0,t);t.flatten?n.push.apply(n,h):n.push({scope:a,candidates:h})}else i.unshift.apply(i,a.children)}}return n},Ae=function(e,o){return e.tabIndex<0&&(o||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},mt=function(e,o){return e.tabIndex===o.tabIndex?e.documentOrder-o.documentOrder:e.tabIndex-o.tabIndex},Re=function(e){return e.tagName==="INPUT"},gt=function(e){return Re(e)&&e.type==="hidden"},Ot=function(e){var o=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(t){return t.tagName==="SUMMARY"});return o},Pt=function(e,o){for(var t=0;t<e.length;t++)if(e[t].checked&&e[t].form===o)return e[t]},wt=function(e){if(!e.name)return!0;var o=e.form||Z(e),t=function(u){return o.querySelectorAll('input[type="radio"][name="'+u+'"]')},n;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")n=t(window.CSS.escape(e.name));else try{n=t(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var i=Pt(n,e.form);return!i||i===e},St=function(e){return Re(e)&&e.type==="radio"},Tt=function(e){return St(e)&&!wt(e)},fe=function(e){var o=e.getBoundingClientRect(),t=o.width,n=o.height;return t===0&&n===0},_t=function(e,o){var t=o.displayCheck,n=o.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=_.call(e,"details>summary:first-of-type"),a=i?e.parentElement:e;if(_.call(a,"details:not([open]) *"))return!0;var u=Z(e).host,l=(u==null?void 0:u.ownerDocument.contains(u))||e.ownerDocument.contains(e);if(!t||t==="full"){if(typeof n=="function"){for(var c=e;e;){var d=e.parentElement,p=Z(e);if(d&&!d.shadowRoot&&n(d)===!0)return fe(e);e.assignedSlot?e=e.assignedSlot:!d&&p!==e.ownerDocument?e=p.host:e=d}e=c}if(l)return!e.getClientRects().length}else if(t==="non-zero-area")return fe(e);return!1},jt=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var o=e.parentElement;o;){if(o.tagName==="FIELDSET"&&o.disabled){for(var t=0;t<o.children.length;t++){var n=o.children.item(t);if(n.tagName==="LEGEND")return _.call(o,"fieldset[disabled] *")?!0:!n.contains(e)}return!0}o=o.parentElement}return!1},V=function(e,o){return!(o.disabled||gt(o)||_t(o,e)||Ot(o)||jt(o))},de=function(e,o){return!(Tt(o)||Ae(o)<0||!V(e,o))},Et=function(e){var o=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(o)||o>=0)},Ct=function r(e){var o=[],t=[];return e.forEach(function(n,i){var a=!!n.scope,u=a?n.scope:n,l=Ae(u,a),c=a?r(n.candidates):u;l===0?a?o.push.apply(o,c):o.push(u):t.push({documentOrder:i,tabIndex:l,item:n,isScope:a,content:c})}),t.sort(mt).reduce(function(n,i){return i.isScope?n.push.apply(n,i.content):n.push(i.content),n},[]).concat(o)},Br=function(e,o){o=o||{};var t;return o.getShadowRoot?t=Ce([e],o.includeContainer,{filter:de.bind(null,o),flatten:!1,getShadowRoot:o.getShadowRoot,shadowRootFilter:Et}):t=Ee(e,o.includeContainer,de.bind(null,o)),Ct(t)},At=function(e,o){o=o||{};var t;return o.getShadowRoot?t=Ce([e],o.includeContainer,{filter:V.bind(null,o),flatten:!0,getShadowRoot:o.getShadowRoot}):t=Ee(e,o.includeContainer,V.bind(null,o)),t};function w(r){"@babel/helpers - typeof";return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(r)}function ve(r,e){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),o.push.apply(o,t)}return o}function Rt(r){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ve(Object(o),!0).forEach(function(t){I(r,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):ve(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}function Mt(r,e,o){return Object.defineProperty(r,"prototype",{writable:!1}),r}function Dt(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function xt(r,e,o){return e=F(e),It(r,Me()?Reflect.construct(e,o||[],F(r).constructor):e.apply(r,o))}function It(r,e){if(e&&(w(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ft(r)}function Ft(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Me(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Me=function(){return!!r})()}function F(r){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(r)}function kt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Y(r,e)}function Y(r,e){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,t){return o.__proto__=t,o},Y(r,e)}function I(r,e,o){return(e=Nt(e))in r?Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[e]=o,r}function Nt(r){var e=$t(r,"string");return w(e)=="symbol"?e:e+""}function $t(r,e){if(w(r)!="object"||!r)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var t=o.call(r,e);if(w(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Lt=(function(r){function e(){var o;Dt(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return o=xt(this,e,[].concat(n)),I(o,"name","EuiMutationObserver"),I(o,"onMutation",function(a,u){o.props.onMutation(a,u)}),I(o,"beginObserve",function(){var a=o.childNode;o.observer=zt(a,o.props.observerOptions,o.onMutation)}),o}return kt(e,r),Mt(e)})(dt),zt=function(e,o,t){var n=Rt({},o),i=n.hasOwnProperty("attributeOldValue")||n.hasOwnProperty("attributeFilter");i&&!n.hasOwnProperty("attributes")&&(n.attributes=!0);var a=new MutationObserver(t);return a.observe(e,n),a};function S(r){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(r)}function be(r,e){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),o.push.apply(o,t)}return o}function ye(r){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?be(Object(o),!0).forEach(function(t){g(r,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):be(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}function Bt(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ut(r,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,xe(t.key),t)}}function Wt(r,e,o){return e&&Ut(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function qt(r,e,o){return e=k(e),Kt(r,De()?Reflect.construct(e,o||[],k(r).constructor):e.apply(r,o))}function Kt(r,e){if(e&&(S(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gt(r)}function Gt(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function De(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(De=function(){return!!r})()}function k(r){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(r)}function Ht(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&X(r,e)}function X(r,e){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,t){return o.__proto__=t,o},X(r,e)}function g(r,e,o){return(e=xe(e))in r?Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[e]=o,r}function xe(r){var e=Zt(r,"string");return S(e)=="symbol"?e:e+""}function Zt(r,e){if(S(r)!="object"||!r)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var t=o.call(r,e);if(S(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Ie=(function(r){function e(o){var t;return Bt(this,e),t=qt(this,e,[o]),g(t,"id",void 0),g(t,"capturedDownIds",void 0),g(t,"onClickOutside",function(n){var i=t.props,a=i.isDisabled,u=i.onOutsideClick;if(a){t.capturedDownIds=[];return}var l=n;if(l.euiGeneratedBy&&l.euiGeneratedBy.includes(t.id)||t.capturedDownIds.includes(t.id)){t.capturedDownIds=[];return}return t.capturedDownIds=[],u(l)}),g(t,"onChildClick",function(n,i){n.nativeEvent.hasOwnProperty("euiGeneratedBy")?n.nativeEvent.euiGeneratedBy.push(t.id):n.nativeEvent.euiGeneratedBy=[t.id],i&&i(n)}),g(t,"onChildMouseDown",function(n){t.onChildClick(n,function(i){var a=i.nativeEvent;t.capturedDownIds=a.euiGeneratedBy,t.props.onMouseDown&&t.props.onMouseDown(i),t.props.onTouchStart&&t.props.onTouchStart(i)})}),g(t,"onChildMouseUp",function(n){t.onChildClick(n,function(i){t.props.onMouseUp&&t.props.onMouseUp(i),t.props.onTouchEnd&&t.props.onTouchEnd(i)})}),t.id=Te()(),t.capturedDownIds=[],t}return Ht(e,r),Wt(e,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.onClickOutside),document.addEventListener("touchend",this.onClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onClickOutside),document.removeEventListener("touchend",this.onClickOutside)}},{key:"render",value:function(){var t=ye(ye({},this.props.children.props),{onMouseDown:this.onChildMouseDown,onTouchStart:this.onChildMouseDown,onMouseUp:this.onChildMouseUp,onTouchEnd:this.onChildMouseUp}),n=P.Children.only(this.props.children);return P.cloneElement(n,t)}}])})(P.Component);Ie.propTypes={children:s.element.isRequired,onOutsideClick:s.func.isRequired,isDisabled:s.bool,onMouseDown:s.func,onMouseUp:s.func,onTouchStart:s.func,onTouchEnd:s.func};function j(r){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(r)}function he(r,e){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),o.push.apply(o,t)}return o}function Vt(r){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?he(Object(o),!0).forEach(function(t){Yt(r,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):he(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}function Yt(r,e,o){return(e=Xt(e))in r?Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[e]=o,r}function Xt(r){var e=Qt(r,"string");return j(e)=="symbol"?e:e+""}function Qt(r,e){if(j(r)!="object"||!r)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var t=o.call(r,e);if(j(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Jt=function(e){var o=e.euiTheme,t=e.highContrastMode,n=e.colorMode,i=t||n==="DARK",a=o.size.base,u=ct(e,a);return Vt({euiPopoverArrowWrapper:y("position:absolute;z-index:1;",Xe(a),";;label:euiPopoverArrowWrapper;"),euiPopoverArrow:y(u._arrowStyles," background-color:var(--euiPopoverBackgroundColor);",i?"border: ".concat(o.border.thin,";"):"",";;label:euiPopoverArrow;")},u.positions)},er=["children","position","style"];function Q(){return Q=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var t in o)({}).hasOwnProperty.call(o,t)&&(r[t]=o[t])}return r},Q.apply(null,arguments)}function tr(r,e){if(r==null)return{};var o,t,n=rr(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(t=0;t<i.length;t++)o=i[t],e.indexOf(o)>=0||{}.propertyIsEnumerable.call(r,o)&&(n[o]=r[o])}return n}function rr(r,e){if(r==null)return{};var o={};for(var t in r)if({}.hasOwnProperty.call(r,t)){if(e.indexOf(t)>=0)continue;o[t]=r[t]}return o}var Fe=function(e){var o=e.children,t=e.position,n=e.style,i=tr(e,er),a=Se(),u=Jt(a),l=[u.euiPopoverArrow,u[t]];return b("div",Q({className:"euiPopover__arrowWrapper",css:u.euiPopoverArrowWrapper,style:n},i),b("div",{className:"euiPopover__arrow","data-popover-arrow":t,css:l}),o)};Fe.propTypes={className:s.string,"aria-label":s.string,"data-test-subj":s.string,css:s.any,position:s.any.isRequired};var or=function(){return{euiPopover:y("position:relative;vertical-align:middle;",K("max-width","100%"),";;label:euiPopover;")}},nr="slow",ir={name:"j5y6yx-isOpen",styles:"opacity:1;pointer-events:auto;label:isOpen;"},ar=function(e){var o=e.euiTheme,t=e.highContrastMode,n=o.size.s,i=o.animation[nr],a="opacity ".concat(o.animation.bounce," ").concat(i),u="transform ".concat(o.animation.bounce," ").concat(Qe(i,function(c){return c+100})),l=!t;return{euiPopover__panel:y("position:absolute;",K("min-width","".concat(o.base*7,"px")),K("max-width","calc(100vw - ".concat(o.size.xl,")")),"backface-visibility:hidden;pointer-events:none;opacity:0;background-color:var(--euiPopoverBackgroundColor);",q,"{transition:",a,",",u,";}",it(e)," &:focus{outline-offset:0;};label:euiPopover__panel;"),isOpen:ir,light:y("--euiPopoverBackgroundColor:",o.components.popoverPanelBackground,";;label:light;"),dark:y("--euiPopoverBackgroundColor:",o.components.popoverPanelBackground,";;label:dark;"),hasTransform:{hasTransform:y("transform:translateY(0) translateX(0) translateZ(0);",l?lt(e,{property:"filter"}):""," ",q,"{transition:",a,",",u,";};label:hasTransform;"),top:y("transform:translateY(",n,") translateZ(0);;label:top;"),bottom:y("transform:translateY(-",n,") translateZ(0);;label:bottom;"),left:y("transform:translateX(",n,") translateZ(0);;label:left;"),right:y("transform:translateX(-",n,") translateZ(0);;label:right;")},isAttached:{isAttached:y(q,"{transition:",a,";};label:isAttached;"),top:y(l?ut(e):"",";;label:top;"),bottom:y(l?st(e,"m"):"",";;label:bottom;"),get left(){return this.bottom},get right(){return this.bottom}}}},sr=["children","className","isOpen","isAttached","position"];function J(){return J=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var t in o)({}).hasOwnProperty.call(o,t)&&(r[t]=o[t])}return r},J.apply(null,arguments)}function ur(r,e){if(r==null)return{};var o,t,n=lr(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(t=0;t<i.length;t++)o=i[t],e.indexOf(o)>=0||{}.propertyIsEnumerable.call(r,o)&&(n[o]=r[o])}return n}function lr(r,e){if(r==null)return{};var o={};for(var t in r)if({}.hasOwnProperty.call(r,t)){if(e.indexOf(t)>=0)continue;o[t]=r[t]}return o}var ke="l",cr=P.createContext({paddingSize:ke}),Ne=function(e){var o=e.children,t=e.className,n=e.isOpen,i=e.isAttached,a=e.position,u=ur(e,sr),l=G("euiPopover__panel",t),c=Se(),d=P.useMemo(function(){var p=ar(c),m=c.colorMode.toLowerCase(),h=[p.euiPopover__panel,p[m],n&&p.isOpen];return i?[].concat(h,[p.isAttached.isAttached,a&&p.isAttached[a]]):[].concat(h,[p.hasTransform.hasTransform,n&&a&&p.hasTransform[a]])},[c,n,a,i]);return b(cr.Provider,{value:{paddingSize:u.paddingSize||ke}},b(at,J({className:l,css:d,"data-popover-panel":!0,"data-popover-open":n||void 0},u),o))};Ne.propTypes={element:s.oneOf(["div"]),paddingSize:s.any,borderRadius:s.any,grow:s.bool,panelRef:s.any,className:s.string,"aria-label":s.string,"data-test-subj":s.string,css:s.any,isOpen:s.bool,isAttached:s.bool,position:s.oneOfType([s.any.isRequired,s.oneOf([null])])};function T(r){"@babel/helpers - typeof";return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(r)}var pr=["anchorPosition","button","insert","isOpen","ownFocus","children","className","closePopover","panelClassName","panelPaddingSize","panelProps","panelRef","panelStyle","popoverScreenReaderText","popoverRef","hasArrow","arrowChildren","repositionOnScroll","repositionToCrossAxis","zIndex","attachToAnchor","display","offset","onPositionChange","buffer","aria-label","aria-labelledby","aria-live","container","focusTrapProps","initialFocus","tabIndex"];function O(){return O=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var t in o)({}).hasOwnProperty.call(o,t)&&(r[t]=o[t])}return r},O.apply(null,arguments)}function fr(r,e){if(r==null)return{};var o,t,n=dr(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(t=0;t<i.length;t++)o=i[t],e.indexOf(o)>=0||{}.propertyIsEnumerable.call(r,o)&&(n[o]=r[o])}return n}function dr(r,e){if(r==null)return{};var o={};for(var t in r)if({}.hasOwnProperty.call(r,t)){if(e.indexOf(t)>=0)continue;o[t]=r[t]}return o}function me(r,e){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),o.push.apply(o,t)}return o}function x(r){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?me(Object(o),!0).forEach(function(t){f(r,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):me(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}function vr(r){return hr(r)||yr(r)||Be(r)||br()}function br(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yr(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function hr(r){if(Array.isArray(r))return te(r)}function mr(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ge(r,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,Le(t.key),t)}}function gr(r,e,o){return e&&ge(r.prototype,e),o&&ge(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r}function Or(r,e,o){return e=N(e),Pr(r,$e()?Reflect.construct(e,o||[],N(r).constructor):e.apply(r,o))}function Pr(r,e){if(e&&(T(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wr(r)}function wr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function $e(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($e=function(){return!!r})()}function N(r){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(r)}function Sr(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&ee(r,e)}function ee(r,e){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,t){return o.__proto__=t,o},ee(r,e)}function f(r,e,o){return(e=Le(e))in r?Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[e]=o,r}function Le(r){var e=Tr(r,"string");return T(e)=="symbol"?e:e+""}function Tr(r,e){if(T(r)!="object"||!r)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var t=o.call(r,e);if(T(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function ze(r,e){return Er(r)||jr(r,e)||Be(r,e)||_r()}function _r(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Be(r,e){if(r){if(typeof r=="string")return te(r,e);var o={}.toString.call(r).slice(8,-1);return o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set"?Array.from(r):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?te(r,e):void 0}}function te(r,e){(e==null||e>r.length)&&(e=r.length);for(var o=0,t=Array(e);o<e;o++)t[o]=r[o];return t}function jr(r,e){var o=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(o!=null){var t,n,i,a,u=[],l=!0,c=!1;try{if(i=(o=o.call(r)).next,e!==0)for(;!(l=(t=i.call(o)).done)&&(u.push(t.value),u.length!==e);l=!0);}catch(d){c=!0,n=d}finally{try{if(!l&&o.return!=null&&(a=o.return(),Object(a)!==a))return}finally{if(c)throw n}}return u}}function Er(r){if(Array.isArray(r))return r}var Ue={up:"top",right:"right",down:"bottom",left:"left"};function Cr(r){var e=r.match(/^(.*?)[A-Z]/),o=ze(e,2),t=o[1];return Ue[t]}function Ar(r){var e=r.match(/([A-Z].*)/),o=ze(e,2),t=o[1];return Ue[t.toLowerCase()]}var Oe={top:50,left:50},Pe={preventScroll:!0},we=250,We=(function(r){function e(o){var t;return mr(this,e),t=Or(this,e,[o]),f(t,"respositionTimeout",void 0),f(t,"strandedFocusTimeout",void 0),f(t,"closingTransitionTimeout",void 0),f(t,"closingTransitionAnimationFrame",void 0),f(t,"button",null),f(t,"panel",null),f(t,"descriptionId",Te()()),f(t,"closePopover",function(){t.props.isOpen&&t.props.closePopover()}),f(t,"onEscapeKey",function(n){t.props.isOpen&&(n.preventDefault(),n.stopPropagation(),t.closePopover(),t.handleStrandedFocus())}),f(t,"handleStrandedFocus",function(){t.strandedFocusTimeout=window.setTimeout(function(){var n;if(document.activeElement===document.body||(n=t.panel)!==null&&n!==void 0&&n.contains(document.activeElement)){if(!t.button)return;var i=At(t.button);if(!i.length)return;var a=i[0];a.focus(Pe)}},we)}),f(t,"onKeyDown",function(n){n.key===nt&&t.onEscapeKey(n)}),f(t,"onClickOutside",function(n){t.button&&t.button.contains(n.target)===!1&&t.closePopover()}),f(t,"onOpenPopover",function(){clearTimeout(t.strandedFocusTimeout),clearTimeout(t.closingTransitionTimeout),t.closingTransitionAnimationFrame&&cancelAnimationFrame(t.closingTransitionAnimationFrame),t.closingTransitionAnimationFrame=window.requestAnimationFrame(function(){t.setState({isOpening:!0})});var n=Array.prototype.slice.call(t.panel?[t.panel].concat(vr(Array.from(t.panel.children))):[]).reduce(function(u,l){var c=u.durationMatch,d=u.delayMatch,p=_e(l);return{durationMatch:Math.max(c,p.durationMatch),delayMatch:Math.max(d,p.delayMatch)}},{durationMatch:0,delayMatch:0}),i=n.durationMatch,a=n.delayMatch;clearTimeout(t.respositionTimeout),t.respositionTimeout=window.setTimeout(function(){t.setState({isOpenStable:!0},function(){t.positionPopoverFixed()})},i+a)}),f(t,"onMutation",function(n){var i=bt(n);t.positionPopoverFixed(),yt(i,t.positionPopoverFixed)}),f(t,"positionPopover",function(n){if(!(t.button==null||t.panel==null)){var i=t.props,a=i.anchorPosition,u=i.offset,l=u===void 0?0:u,c=Cr(a),d=void 0;n&&t.state.isOpenStable&&t.state.openPosition!=null&&(c=t.state.openPosition,d=!0);var p=pt({container:t.props.container,position:c,forcePosition:d,align:Ar(a),anchor:t.button,popover:t.panel,offset:t.props.attachToAnchor?l:t.props.hasArrow?16+l:8+l,arrowConfig:t.props.hasArrow?{arrowWidth:16,arrowBuffer:10}:{arrowWidth:0,arrowBuffer:0},returnBoundingBox:t.props.attachToAnchor,allowCrossAxis:t.props.repositionToCrossAxis,buffer:t.props.buffer}),m=p.top,h=p.left,v=p.position,E=p.arrow,C=t.props.zIndex,$=C??ft(t.button,t.panel)+2e3,A=x(x({},t.props.panelStyle),{},{top:m,left:h,zIndex:$}),R=!t.props.attachToAnchor&&t.props.hasArrow,L=R?E:void 0,M=v;t.props.onPositionChange&&t.props.onPositionChange(M),t.setState({popoverStyles:A,arrowStyles:L,arrowPosition:M,openPosition:v})}}),f(t,"positionPopoverFixed",function(){t.positionPopover(!0)}),f(t,"positionPopoverFluid",function(){t.positionPopover(!1)}),f(t,"panelRef",function(n){t.panel=n,t.props.panelRef&&t.props.panelRef(n),n==null?(t.setState({popoverStyles:Oe,arrowStyles:{},arrowPosition:null,openPosition:null,isOpenStable:!1}),window.removeEventListener("resize",t.positionPopoverFluid)):(t.positionPopoverFluid(),window.addEventListener("resize",t.positionPopoverFluid))}),f(t,"popoverRef",function(n){t.button=n,et([t.props.popoverRef],n)}),t.state={prevProps:{isOpen:o.isOpen},suppressingPopover:o.isOpen,isClosing:!1,isOpening:!1,popoverStyles:Oe,arrowStyles:{},arrowPosition:null,openPosition:null,isOpenStable:!1},t}return Sr(e,r),gr(e,[{key:"componentDidMount",value:function(){var t=this;this.state.suppressingPopover&&this.setState({suppressingPopover:!1,isOpening:!0},function(){t.onOpenPopover()}),this.props.repositionOnScroll&&window.addEventListener("scroll",this.positionPopoverFixed,!0)}},{key:"componentDidUpdate",value:function(t){var n=this;!t.isOpen&&this.props.isOpen&&this.onOpenPopover(),this.props.isOpen&&(t.anchorPosition!==this.props.anchorPosition||t.buffer!==this.props.buffer||t.offset!==this.props.offset||t.panelPaddingSize!==this.props.panelPaddingSize)&&this.positionPopoverFluid(),t.repositionOnScroll!==this.props.repositionOnScroll&&(this.props.repositionOnScroll?window.addEventListener("scroll",this.positionPopoverFixed,!0):window.removeEventListener("scroll",this.positionPopoverFixed,!0)),t.isOpen&&!this.props.isOpen&&(this.closingTransitionTimeout=window.setTimeout(function(){n.setState({isClosing:!1})},we))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.positionPopoverFixed,!0),clearTimeout(this.respositionTimeout),clearTimeout(this.strandedFocusTimeout),clearTimeout(this.closingTransitionTimeout),cancelAnimationFrame(this.closingTransitionAnimationFrame)}},{key:"render",value:function(){var t,n=this,i=this.props;i.anchorPosition;var a=i.button,u=i.insert,l=i.isOpen,c=i.ownFocus,d=i.children,p=i.className;i.closePopover;var m=i.panelClassName,h=i.panelPaddingSize,v=i.panelProps;i.panelRef,i.panelStyle;var E=i.popoverScreenReaderText;i.popoverRef;var C=i.hasArrow,$=i.arrowChildren;i.repositionOnScroll,i.repositionToCrossAxis,i.zIndex;var A=i.attachToAnchor,R=i.display;i.offset,i.onPositionChange,i.buffer;var L=i["aria-label"],M=i["aria-labelledby"],z=i["aria-live"];i.container;var qe=i.focusTrapProps,Ke=i.initialFocus,Ge=i.tabIndex,re=fr(i,pr),D=(t=v==null?void 0:v.tabIndex)!==null&&t!==void 0?t:Ge,He=or(),oe=[He.euiPopover,{display:R,label:R}],ne=G("euiPopover",{"euiPopover-isOpen":this.state.isOpening},p),Ze=C&&!A,B;if(!this.state.suppressingPopover&&(l||this.state.isClosing)){var ie=D,U=Ke,ae,W,se=v!=null&&v.hasOwnProperty("aria-modal")?v["aria-modal"]:"true",Ve=v!=null&&v.hasOwnProperty("role")?v.role:"dialog";c||se!=="true"?(ie=D??0,W="off",U||(U=function(){return n.panel})):W=z??"assertive";var ue;(c||E)&&(ae=this.descriptionId,ue=b(tt,null,b("p",{id:this.descriptionId},c&&b(rt,{token:"euiPopover.screenReaderAnnouncement",default:"You are in a dialog. Press Escape, or tap/click outside the dialog to close."}),E)));var Ye=this.state.isOpenStable?Pe:!1;B=b(ot,u&&{insert:u},b(Je,O({clickOutsideDisables:!0,onClickOutside:this.onClickOutside,returnFocus:Ye,initialFocus:U,onEscapeKey:this.onEscapeKey,disabled:!c||!this.state.isOpenStable||this.state.isClosing},qe),b(Ne,O({},v,{panelRef:this.panelRef,isOpen:this.state.isOpening,position:this.state.arrowPosition,isAttached:A,className:G(m,v==null?void 0:v.className),hasShadow:!1,paddingSize:h,tabIndex:ie,"aria-live":W,role:Ve,"aria-label":L,"aria-labelledby":M,"aria-modal":se,"aria-describedby":ae,style:x(x({},this.state.popoverStyles),{},{willChange:this.state.isOpenStable?void 0:"transform, opacity"})}),Ze&&this.state.arrowPosition&&b(Fe,{position:this.state.arrowPosition,style:this.state.arrowStyles},$),ue,b(Lt,{observerOptions:{attributes:!0,childList:!0,characterData:!0,subtree:!0},onMutation:this.onMutation},function(le){return b("div",{ref:le},d)}))))}return c?b("div",O({css:oe,className:ne,ref:this.popoverRef},re),a instanceof HTMLElement?null:a,B):b(Ie,{onOutsideClick:this.closePopover},b("div",O({css:oe,className:ne,ref:this.popoverRef,onKeyDown:this.onKeyDown},re),a instanceof HTMLElement?null:a,B))}}],[{key:"getDerivedStateFromProps",value:function(t,n){return n.prevProps.isOpen&&!t.isOpen?{prevProps:{isOpen:t.isOpen},isClosing:!0,isOpening:!1}:n.prevProps.isOpen!==t.isOpen?{prevProps:{isOpen:t.isOpen}}:null}}])})(P.Component);f(We,"defaultProps",{isOpen:!1,ownFocus:!0,repositionToCrossAxis:!0,anchorPosition:"downCenter",panelPaddingSize:"m",hasArrow:!0,display:"inline-block"});We.propTypes={anchorPosition:s.any,attachToAnchor:s.bool,button:s.any.isRequired,closePopover:s.func.isRequired,container:s.any,display:s.any,focusTrapProps:s.any,hasArrow:s.bool,initialFocus:s.any,insert:s.shape({sibling:s.any.isRequired,position:s.oneOf(["before","after"]).isRequired}),isOpen:s.bool,ownFocus:s.bool,panelClassName:s.string,panelPaddingSize:s.any,panelStyle:s.any,panelProps:s.shape({element:s.oneOf(["div"]),paddingSize:s.any,borderRadius:s.any,grow:s.bool,panelRef:s.any,className:s.string,"aria-label":s.string,"data-test-subj":s.string,css:s.any}),panelRef:s.any,popoverScreenReaderText:s.oneOfType([s.string.isRequired,s.node.isRequired]),popoverRef:s.any,repositionOnScroll:s.bool,repositionToCrossAxis:s.bool,zIndex:s.number,offset:s.number,buffer:s.oneOfType([s.number.isRequired,s.any.isRequired]),arrowChildren:s.node,"aria-label":s.string,"aria-labelledby":s.string,onPositionChange:s.func,className:s.string,"data-test-subj":s.string,css:s.any};export{We as E,Br as t};
