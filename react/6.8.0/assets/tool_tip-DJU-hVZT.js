import{G as v,H as _,L as x,T as U,r as g,a0 as G,a as f,P as r,R as no}from"./iframe-D6RYroSH.js";import{aH as j,aG as P}from"./storyArgs-BXaqVnci.js";import{h as so,e as L}from"./icon-Bsau_sfl.js";import{e as ao}from"./shadow-DH1WdWVC.js";import{a as lo}from"./panel-C1UeVyCI.js";import{_ as uo,f as co}from"./popover_arrow.styles-M9_umx9i.js";import{g as po,f as fo}from"./portal-DrjZNU5m.js";import{E as bo}from"./resize_observer-2MXYJlkX.js";var W,q;function Y(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var mo=function(e){return e.components.tooltipBackground},I=function(e){return e.components.tooltipBorder},H=function(e){return U(W||(W=Y([`
    0% {
        opacity: 0;
        transform: translateY(`,`);
    }

    100% {
        opacity: 1;
        transform: translateY(0);
    }
`])),e)},D=function(e){return U(q||(q=Y([`
    0% {
        opacity: 0;
        transform: translateX(`,`);
    }

    100% {
        opacity: 1;
        transform: translateX(0);
    }
`])),e)},X=function(e){var o=e.euiTheme,i=e.highContrastMode,s=!i,n="".concat(o.animation.slow," ease-out 0s forwards"),a=o.size.m,l=uo(e,a);return{euiToolTip:v(s?ao(e):""," border-radius:",o.border.radius.medium,";background-color:",mo(o),";color:",o.colors.ghost,";z-index:",o.levels.toast,";",_("max-width","256px")," overflow-wrap:break-word;padding:",o.size.s,";",x(e,"s")," position:absolute;",lo(e)," [class*='euiHorizontalRule']{background-color:",I(o),";};label:euiToolTip;"),s:v(x(e,"xs"),";;label:s;"),top:v(j,"{animation:",H("-".concat(o.size.base))," ",n,";};label:top;"),bottom:v(j,"{animation:",H(o.size.base)," ",n,";};label:bottom;"),left:v(j,"{animation:",D("-".concat(o.size.base))," ",n,";};label:left;"),right:v(j,"{animation:",D(o.size.base)," ",n,";};label:right;"),euiToolTip__arrow:v(l._arrowStyles," background-color:inherit;;label:euiToolTip__arrow;"),arrowPositions:l.positions,euiToolTip__title:v("font-weight:",o.font.weight.bold,";",_("border-bottom","solid ".concat(o.border.width.thin," ").concat(I(o)))," ",_("padding-bottom",o.size.xs)," ",_("margin-bottom",o.size.xs),";;label:euiToolTip__title;")}},yo={name:"fzilnk-inlineBlock",styles:"display:inline-block;label:inlineBlock;"},vo={name:"14aceuy-block",styles:"display:block;label:block;"},To={name:"1s3i3p5-euiToolTipAnchor",styles:"*[disabled]{pointer-events:none;};label:euiToolTipAnchor;"},ho=function(){return{euiToolTipAnchor:To,block:vo,inlineBlock:yo}},go=["children","title","className","positionToolTip","popoverRef","calculatedPosition"];function N(){return N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)({}).hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},N.apply(null,arguments)}function Oo(t,e){if(t==null)return{};var o,i,s=wo(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(i=0;i<n.length;i++)o=n[i],e.indexOf(o)>=0||{}.propertyIsEnumerable.call(t,o)&&(s[o]=t[o])}return s}function wo(t,e){if(t==null)return{};var o={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;o[i]=t[i]}return o}var J=function(e){var o=e.children,i=e.title,s=e.className,n=e.positionToolTip,a=e.popoverRef,l=e.calculatedPosition,c=Oo(e,go),d=g.useRef(),T=G(),b=X(T),y=[b.euiToolTip,l&&b[l]],m=g.useCallback(function(){requestAnimationFrame(function(){d.current&&n()})},[n]),p=function(A){a&&a(A)};g.useEffect(function(){return document.body.classList.add("euiBody-hasPortalContent"),window.addEventListener("resize",m),function(){document.body.classList.remove("euiBody-hasPortalContent"),window.removeEventListener("resize",m)}},[m]);var w=P("euiToolTipPopover",s);return f("div",N({css:y,className:w,ref:p,"data-position":l},c),i&&f("div",{css:b.euiToolTip__title,className:"euiToolTip__title"},i),o)};J.propTypes={className:r.string,"aria-label":r.string,"data-test-subj":r.string,css:r.any,positionToolTip:r.func.isRequired,children:r.node,title:r.node,popoverRef:r.func,calculatedPosition:r.oneOf(["top","right","bottom","left"])};var Po=["onBlur","onFocus","onMouseOver","onMouseOut","id","className","children","display","isVisible"];function B(){return B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)({}).hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},B.apply(null,arguments)}function So(t,e){if(t==null)return{};var o,i,s=_o(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(i=0;i<n.length;i++)o=n[i],e.indexOf(o)>=0||{}.propertyIsEnumerable.call(t,o)&&(s[o]=t[o])}return s}function _o(t,e){if(t==null)return{};var o={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;o[i]=t[i]}return o}var z=g.forwardRef(function(t,e){var o=t.onBlur,i=t.onFocus,s=t.onMouseOver,n=t.onMouseOut,a=t.id,l=t.className,c=t.children,d=t.display,T=t.isVisible,b=So(t,Po),y=ho(),m=[y.euiToolTipAnchor,y[d]],p=P("euiToolTipAnchor",l);return f("span",B({ref:e,css:m},b,{className:p,onMouseOver:s,onMouseOut:n}),g.cloneElement(c,{onFocus:function(h){i(),c.props.onFocus&&c.props.onFocus(h)},onBlur:function(h){o(),c.props.onBlur&&c.props.onBlur(h)},"aria-describedby":T&&a?P(a,c.props["aria-describedby"]):c.props["aria-describedby"]}))});z.propTypes={onBlur:r.func.isRequired,onFocus:r.func.isRequired,isVisible:r.bool.isRequired};z.displayName="EuiToolTipAnchor";var jo=["position"];function C(){return C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)({}).hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},C.apply(null,arguments)}function Eo(t,e){if(t==null)return{};var o,i,s=Ro(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(i=0;i<n.length;i++)o=n[i],e.indexOf(o)>=0||{}.propertyIsEnumerable.call(t,o)&&(s[o]=t[o])}return s}function Ro(t,e){if(t==null)return{};var o={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;o[i]=t[i]}return o}var Q=function(e){var o=e.position,i=Eo(e,jo),s=G(),n=X(s),a=[n.euiToolTip__arrow,n.arrowPositions[o]];return f("div",C({css:a},i))};Q.propTypes={position:r.oneOf(["top","right","bottom","left"]).isRequired};function S(t){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(t)}function Ao(t,e,o){return Object.defineProperty(t,"prototype",{writable:!1}),t}function Mo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e,o){return(e=No(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function No(t){var e=Bo(t,"string");return S(e)=="symbol"?e:e+""}function Bo(t,e){if(S(t)!="object"||!t)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var i=o.call(t,e);if(S(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Co=Ao(function t(){var e=this;Mo(this,t),M(this,"toolTipsToHide",new Set),M(this,"registerTooltip",function(o){e.toolTipsToHide.forEach(function(i){return i()}),e.toolTipsToHide.clear(),e.toolTipsToHide.add(o)}),M(this,"deregisterToolTip",function(o){e.toolTipsToHide.delete(o)})}),V=new Co,ko=["children","className","anchorClassName","anchorProps","content","title","delay","display","repositionOnScroll","disableScreenReaderOutput"];function O(t){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(t)}function E(){return E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)({}).hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},E.apply(null,arguments)}function zo(t,e){if(t==null)return{};var o,i,s=Fo(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(i=0;i<n.length;i++)o=n[i],e.indexOf(o)>=0||{}.propertyIsEnumerable.call(t,o)&&(s[o]=t[o])}return s}function Fo(t,e){if(t==null)return{};var o={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;o[i]=t[i]}return o}function $o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xo(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,oo(i.key),i)}}function Lo(t,e,o){return e&&xo(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wo(t,e,o){return e=R(e),qo(t,Z()?Reflect.construct(e,o||[],R(t).constructor):e.apply(t,o))}function qo(t,e){if(e&&(O(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Io(t)}function Io(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z=function(){return!!t})()}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(t)}function Ho(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},k(t,e)}function u(t,e,o){return(e=oo(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function oo(t){var e=Do(t,"string");return O(e)=="symbol"?e:e+""}function Do(t,e){if(O(t)!="object"||!t)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var i=o.call(t,e);if(O(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vo={regular:250,long:1250},K={top:50,left:50,opacity:0,visibility:"hidden"},eo=(function(t){function e(){var o;$o(this,e);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return o=Wo(this,e,[].concat(s)),u(o,"_isMounted",!1),u(o,"anchor",null),u(o,"popover",null),u(o,"timeoutId",void 0),u(o,"state",{visible:!1,hasFocus:!1,calculatedPosition:o.props.position,toolTipStyles:K,arrowStyles:void 0,id:o.props.id||so()()}),u(o,"clearAnimationTimeout",function(){o.timeoutId&&(o.timeoutId=clearTimeout(o.timeoutId))}),u(o,"testAnchor",function(){document.body.contains(o.anchor)===!1?o.hideToolTip():o.state.visible&&requestAnimationFrame(o.testAnchor)}),u(o,"setAnchorRef",function(a){return o.anchor=a}),u(o,"setPopoverRef",function(a){return o.popover=a}),u(o,"showToolTip",function(){o.timeoutId||(o.timeoutId=setTimeout(function(){L(function(){o.setState({visible:!0}),V.registerTooltip(o.hideToolTip)})},Vo[o.props.delay]))}),u(o,"positionToolTip",function(){var a=o.props.position;if(!(!o.anchor||!o.popover)){var l=co({anchor:o.anchor,popover:o.popover,position:a,offset:16,arrowConfig:{arrowWidth:12,arrowBuffer:4}}),c=l.position,d=l.left,T=l.top,b=l.arrow,y=document.documentElement.clientWidth||window.innerWidth,m=y/2<d,p={top:T,left:m?"auto":d,right:m?y-d-o.popover.offsetWidth:"auto"};o.setState({visible:!0,calculatedPosition:c,toolTipStyles:p,arrowStyles:b})}}),u(o,"hideToolTip",function(){o.clearAnimationTimeout(),L(function(){o._isMounted&&(o.setState({visible:!1,toolTipStyles:K,arrowStyles:void 0}),V.deregisterToolTip(o.hideToolTip))})}),u(o,"onFocus",function(){o.setState({hasFocus:!0}),o.showToolTip()}),u(o,"onBlur",function(){o.setState({hasFocus:!1}),o.hideToolTip()}),u(o,"onEscapeKey",function(a){a.key===fo&&(o.state.visible&&a.stopPropagation(),o.setState({hasFocus:!1}),o.hideToolTip())}),u(o,"onMouseOut",function(a){(o.anchor===a.relatedTarget||o.anchor!=null&&!o.anchor.contains(a.relatedTarget))&&(o.state.hasFocus||o.hideToolTip()),o.props.onMouseOut&&o.props.onMouseOut(a)}),o}return Ho(e,t),Lo(e,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.props.repositionOnScroll&&window.addEventListener("scroll",this.positionToolTip,!0)}},{key:"componentWillUnmount",value:function(){this.clearAnimationTimeout(),this._isMounted=!1,window.removeEventListener("scroll",this.positionToolTip,!0)}},{key:"componentDidUpdate",value:function(i,s){s.visible===!1&&this.state.visible===!0&&requestAnimationFrame(this.testAnchor),i.repositionOnScroll!==this.props.repositionOnScroll&&(this.props.repositionOnScroll?window.addEventListener("scroll",this.positionToolTip,!0):window.removeEventListener("scroll",this.positionToolTip,!0))}},{key:"render",value:function(){var i=this.props,s=i.children,n=i.className,a=i.anchorClassName,l=i.anchorProps,c=i.content,d=i.title;i.delay;var T=i.display;i.repositionOnScroll;var b=i.disableScreenReaderOutput,y=b===void 0?!1:b,m=zo(i,ko),p=this.state,w=p.arrowStyles,h=p.id,A=p.toolTipStyles,F=p.visible,$=p.calculatedPosition,to=P("euiToolTip",n),io=P(a,l==null?void 0:l.className);return f(no.Fragment,null,f(z,E({},l,{ref:this.setAnchorRef,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onEscapeKey,onMouseOver:this.showToolTip,onMouseOut:this.onMouseOut,id:y?void 0:h,className:io,display:T,isVisible:F}),s),F&&(c||d)&&f(po,null,f(J,E({className:to,style:A,positionToolTip:this.positionToolTip,popoverRef:this.setPopoverRef,title:d,id:h,role:"tooltip",calculatedPosition:$},m),f(Q,{style:w,className:"euiToolTip__arrow",position:$}),f(bo,{onResize:this.positionToolTip},function(ro){return f("div",{ref:ro},c)}))))}}])})(g.Component);u(eo,"defaultProps",{position:"top",delay:"regular",display:"inlineBlock",disableScreenReaderOutput:!1});eo.propTypes={anchorClassName:r.string,anchorProps:r.shape({className:r.string,"aria-label":r.string,"data-test-subj":r.string,css:r.any}),children:r.element.isRequired,className:r.string,content:r.node,display:r.any,delay:r.oneOf(["regular","long"]).isRequired,title:r.node,id:r.string,position:r.oneOf(["top","right","bottom","left"]).isRequired,repositionOnScroll:r.bool,disableScreenReaderOutput:r.bool,onMouseOut:r.func,"aria-label":r.string,"data-test-subj":r.string,css:r.any};export{eo as E};
