"use strict";(self.webpackChunk_ts4nfdi_terminology_service_suite=self.webpackChunk_ts4nfdi_terminology_service_suite||[]).push([[20415],{"./node_modules/@elastic/eui/es/components/button/button.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{oO:()=>EuiButton});__webpack_require__("./node_modules/react/index.js");var prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_themes_amsterdam_global_styling_mixins_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@elastic/eui/es/themes/amsterdam/global_styling/mixins/button.js"),_button_display_button_display__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@elastic/eui/es/components/button/button_display/_button_display.js"),_emotion_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),_excluded=["className","buttonRef","size","color","fill"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var EuiButton=function EuiButton(_ref){var className=_ref.className,buttonRef=_ref.buttonRef,_ref$size=_ref.size,size=void 0===_ref$size?"m":_ref$size,_ref$color=_ref.color,color=void 0===_ref$color?"primary":_ref$color,fill=_ref.fill,rest=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],t.indexOf(o)>=0||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),isDisabled=(0,_button_display_button_display__WEBPACK_IMPORTED_MODULE_2__.j)({href:rest.href,isDisabled:rest.isDisabled||rest.disabled,isLoading:rest.isLoading}),buttonColorStyles=(0,_themes_amsterdam_global_styling_mixins_button__WEBPACK_IMPORTED_MODULE_3__.rs)({display:fill?"fill":"base"})[isDisabled?"disabled":color],buttonFocusStyle=(0,_themes_amsterdam_global_styling_mixins_button__WEBPACK_IMPORTED_MODULE_3__.ap)(),classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("euiButton",className),cssStyles=[buttonColorStyles,buttonFocusStyle];return(0,_emotion_react__WEBPACK_IMPORTED_MODULE_4__.Y)(_button_display_button_display__WEBPACK_IMPORTED_MODULE_2__.M,_extends({className:classes,css:cssStyles,ref:buttonRef,size},rest))};EuiButton.propTypes={href:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,onClick:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func,children:prop_types__WEBPACK_IMPORTED_MODULE_5___default().node,fill:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool,color:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,size:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,isDisabled:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool,className:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,"aria-label":prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,"data-test-subj":prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,css:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,buttonRef:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,element:prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOf(["a","button","span"]),isSelected:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool,fullWidth:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool,minWidth:prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_5___default().any.isRequired,prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOf([!1])]),isLoading:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool,contentProps:prop_types__WEBPACK_IMPORTED_MODULE_5___default().shape({className:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,"aria-label":prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,"data-test-subj":prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,css:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any}),style:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,type:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,iconType:prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOf(["accessibility","addDataApp","advancedSettingsApp","agentApp","aggregate","analyzeEvent","annotation","anomalyChart","anomalySwimLane","apmApp","apmTrace","appSearchApp","apps","arrowDown","arrowLeft","arrowRight","arrowUp","arrowStart","arrowEnd","article","asterisk","at","auditbeatApp","beaker","bell","bellSlash","beta","bolt","boxesHorizontal","boxesVertical","branch","branchUser","broom","brush","bug","bullseye","calendar","canvasApp","casesApp","changePointDetection","check","checkInCircleFilled","cheer","classificationJob","clickLeft","clickRight","clock","clockCounter","cloudDrizzle","cloudStormy","cloudSunny","cluster","codeApp","color","compute","console","consoleApp","container","continuityAbove","continuityAboveBelow","continuityBelow","continuityWithin","controlsHorizontal","controlsVertical","copy","copyClipboard","createAdvancedJob","createMultiMetricJob","createPopulationJob","createSingleMetricJob","cross","crossClusterReplicationApp","crossInCircle","crosshairs","currency","cut","dashboardApp","dataVisualizer","database","desktop","devToolsApp","diff","discoverApp","discuss","document","documentEdit","documentation","documents","dot","dotInCircle","doubleArrowLeft","doubleArrowRight","download","editorAlignCenter","editorAlignLeft","editorAlignRight","editorBold","editorChecklist","editorCodeBlock","editorComment","editorDistributeHorizontal","editorDistributeVertical","editorHeading","editorItalic","editorItemAlignBottom","editorItemAlignCenter","editorItemAlignLeft","editorItemAlignMiddle","editorItemAlignRight","editorItemAlignTop","editorLink","editorOrderedList","editorPositionBottomLeft","editorPositionBottomRight","editorPositionTopLeft","editorPositionTopRight","editorRedo","editorStrike","editorTable","editorUnderline","editorUndo","editorUnorderedList","email","empty","emsApp","endpoint","eql","eraser","error","errorFilled","esqlVis","exit","expand","expandMini","exportAction","eye","eyeClosed","faceHappy","faceNeutral","faceSad","fieldStatistics","filebeatApp","filter","filterExclude","filterIgnore","filterInclude","filterInCircle","flag","fleetApp","fold","folderCheck","folderClosed","folderExclamation","folderOpen","frameNext","framePrevious","fullScreen","fullScreenExit","function","gear","gisApp","glasses","globe","grab","grabHorizontal","grabOmnidirectional","gradient","graphApp","grid","grokApp","heart","heartbeatApp","heatmap","help","home","iInCircle","image","importAction","index","indexClose","indexEdit","indexFlush","indexManagementApp","indexMapping","indexOpen","indexPatternApp","indexRollupApp","indexRuntime","indexSettings","indexTemporary","infinity","inputOutput","inspect","invert","ip","key","keyboard","kqlField","kqlFunction","kqlOperand","kqlSelector","kqlValue","kubernetesNode","kubernetesPod","launch","layers","lensApp","lettering","lineDashed","lineDotted","lineSolid","link","list","listAdd","lock","lockOpen","logPatternAnalysis","logRateAnalysis","logoAWS","logoAWSMono","logoAerospike","logoApache","logoAppSearch","logoAzure","logoAzureMono","logoBeats","logoBusinessAnalytics","logoCeph","logoCloud","logoCloudEnterprise","logoCode","logoCodesandbox","logoCouchbase","logoDocker","logoDropwizard","logoElastic","logoElasticStack","logoElasticsearch","logoEnterpriseSearch","logoEtcd","logoGCP","logoGCPMono","logoGithub","logoGmail","logoGolang","logoGoogleG","logoHAproxy","logoIBM","logoIBMMono","logoKafka","logoKibana","logoKubernetes","logoLogging","logoLogstash","logoMaps","logoMemcached","logoMetrics","logoMongodb","logoMySQL","logoNginx","logoObservability","logoOsquery","logoPhp","logoPostgres","logoPrometheus","logoRabbitmq","logoRedis","logoSecurity","logoSiteSearch","logoSketch","logoSlack","logoUptime","logoVulnerabilityManagement","logoWebhook","logoWindows","logoWorkplaceSearch","logsApp","logstashFilter","logstashIf","logstashInput","logstashOutput","logstashQueue","machineLearningApp","magnet","magnifyWithExclamation","magnifyWithMinus","magnifyWithPlus","managementApp","mapMarker","memory","menu","menuDown","menuLeft","menuRight","menuUp","merge","metricbeatApp","metricsApp","minimize","minus","minusInCircle","minusInCircleFilled","minusInSquare","mobile","monitoringApp","moon","move","namespace","nested","newChat","node","notebookApp","number","offline","online","outlierDetectionJob","package","packetbeatApp","pageSelect","pagesSelect","palette","paperClip","partial","pause","payment","pencil","percent","pin","pinFilled","pipeBreaks","pipelineApp","pipeNoBreaks","pivot","play","playFilled","plus","plusInCircle","plusInCircleFilled","plusInSquare","popout","push","questionInCircle","quote","recentlyViewedApp","refresh","regressionJob","reporter","reportingApp","returnKey","save","savedObjectsApp","scale","search","searchProfilerApp","securityAnalyticsApp","securityApp","securitySignal","securitySignalDetected","securitySignalResolved","sessionViewer","shard","share","singleMetricViewer","snowflake","sortAscending","sortDescending","sortDown","sortLeft","sortRight","sortUp","sortable","spaces","spacesApp","sparkles","sqlApp","starEmpty","starEmptySpace","starFilled","starFilledSpace","starMinusEmpty","starMinusFilled","starPlusEmpty","starPlusFilled","stats","stop","stopFilled","stopSlash","storage","string","submodule","sun","swatchInput","symlink","tableDensityCompact","tableDensityExpanded","tableDensityNormal","tableOfContents","tag","tear","temperature","timeline","timelineWithArrow","timelionApp","timeRefresh","timeslider","training","transitionLeftIn","transitionLeftOut","transitionTopIn","transitionTopOut","trash","unfold","unlink","upgradeAssistantApp","uptimeApp","user","userAvatar","users","usersRolesApp","vector","videoPlayer","visArea","visAreaStacked","visBarHorizontal","visBarHorizontalStacked","visBarVertical","visBarVerticalStacked","visGauge","visGoal","visLine","visMapCoordinate","visMapRegion","visMetric","visPie","visTable","visTagCloud","visText","visTimelion","visVega","visVisualBuilder","visualizeApp","vulnerabilityManagementApp","warning","warningFilled","alert","watchesApp","wordWrap","wordWrapDisabled","workplaceSearchApp","wrench","tokenAlias","tokenAnnotation","tokenArray","tokenBinary","tokenBoolean","tokenClass","tokenCompletionSuggester","tokenConstant","tokenDate","tokenDimension","tokenElement","tokenEnum","tokenEnumMember","tokenEvent","tokenException","tokenField","tokenFile","tokenFlattened","tokenFunction","tokenGeo","tokenHistogram","tokenInterface","tokenIP","tokenJoin","tokenKey","tokenKeyword","tokenMethod","tokenMetricCounter","tokenMetricGauge","tokenModule","tokenNamespace","tokenNested","tokenNull","tokenNumber","tokenObject","tokenOperator","tokenPackage","tokenParameter","tokenPercolator","tokenProperty","tokenRange","tokenRankFeature","tokenRankFeatures","tokenRepo","tokenSearchType","tokenSemanticText","tokenShape","tokenString","tokenStruct","tokenSymbol","tokenTag","tokenText","tokenTokenCount","tokenVariable","tokenVectorDense","tokenDenseVector","tokenVectorSparse"]).isRequired,prop_types__WEBPACK_IMPORTED_MODULE_5___default().string.isRequired,prop_types__WEBPACK_IMPORTED_MODULE_5___default().elementType.isRequired]),iconSide:prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_5___default().any.isRequired,prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOf([void 0])]),textProps:prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_5___default().shape({className:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,"aria-label":prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,"data-test-subj":prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,css:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,ref:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,"data-text":prop_types__WEBPACK_IMPORTED_MODULE_5___default().string}).isRequired,prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOf([!1])]),iconSize:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any}},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[8].use[1]!./src/style/ts4nfdiStyles/ts4nfdiGraphStyle.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,'.ts4nfdi-graph-style {\n  font-family: "Inter", BlinkMacSystemFont, Helvetica, Arial, sans-serif;\n}\n\n.ts4nfdi-graph-style button {\n  border: none;\n  font-family: "Inter", BlinkMacSystemFont, Helvetica, Arial, sans-serif;\n}\n',"",{version:3,sources:["webpack://./src/style/ts4nfdiStyles/ts4nfdiGraphStyle.css"],names:[],mappings:"AAAA;EACE,sEAAsE;AACxE;;AAEA;EACE,YAAY;EACZ,sEAAsE;AACxE",sourcesContent:['.ts4nfdi-graph-style {\n  font-family: "Inter", BlinkMacSystemFont, Helvetica, Arial, sans-serif;\n}\n\n.ts4nfdi-graph-style button {\n  border: none;\n  font-family: "Inter", BlinkMacSystemFont, Helvetica, Arial, sans-serif;\n}\n'],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./src/app/globals.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$R:()=>TIB_API_ENDPOINT,Kb:()=>GATEWAY_API_ENDPOINT,RC:()=>ZBMED_OLS4_API,gB:()=>ZBMED_OLS3_API,o6:()=>FINTO_V1_API_ENDPOINT,wS:()=>EBI_API_ENDPOINT});const TIB_API_ENDPOINT="https://api.terminology.tib.eu/api/",GATEWAY_API_ENDPOINT="https://ts4nfdi-api-gateway.prod.km.k8s.zbmed.de/api-gateway/",ZBMED_OLS4_API="https://semanticlookup.zbmed.de/ols/api/",ZBMED_OLS3_API="https://ols3-semanticlookup.zbmed.de/ols/api/",EBI_API_ENDPOINT="https://www.ebi.ac.uk/ols4/api/",FINTO_V1_API_ENDPOINT="https://api.finto.fi/rest/v1"},"./src/components/widgets/GraphViewWidget/GraphViewWidget.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ChebiCaffeineHierarchy:()=>ChebiCaffeineHierarchy,ChebiWater:()=>ChebiWater,ChebiWaterRootWalk:()=>ChebiWaterRootWalk,GraphViewWidgetExample:()=>GraphViewWidgetExample,RootWalkGraphExample:()=>RootWalkGraphExample,WithOnNodeDoubleClickCallback:()=>WithOnNodeDoubleClickCallback,__namedExportsOrder:()=>__namedExportsOrder,default:()=>GraphViewWidget_stories});var GraphViewWidget=__webpack_require__("./src/components/widgets/GraphViewWidget/GraphViewWidget.tsx"),globals=__webpack_require__("./src/app/globals.ts"),storyArgs=__webpack_require__("./src/stories/storyArgs.ts");const GraphViewWidgetStoryArgTypes={...storyArgs.dg,...storyArgs.j0,...storyArgs.u4,rootWalk:{required:!1,description:"When true, the graph will show the tree hierarchy for the target node in form of a graph.",table:{defaultValue:{summary:!1}},type:{summary:"boolean"}}},GraphViewWidgetStoryArgs={api:globals.wS,iri:"",ontologyId:"",rootWalk:!1},GraphViewWidgetExample={args:{api:globals.$R,iri:"http://purl.obolibrary.org/obo/OBI_0000070",ontologyId:"vibso",rootWalk:!1}},RootWalkGraphExample={args:{api:globals.$R,iri:"http://purl.obolibrary.org/obo/OBI_0000070",ontologyId:"vibso",rootWalk:!0},parameters:{docs:{disable:!0}}},ChebiWater={args:{api:globals.wS,iri:"http://purl.obolibrary.org/obo/CHEBI_15377",ontologyId:"chebi",rootWalk:!1},parameters:{docs:{disable:!0}}},ChebiWaterRootWalk={args:{api:globals.wS,iri:"http://purl.obolibrary.org/obo/CHEBI_15377",ontologyId:"chebi",rootWalk:!0},parameters:{docs:{disable:!0}}},ChebiCaffeineHierarchy={args:{api:globals.wS,iri:"http://purl.obolibrary.org/obo/CHEBI_27732",ontologyId:"chebi",rootWalk:!0,hierarchy:!0},parameters:{docs:{disable:!0}}},WithOnNodeDoubleClickCallback={args:{api:globals.wS,iri:"http://purl.obolibrary.org/obo/CHEBI_27732",ontologyId:"chebi",rootWalk:!0,hierarchy:!0,onNodeClick:iri=>{let url=`https://www.ebi.ac.uk/ols4/api/v2/ontologies/chebi/classes/${encodeURIComponent(encodeURIComponent(iri))}?includeObsoleteEntities=true`;window.open(url,"_blank")?.focus()}},parameters:{docs:{disable:!0}}};var widgetDescriptions=__webpack_require__("./src/app/widgetDescriptions.ts");const GraphViewWidget_stories={title:"Hierarchy and Graph/GraphViewWidget",component:GraphViewWidget.O,parameters:{layout:"centered",docs:{description:{component:widgetDescriptions.mG}}},argTypes:GraphViewWidgetStoryArgTypes,args:GraphViewWidgetStoryArgs},__namedExportsOrder=["GraphViewWidgetExample","RootWalkGraphExample","ChebiWater","ChebiWaterRootWalk","ChebiCaffeineHierarchy","WithOnNodeDoubleClickCallback"]},"./src/components/widgets/GraphViewWidget/GraphViewWidget.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>GraphViewWidget});var react=__webpack_require__("./node_modules/react/index.js"),OlsApi=(__webpack_require__("./node_modules/react-dom/index.js"),__webpack_require__("./src/api/OlsApi.ts")),es=__webpack_require__("./node_modules/react-query/es/index.js"),button_empty=__webpack_require__("./node_modules/@elastic/eui/es/components/button/button_empty/button_empty.js"),text_text=__webpack_require__("./node_modules/@elastic/eui/es/components/text/text.js"),panel=__webpack_require__("./node_modules/@elastic/eui/es/components/panel/panel.js"),button_button=__webpack_require__("./node_modules/@elastic/eui/es/components/button/button.js"),popover=__webpack_require__("./node_modules/@elastic/eui/es/components/popover/popover.js"),switch_switch=__webpack_require__("./node_modules/@elastic/eui/es/components/form/switch/switch.js"),loading_spinner=__webpack_require__("./node_modules/@elastic/eui/es/components/loading/loading_spinner.js"),provider=__webpack_require__("./node_modules/@elastic/eui/es/components/provider/provider.js"),vis_network_min=__webpack_require__("./node_modules/vis-network/peer/umd/vis-network.min.js"),vis_data_min=__webpack_require__("./node_modules/vis-data/peer/umd/vis-data.min.js"),util=__webpack_require__("./src/app/util.ts"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),ts4nfdiGraphStyle=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[8].use[1]!./src/style/ts4nfdiStyles/ts4nfdiGraphStyle.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ts4nfdiGraphStyle.A,options);ts4nfdiGraphStyle.A&&ts4nfdiGraphStyle.A.locals&&ts4nfdiGraphStyle.A.locals;var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function GraphViewWidget(props){const{api,iri,ontologyId,rootWalk,className,hierarchy,edgeLabel,onNodeClick}=props,[selectedIri,setSelectedIri]=(0,react.useState)(iri),[firstLoad,setFirstLoad]=(0,react.useState)(!0),[dbclicked,setDbclicked]=(0,react.useState)(!1),[rootWalkIsSelected,setRootWalkIsSelected]=(0,react.useState)(rootWalk||!1),[hierarchicalView,setHierarchicalView]=(0,react.useState)(!!hierarchy),[isPopoverOpen,setIsPopoverOpen]=(0,react.useState)(!1),[counter,setCounter]=(0,react.useState)(0),olsApi=new OlsApi.l(api),finalClassName=className||"ts4nfdi-graph-style",subClassEdgeLabel=edgeLabel&&"undefined"!==edgeLabel?edgeLabel:"is a",onNodeClickCallbackIdProvided="function"==typeof onNodeClick&&!onNodeClick.name.includes("mockConstructor"),{data,isLoading,isError,error}=(0,es.useQuery)(["termGraph",api,selectedIri,ontologyId,rootWalkIsSelected,dbclicked,counter],(async()=>{if(rootWalkIsSelected&&firstLoad&&!hierarchicalView)return{treeData:await olsApi.getTermTree({ontologyId,termIri:iri},{viewMode:"All",siblings:!1})};if(rootWalkIsSelected&&firstLoad&&hierarchicalView){return{treeData:await olsApi.getTermTree({ontologyId,termIri:iri},{viewMode:"All",siblings:!1}),termRelations:await olsApi.getTermRelations({ontologyId,termIri:selectedIri})}}return firstLoad||dbclicked?{termRelations:await olsApi.getTermRelations({ontologyId,termIri:selectedIri})}:void 0})),nodes=(0,react.useRef)(new vis_data_min.DataSet([])),edges=(0,react.useRef)(new vis_data_min.DataSet([])),graphNetwork=(0,react.useRef)({}),container=(0,react.useRef)(null),hierarchicalConfig={enabled:!0,direction:"DU",sortMethod:"directed"},graphNetworkConfig={autoResize:!0,height:"100%",width:"100%",locale:"en",layout:{randomSeed:1,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1}},physics:{enabled:!0,barnesHut:{gravitationalConstant:-2e4,centralGravity:.3,springLength:10,springConstant:.04,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{damping:.09,avoidOverlap:.9}}};hierarchicalView&&(graphNetworkConfig.layout.hierarchical=hierarchicalConfig);class GraphNode{constructor(_ref){let{node}=_ref;this.id=node.iri,this.label=node.label,this.color={background:"#455469",highlight:{border:"#404040",background:"#404040"}},this.shape="box",this.font={color:"white"}}}class GraphEdge{constructor(_ref2){let{edge}=_ref2;edge.source&&edge.target&&edge.uri&&(this.id=edge.source+edge.target+"&uri="+edge.uri,this.from=edge.source,this.to=edge.target,this.label=edge.label,this.arrows={to:!0},this.width=2,this.color={color:"gray",highlight:"#00617C"},this.font={size:16})}}if(data&&(firstLoad||dbclicked)){let gData=data.termRelations;data.treeData&&rootWalkIsSelected&&firstLoad&&!hierarchicalView?gData=convertToOlsGraphFormat(data.treeData,void 0):data.termRelations&&data.treeData&&rootWalkIsSelected&&firstLoad&&hierarchicalView&&(gData=convertToOlsGraphFormat(data.treeData,data.termRelations));for(let node of gData.nodes){let gNode=new GraphNode({node});nodes.current.get(gNode.id)||(gNode.id===iri&&rootWalkIsSelected&&(gNode.color.background="#0BBBEF",gNode.font.color="black"),nodes.current.add(gNode))}for(let edge of gData.edges){let gEdge=new GraphEdge({edge}),dashed="http://www.w3.org/2000/01/rdf-schema#subClassOf"!==edge.uri&&!rootWalkIsSelected;gEdge.dashes=dashed,edges.current.get(gEdge.id)||(gEdge.id?.includes(iri)&&rootWalkIsSelected&&(gEdge.color.color="black"),edges.current.add(gEdge))}firstLoad&&setFirstLoad(!1),dbclicked&&setDbclicked(!1)}function convertToOlsGraphFormat(listOfJsTreeNodes,nodeRelations){let treeData=[];for(let node of listOfJsTreeNodes)if("#"!==node.parent)for(let pn of listOfJsTreeNodes)pn.id===node.parent&&("childrenList"in pn?pn.childrenList.push(node):pn.childrenList=[node],"parentList"in node?node.parentList.push(pn):node.parentList=[pn]);else treeData.push(node);let graphData={nodes:[],edges:[]},q=[...treeData],layerq=[],height=1;for(;;){let node=q[0];if(q=q.slice(1),!graphData.nodes.find((obj=>obj.iri===node.iri))){let gnode={iri:node.iri,label:node.text,level:height};graphData.nodes.push(gnode)}if(node.parentList&&0!==node.parentList.length&&node.parentList.forEach((pn=>{let edge={source:node.iri,target:pn.iri,label:subClassEdgeLabel,uri:"http://www.w3.org/2000/01/rdf-schema#subClassOf"};graphData.edges.find((obj=>obj.source===edge.source&&obj.target===edge.target))||graphData.edges.push(edge)})),node.childrenList&&0!==node.childrenList.length&&layerq.push(...node.childrenList),0===q.length){if(0===layerq.length)break;height+=1,q.push(...layerq),layerq=[]}}if(nodeRelations){let onlyHasPartRelations={nodes:[],edges:[]};for(let edge of nodeRelations.edges)"has part"===edge.label&&(onlyHasPartRelations.edges.push(edge),onlyHasPartRelations.nodes.push(nodeRelations.nodes.find((node=>node.iri===edge.source))),onlyHasPartRelations.nodes.push(nodeRelations.nodes.find((node=>node.iri===edge.target))));graphData.nodes=graphData.nodes.concat(onlyHasPartRelations.nodes),graphData.edges=graphData.edges.concat(onlyHasPartRelations.edges)}return graphData}function reset(){nodes.current.clear(),edges.current.clear(),setSelectedIri(iri),setFirstLoad(!0),setDbclicked(!1),setCounter(counter+1)}(0,react.useEffect)((()=>{let graphData={nodes:nodes.current,edges:edges.current};graphNetwork.current=new vis_network_min.Network(container.current,graphData,graphNetworkConfig)}),[]),(0,react.useEffect)((()=>{graphNetwork.current&&graphNetwork.current.on("doubleClick",(function(params){if(params.nodes.length>0){let nodeIri=params.nodes[0];setSelectedIri(nodeIri),onNodeClickCallbackIdProvided?onNodeClick(nodeIri):setDbclicked(!0)}}))}),[graphNetwork]),(0,react.useEffect)((()=>{reset()}),[rootWalkIsSelected,api,ontologyId,iri]),(0,react.useEffect)((()=>{setRootWalkIsSelected(rootWalk||!1)}),[rootWalk]),(0,react.useEffect)((()=>{setHierarchicalView(hierarchy||!1)}),[hierarchy]),(0,react.useEffect)((()=>{hierarchicalView?graphNetworkConfig.layout.hierarchical=hierarchicalConfig:delete graphNetworkConfig.layout.hierarchical;let graphData={nodes:nodes.current,edges:edges.current};graphNetwork.current=new vis_network_min.Network(container.current,graphData,graphNetworkConfig),graphNetwork.current.on("doubleClick",(function(params){if(params.nodes.length>0){let nodeIri=params.nodes[0];setSelectedIri(nodeIri),onNodeClickCallbackIdProvided?onNodeClick(nodeIri):setDbclicked(!0)}}))}),[hierarchicalView]);const button=(0,jsx_runtime.jsx)(button_empty.XA,{iconType:"iInCircle",iconSide:"right",onClick:()=>setIsPopoverOpen((isPopoverOpen=>!isPopoverOpen)),children:"Guide me"});return(0,jsx_runtime.jsxs)("div",{className:finalClassName,children:[isError&&(0,jsx_runtime.jsx)(text_text.b,{children:(0,util.lr)(error,"graph")}),(0,jsx_runtime.jsxs)(panel.K6,{style:{fontSize:12},paddingSize:"s",borderRadius:"none",children:[(0,jsx_runtime.jsx)(button_button.oO,{size:"s",onClick:reset,children:"Reset"}),(0,jsx_runtime.jsx)(popover.tX,{button,isOpen:isPopoverOpen,closePopover:()=>setIsPopoverOpen(!1),children:(0,jsx_runtime.jsxs)(text_text.b,{style:{width:300,padding:10},children:[(0,jsx_runtime.jsx)("li",{children:"You can expand the nodes by double clicking on them"}),(0,jsx_runtime.jsx)("li",{children:"You can zoom out/in by scrolling on the graph."}),(0,jsx_runtime.jsx)("li",{children:"You can go back to the initial graph by clicking on the Reset button."}),(0,jsx_runtime.jsx)("li",{children:"You can move the nodes and edges around by dragging."}),(0,jsx_runtime.jsx)("li",{children:"Rootwalk toggle enable the root walk mode in the graph, where you can see the path from roots to the target node."})]})}),(0,jsx_runtime.jsxs)("div",{style:{display:"inline-block",float:"right",paddingTop:10},children:[(0,jsx_runtime.jsx)(switch_switch.q,{label:"root walk",checked:rootWalkIsSelected,onChange:()=>{setRootWalkIsSelected(!rootWalkIsSelected)},title:"Enable the root walk mode in the graph: You can see the path from roots to the target node"}),(0,jsx_runtime.jsx)(switch_switch.q,{label:"hierarchy",checked:hierarchicalView,onChange:()=>{setHierarchicalView(!hierarchicalView)},title:"Enable the root walk mode in the graph: You can see the path from roots to the target node"})]})]}),(0,jsx_runtime.jsxs)(panel.K6,{style:{width:900,height:900},hasShadow:!1,hasBorder:!0,borderRadius:"none",children:[isLoading&&(0,jsx_runtime.jsx)(loading_spinner.V,{size:"m"}),(0,jsx_runtime.jsx)("div",{ref:container,className:"graph-container",style:{width:"850px",height:"850px",margin:"auto"}})]})]})}function WrappedGraphViewWidget(props){const queryClient=new es.QueryClient;return(0,jsx_runtime.jsx)(provider.l,{colorMode:"light",globalStyles:!1,children:(0,jsx_runtime.jsx)(es.QueryClientProvider,{client:queryClient,children:(0,jsx_runtime.jsx)(GraphViewWidget,{api:props.api,iri:props.iri,ontologyId:props.ontologyId,rootWalk:props.rootWalk,hierarchy:props.hierarchy,edgeLabel:props.edgeLabel,onNodeClick:props.onNodeClick})})})}GraphViewWidget.displayName="GraphViewWidget",WrappedGraphViewWidget.displayName="WrappedGraphViewWidget",GraphViewWidget.__docgenInfo={description:"",methods:[],displayName:"GraphViewWidget",props:{api:{required:!0,tsType:{name:"string"},description:"The API instance for the API call."},iri:{required:!0,tsType:{name:"string"},description:"Entity IRI whose information you want to fetch."},ontologyId:{required:!0,tsType:{name:"string"},description:"Select a specific ontology by id"},className:{required:!1,tsType:{name:"string"},description:"CSS class for styling"},rootWalk:{required:!1,tsType:{name:"boolean"},description:"When true, the graph will show the tree hierarchy for the target node in form of a graph."},hierarchy:{required:!1,tsType:{name:"boolean"},description:"When true, the graph shows the nodes in their hierarchy based on their position in the tree. It should be used with the rootWalk mode to true."},edgeLabel:{required:!1,tsType:{name:"string"},description:'The edge label in the graph. Default is "is a". Only for sub-class predicators.'},onNodeClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(iri: string) => void",signature:{arguments:[{type:{name:"string"},name:"iri"}],return:{name:"void"}}},description:"Callback function for double clicking on a node in graph. The default behaviour is to expand the node."}}}}}]);