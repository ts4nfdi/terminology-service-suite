(self.webpackChunk_ts4nfdi_terminology_service_suite=self.webpackChunk_ts4nfdi_terminology_service_suite||[]).push([[47138],{"./src/api/OlsApi.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{l:()=>OlsApi});var axios=__webpack_require__("./node_modules/axios/lib/axios.js"),util=__webpack_require__("./src/app/util.ts"),Reified=__webpack_require__("./src/model/Reified.ts");class LinkedEntities{constructor(linkedEntities){this.linkedEntities=linkedEntities?{...linkedEntities}:{}}mergeWith(linkedEntities){return new LinkedEntities(linkedEntities?{...this.linkedEntities,linkedEntities}:{...this.linkedEntities})}getLabelForIri(iri){const linkedEntity=this.linkedEntities[iri];if(linkedEntity){const label=Reified.A.fromJson(linkedEntity.label);if(label&&label.length>0)return label[0].value}}get(iri){return this.linkedEntities[iri]}}class OLS3Thing{constructor(properties){this.properties=properties}getLabel(){return this.properties.label}getId(){return this.properties.id}getIri(){return this.properties.iri}getTypePlural(){return(0,util.DW)(this.getType())}getRdfTypes(){return[]}getName(){return this.getNames()[0]}getNames(){const labels=Reified.A.fromJson(this.properties.label);return labels&&labels.length>0?labels.map((label=>label.value)):[this.getIri()]}getDescription(){const definition=Reified.A.fromJson(this.properties.description);return definition&&definition.length>0?definition.map((def=>def.value||"")).join(" "):""}getOntologyId(){return this.properties.ontology_name}getLabelForIri(id){const linkedEntities=this.properties.linkedEntities;if(linkedEntities){const label=Reified.A.fromJson(linkedEntities[id]?.label);return label[0]?.value||id}return id}getLinkedEntities(){return new LinkedEntities(this.properties.linkedEntities||{})}}class OLS3Entity extends OLS3Thing{isCanonical(){return!0===this.properties.is_defining_ontology}isDeprecated(){return"true"===this.properties["http://www.w3.org/2002/07/owl#deprecated"]}getDeprecationVersion(){return this.properties["http://www.ebi.ac.uk/efo/obsoleted_in_version"]}getDeprecationReason(){return Reified.A.fromJson(this.properties["http://purl.obolibrary.org/obo/IAO_0000231"]).concat(Reified.A.fromJson(this.properties["http://www.ebi.ac.uk/efo/reason_for_obsolescence"]))}getDeprecationReplacement(){return this.properties["http://purl.obolibrary.org/obo/IAO_0100001"]}getRelatedFrom(){return Reified.A.fromJson(this.properties.relatedFrom)}getDescriptionAsArray(){return Reified.A.fromJson(this.properties.description)}hasDirectChildren(){return"true"===this.properties.hasDirectChildren}hasHierarchicalChildren(){return"true"===this.properties.hasHierarchicalChildren}hasChildren(){return this.properties.has_children}getAncestorIris(){return(0,util._j)(this.properties.ancestor)}getHierarchicalAncestorIris(){return(0,util._j)(this.properties.hierarchicalAncestor)}getSynonyms(){return Reified.A.fromJson(this.properties.synonyms)}getAppearsIn(){return this.properties.appearsIn||[]}getCrossReferences(){return this.properties.annotation.has_dbxref||[]}getDefinedBy(){return this.properties.definedBy||[]}getIsDefiningOntology(){return this.properties.is_defining_ontology||void 0}getShortForm(){return this.properties.obo_id||this.properties.short_form}getDepictedBy(){return Reified.A.fromJson([...(0,util._j)(this.properties["http://xmlns.com/foaf/0.1/depicted_by"]||[]),...(0,util._j)(this.properties["http://xmlns.com/foaf/0.1/depiction"]||[])])}isPredicateFromInformalVocabulary(predicate){return predicate.startsWith("http://www.w3.org/2004/02/skos/core#")||predicate.startsWith("http://purl.org/dc/terms/")||predicate.startsWith("http://purl.org/dc/elements/1.1/")||predicate.startsWith("http://schema.org/")}getAnnotationPredicates(){return(0,util._j)(Object.keys(this.properties.annotation))}getAnnotationTitleById(id){return(0,util.s0)(id)}getAnnotationById(id){return Reified.A.fromJson((0,util._j)(this.properties.annotation[id]))}getNumHierarchicalDescendants(){return this.properties.numHierarchicalDescendants?parseInt(this.properties.numHierarchicalDescendants):0}getNumDescendants(){return this.properties.numDescendants?parseInt(this.properties.numDescendants):0}getHierarchicalParentReificationAxioms(parentIri){const hierarchicalParents=Reified.A.fromJson(this.properties.hierarchicalParent);for(const p of hierarchicalParents)if(p.value===parentIri)return p.getMetadata()}}class OLS3Class extends OLS3Entity{getType(){return"class"}getTypePlural(){return"classes"}getParents(){return Reified.A.fromJson(this.properties.hierarchicalParent)}getSuperEntities(){return Reified.A.fromJson(this.properties["http://www.w3.org/2000/01/rdf-schema#subClassOf"])}getEquivalents(){return Reified.A.fromJson(this.properties["http://www.w3.org/2002/07/owl#equivalentClass"])}getDisjointWith(){return(0,util._j)(this.properties["http://www.w3.org/2002/07/owl#disjointWith"])}getHasKey(){return(0,util._j)(this.properties["http://www.w3.org/2002/07/owl#hasKey"])}getSubsets(){return(0,util._j)(this.properties.in_subset)||[]}}class OLS3Property extends OLS3Entity{getType(){return"property"}getParents(){return Reified.A.fromJson(this.properties["http://www.w3.org/2000/01/rdf-schema#subPropertyOf"])}getSuperEntities(){return Reified.A.fromJson(this.properties["http://www.w3.org/2000/01/rdf-schema#subPropertyOf"])}getEquivalents(){return Reified.A.fromJson(this.properties["http://www.w3.org/2002/07/owl#equivalentProperty"])}getDisjointWith(){return(0,util._j)(this.properties["http://www.w3.org/2002/07/owl#propertyDisjointWith"])}getInverseOf(){return(0,util._j)(this.properties["http://www.w3.org/2002/07/owl#inverseOf"])}getDomain(){return(0,util._j)(this.properties["http://www.w3.org/2000/01/rdf-schema#domain"])}getRange(){return(0,util._j)(this.properties["http://www.w3.org/2000/01/rdf-schema#range"])}getPropertyChains(){return Reified.A.fromJson(this.properties["http://www.w3.org/2002/07/owl#propertyChainAxiom"])}}class OLS3Individual extends OLS3Entity{getType(){return"individual"}getParents(){return Reified.A.fromJson(this.properties.directParent)}getEquivalents(){return[]}getSuperEntities(){return Reified.A.fromJson([])}getDifferentFrom(){return(0,util._j)(this.properties["http://www.w3.org/2002/07/owl#differentFrom"])}getSameAs(){return(0,util._j)(this.properties["http://www.w3.org/2002/07/owl#sameAs"])}getIndividualTypes(){const rdfTypes=this.getRdfTypes();return rdfTypes&&Array.isArray(rdfTypes)?rdfTypes.filter((t=>!("http://www.w3.org/2002/07/owl#NamedIndividual"===t||"string"==typeof t&&t.startsWith("http://www.w3.org/2000/01/rdf-schema#")))):[]}}class OLS3Ontology extends OLS3Thing{getType(){return"ontology"}getTypePlural(){return"ontologies"}getOntologyId(){return this.properties.ontologyId}getName(){const names=Reified.A.fromJson(this.properties.config.title||"");return names[0]&&names[0].value||this.getOntologyId()}getDescription(){const descriptions=Reified.A.fromJson(this.properties.config.description||"");return descriptions[0]&&descriptions[0].value||""}getCreators(){return(0,util._j)(this.properties.config.annotations.creator)}getSourceFileTimestamp(){return this.properties.updated}getNumEntities(){return parseInt(this.properties.numberOfEntities)}getNumClasses(){return parseInt(this.properties.numberOfTerms)}getNumProperties(){return parseInt(this.properties.numberOfProperties)}getNumIndividuals(){return parseInt(this.properties.numberOfIndividuals)}getLogoURL(){return this.properties.config.logo||void 0}getOntologyPurl(){return this.properties.config.id}getHomepage(){return this.properties.config.homepage}getMailingList(){return this.properties.config.mailingList}getTracker(){return this.properties.config.tracker}getVersionIri(){return this.properties.config.versionIri}getVersion(){return this.properties.config.version}getVersionFromIri(){const versionIri=this.getVersionIri();if(!versionIri)return"";const versionFromDate=versionIri.match(/\d{4}-\d{2}-\d{2}/);if(versionFromDate&&versionFromDate.length>0)return versionFromDate[0];{const versionFromNumber=versionIri.match(/\/v[d.].*\//);return versionFromNumber?versionFromNumber[0].replaceAll("/","").replace("v",""):""}}getLoaded(){return this.properties.loaded}getAnnotationPredicates(){return this.properties.config&&this.properties.config.annotations?(0,util._j)(Object.keys(this.properties.config.annotations)):[]}getAnnotationTitleById(id){return(0,util.Mv)(id)}getAnnotationById(id){return Reified.A.fromJson((0,util._j)(this.properties.config.annotations[id]).filter((elem=>"string"!=typeof elem||""!==elem)))}getPreferredRoots(){return(0,util._j)(this.properties.hasPreferredRoot)}getLanguages(){return(0,util._j)(this.properties.lang)}getImportsFrom(){return[]}getExportsTo(){return(0,util._j)(this.properties.exportsTo)}getAllowDownload(){return this.properties.config.allowDownload}}class OLS3Ontologies{constructor(properties){this.properties=properties}getTotalOntologies(){return this.properties.length}getNumEntities(){return this.properties.reduce(((total,ontology)=>total+ontology.getNumEntities()),0)}getNumClasses(){return this.properties.reduce(((total,ontology)=>total+ontology.getNumClasses()),0)}getNumProperties(){return this.properties.reduce(((total,ontology)=>total+ontology.getNumProperties()),0)}getNumIndividuals(){return this.properties.reduce(((total,ontology)=>total+ontology.getNumIndividuals()),0)}}class OLS4Thing{constructor(properties){this.properties=properties}getLabel(){return this.properties.label}getId(){return this.properties.id}getIri(){return this.properties.iri}getType(){const types=this.properties.type;for(const type of types)if(-1!==["ontology","class","property","individual"].indexOf(type))return type;throw new Error("unknown type")}getTypePlural(){switch(this.getType()){case"ontology":return"ontologies";case"class":return"classes";case"property":return"properties";case"individual":return"individuals";default:throw new Error("unknown type")}}getRdfTypes(){return(0,util._j)(this.properties["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"])}getName(){return this.getNames()[0]}getNames(){const labels=Reified.A.fromJson(this.properties.label);return labels&&labels.length>0?labels.map((label=>label.value)):[this.getIri()]}getDescription(){const definition=Reified.A.fromJson(this.properties.definition);return definition&&definition.length>0?definition.map((def=>def.value||"")).join(" "):""}getOntologyId(){return this.properties.ontologyId}getLabelForIri(id){const linkedEntities=this.properties.linkedEntities;if(linkedEntities){const label=Reified.A.fromJson(linkedEntities[id]?.label);return label[0]?.value||id}return id}getAnnotationById(id){return Reified.A.fromJson((0,util._j)(this.properties[id]))}getAnnotationTitleById(id){return this.getLabelForIri(id)}getLinkedEntities(){return new LinkedEntities(this.properties.linkedEntities||{})}}class OLS4Entity extends OLS4Thing{isCanonical(){return!0===this.properties.isDefiningOntology}isDeprecated(){return"true"===this.properties["http://www.w3.org/2002/07/owl#deprecated"]}getDeprecationVersion(){return this.properties["http://www.ebi.ac.uk/efo/obsoleted_in_version"]}getDeprecationReason(){return Reified.A.fromJson(this.properties["http://purl.obolibrary.org/obo/IAO_0000231"]).concat(Reified.A.fromJson(this.properties["http://www.ebi.ac.uk/efo/reason_for_obsolescence"]))}getDeprecationReplacement(){return this.properties["http://purl.obolibrary.org/obo/IAO_0100001"]}getRelatedFrom(){return Reified.A.fromJson(this.properties.relatedFrom)}getDescriptionAsArray(){return Reified.A.fromJson(this.properties.definition)}hasDirectChildren(){return"true"===this.properties.hasDirectChildren}hasHierarchicalChildren(){return"true"===this.properties.hasHierarchicalChildren}hasChildren(){return this.hasDirectChildren()||this.hasHierarchicalChildren()}getAncestorIris(){return(0,util._j)(this.properties.ancestor)}getHierarchicalAncestorIris(){return(0,util._j)(this.properties.hierarchicalAncestor)}getSynonyms(){return Reified.A.fromJson(this.properties.synonym)}getAppearsIn(){return this.properties.appearsIn||[]}getCrossReferences(){return this.properties["http://www.geneontology.org/formats/oboInOwl#hasDbXref"]||[]}getDefinedBy(){return this.properties.definedBy||[]}getIsDefiningOntology(){return this.properties.is_defining_ontology||void 0}getShortForm(){return this.properties.curie||this.properties.shortForm}getDepictedBy(){return Reified.A.fromJson([...(0,util._j)(this.properties["http://xmlns.com/foaf/0.1/depicted_by"]||[]),...(0,util._j)(this.properties["http://xmlns.com/foaf/0.1/depiction"]||[])])}isPredicateFromInformalVocabulary(predicate){return predicate.startsWith("http://www.w3.org/2004/02/skos/core#")||predicate.startsWith("http://purl.org/dc/terms/")||predicate.startsWith("http://purl.org/dc/elements/1.1/")||predicate.startsWith("http://schema.org/")}getAnnotationPredicates(){const definitionProperties=(0,util._j)(this.properties.definitionProperty),synonymProperties=(0,util._j)(this.properties.synonymProperty),hierarchicalProperties=(0,util._j)(this.properties.hierarchicalProperty),annotationPredicates=new Set;for(const predicate of Object.keys(this.properties))if(-1!==predicate.indexOf("://")&&!predicate.startsWith("negativePropertyAssertion+")&&"http://xmlns.com/foaf/0.1/depicted_by"!==predicate&&"http://xmlns.com/foaf/0.1/depiction"!==predicate){if(!this.isPredicateFromInformalVocabulary(predicate)){const linkedEntity=this.getLinkedEntities().get(predicate);if(null!=linkedEntity&&-1!==linkedEntity.type.indexOf("objectProperty"))continue;if(null!=linkedEntity&&-1!==linkedEntity.type.indexOf("dataProperty"))continue}-1===definitionProperties.indexOf(predicate)&&-1===synonymProperties.indexOf(predicate)&&-1===hierarchicalProperties.indexOf(predicate)&&((predicate.startsWith("http://www.w3.org/2000/01/rdf-schema#")||predicate.startsWith("http://www.w3.org/1999/02/22-rdf-syntax-ns#")||predicate.startsWith("http://www.w3.org/2002/07/owl#"))&&"http://www.w3.org/2000/01/rdf-schema#comment"!==predicate&&"http://www.w3.org/2000/01/rdf-schema#seeAlso"!==predicate&&"http://www.w3.org/2002/07/owl#disjointUnionOf"!==predicate||"http://www.geneontology.org/formats/oboInOwl#inSubset"!==predicate&&"http://www.geneontology.org/formats/oboInOwl#id"!==predicate&&annotationPredicates.add(predicate))}return Array.from(annotationPredicates)}getNumHierarchicalDescendants(){return this.properties.numHierarchicalDescendants?parseInt(this.properties.numHierarchicalDescendants):0}getNumDescendants(){return this.properties.numDirectDescendants?parseInt(this.properties.numDirectDescendants):0}getHierarchicalParentReificationAxioms(parentIri){const hierarchicalParents=Reified.A.fromJson(this.properties.hierarchicalParent);for(const p of hierarchicalParents)if(p.value===parentIri)return p.getMetadata()}}class OLS4Class extends OLS4Entity{getParents(){return Reified.A.fromJson(this.properties.hierarchicalParent)}getSuperEntities(){return Reified.A.fromJson(this.properties["http://www.w3.org/2000/01/rdf-schema#subClassOf"])}getEquivalents(){return Reified.A.fromJson(this.properties["http://www.w3.org/2002/07/owl#equivalentClass"])}getDisjointWith(){return(0,util._j)(this.properties["http://www.w3.org/2002/07/owl#disjointWith"])}getHasKey(){return(0,util._j)(this.properties["http://www.w3.org/2002/07/owl#hasKey"])}getSubsets(){return(0,util._j)(this.properties["http://www.geneontology.org/formats/oboInOwl#inSubset"])||[]}}class OLS4Property extends OLS4Entity{getParents(){return Reified.A.fromJson(this.properties["http://www.w3.org/2000/01/rdf-schema#subPropertyOf"])}getSuperEntities(){return Reified.A.fromJson(this.properties["http://www.w3.org/2000/01/rdf-schema#subPropertyOf"])}getEquivalents(){return Reified.A.fromJson(this.properties["http://www.w3.org/2002/07/owl#equivalentProperty"])}getDisjointWith(){return(0,util._j)(this.properties["http://www.w3.org/2002/07/owl#propertyDisjointWith"])}getInverseOf(){return(0,util._j)(this.properties["http://www.w3.org/2002/07/owl#inverseOf"])}getDomain(){return(0,util._j)(this.properties["http://www.w3.org/2000/01/rdf-schema#domain"])}getRange(){return(0,util._j)(this.properties["http://www.w3.org/2000/01/rdf-schema#range"])}getPropertyChains(){return Reified.A.fromJson(this.properties["http://www.w3.org/2002/07/owl#propertyChainAxiom"])}}class OLS4Individual extends OLS4Entity{getParents(){return Reified.A.fromJson(this.properties.directParent)}getEquivalents(){return[]}getSuperEntities(){return Reified.A.fromJson([])}getDifferentFrom(){return(0,util._j)(this.properties["http://www.w3.org/2002/07/owl#differentFrom"])}getSameAs(){return(0,util._j)(this.properties["http://www.w3.org/2002/07/owl#sameAs"])}getIndividualTypes(){const rdfTypes=this.getRdfTypes();return rdfTypes&&Array.isArray(rdfTypes)?rdfTypes.filter((t=>!("http://www.w3.org/2002/07/owl#NamedIndividual"===t||"string"==typeof t&&t.startsWith("http://www.w3.org/2000/01/rdf-schema#")))):[]}}class OLS4Ontology extends OLS4Thing{getOntologyId(){return this.properties.ontologyId}getName(){const names=Reified.A.fromJson(this.properties.label||this.properties.title||"");return names[0]&&names[0].value||this.getOntologyId()}getDescription(){const descriptions=Reified.A.fromJson(this.properties.definition||this.properties.description||"");return descriptions[0]&&descriptions[0].value||""}getCreators(){return(0,util._j)(this.properties["http://purl.org/dc/elements/1.1/creator"])}getSourceFileTimestamp(){return this.properties.sourceFileTimestamp}getNumEntities(){return parseInt(this.properties.numberOfEntities)}getNumClasses(){return parseInt(this.properties.numberOfClasses)}getNumProperties(){return parseInt(this.properties.numberOfProperties)}getNumIndividuals(){return parseInt(this.properties.numberOfIndividuals)}getLogoURL(){return this.properties.depicted_by||void 0}getOntologyPurl(){return this.properties.ontology_purl}getHomepage(){return this.properties.homepage}getMailingList(){return this.properties.mailing_list}getTracker(){return this.properties.tracker}getVersionIri(){return this.properties["http://www.w3.org/2002/07/owl#versionIRI"]}getVersion(){return this.properties["http://www.w3.org/2002/07/owl#versionInfo"]}getVersionFromIri(){const versionIri=this.getVersionIri();if(!versionIri)return"";const versionFromDate=versionIri.match(/\d{4}-\d{2}-\d{2}/);if(versionFromDate&&versionFromDate.length>0)return versionFromDate[0];{const versionFromNumber=versionIri.match(/\/v[d.].*\//);return versionFromNumber?versionFromNumber[0].replaceAll("/","").replace("v",""):""}}getLoaded(){return this.properties.loaded}getAnnotationPredicates(){const annotationPredicates=new Set;for(const predicate of Object.keys(this.properties))-1!==predicate.indexOf("://")&&"http://purl.obolibrary.org/obo/IAO_0000700"!==predicate&&(predicate.startsWith("http://www.w3.org/2000/01/rdf-schema#")||predicate.startsWith("http://www.w3.org/1999/02/22-rdf-syntax-ns#")||predicate.startsWith("http://www.w3.org/2002/07/owl#")||annotationPredicates.add(predicate));return Array.from(annotationPredicates)}getPreferredRoots(){return(0,util._j)(this.properties.hasPreferredRoot)}getLanguages(){return(0,util._j)(this.properties.language)}getImportsFrom(){return(0,util._j)(this.properties.importsFrom)}getExportsTo(){return(0,util._j)(this.properties.exportsTo)}getAllowDownload(){return this.properties.allowDownload}}var ModelTypeCheck=__webpack_require__("./src/model/ModelTypeCheck.ts");function createModelObject(response){let useLegacy,entityType;if(void 0!==response._embedded||void 0!==response.numberOfTerms)useLegacy=!0;else{if(void 0===response.elements&&void 0===response.numberOfClasses)throw Error("Response structure does not correlate to any of the featured response structures: \n ${response.toString()}");useLegacy=!1}if(useLegacy)void 0===response._embedded?entityType="ontology":void 0!==response._embedded.terms?entityType="term":void 0!==response._embedded.properties?entityType="property":void 0!==response._embedded.individuals&&(entityType="individual");else if(void 0===response.elements)entityType="ontology";else{if(void 0===response.elements[0])throw Error("Empty response.");let types=response.elements[0].type;types=types.filter((elem=>(0,ModelTypeCheck.sF)(elem))),types=[...new Set(types)],1===types.length&&(entityType=types[0])}if(void 0===entityType)throw Error("Entity type could not be correctly inferred.");return function createModelObjectWithEntityTypeWithUseLegacy(response,entityType,useLegacy){switch(entityType){case"ontology":return useLegacy?new OLS3Ontology(response):new OLS4Ontology(response);case"term":case"class":return useLegacy?new OLS3Class(getPreferredOntologyJSON((0,util._j)(response._embedded.terms),useLegacy)):new OLS4Class(getPreferredOntologyJSON((0,util._j)(response.elements),useLegacy));case"property":return useLegacy?new OLS3Property(getPreferredOntologyJSON((0,util._j)(response._embedded.properties),useLegacy)):new OLS4Property(getPreferredOntologyJSON((0,util._j)(response.elements),useLegacy));case"individual":return useLegacy?new OLS3Individual(getPreferredOntologyJSON((0,util._j)(response._embedded.individuals),useLegacy)):new OLS4Individual(getPreferredOntologyJSON((0,util._j)(response.elements),useLegacy));default:throw Error('Invalid entity type "'+entityType+'". Must be one of {"term", "class", "ontology", "property", "individual"}')}}(response,entityType,useLegacy)}function getPreferredOntologyJSON(entityArrayResponse,useLegacy){const definingOntologyArr=(0,util._j)(entityArrayResponse).filter((entity=>useLegacy?entity.is_defining_ontology:entity.isDefiningOntology));if(definingOntologyArr.length>0)return definingOntologyArr[0];if(entityArrayResponse.length>0)return entityArrayResponse[0];throw Error("Empty response.")}var Hierarchy=__webpack_require__("./src/model/interfaces/Hierarchy.ts");function isTop(iri){return"http://www.w3.org/2002/07/owl#Thing"===iri||"http://www.w3.org/2002/07/owl#TopObjectProperty"===iri}class OlsApi{constructor(api){this.axiosInstance=axios.A.create({baseURL:api,headers:{Accept:"application/json",Content_Type:"application/json"}})}buildParamsForGet(paginationParams,sortingParams,contentParams,parameter){return sortingParams?{...paginationParams,sort:`${sortingParams.sortField},${sortingParams.sortDir}`,...contentParams,...this.buildOtherParams(parameter)}:{...paginationParams,...contentParams,...this.buildOtherParams(parameter)}}buildPaginationParams(paginationParams){const params={rows:paginationParams?.size};return paginationParams?.page&&(paginationParams.size?params.start=(+paginationParams.page*+paginationParams.size).toString():params.start=(10*+paginationParams.page).toString()),params}buildParamsForSearch(queryParams,paginationParams,contentParams,parameter){const params={q:queryParams.query,exact:queryParams.exactMatch,obsoletes:queryParams.showObsoleteTerms};return queryParams.groupByIri&&(params.groupField=queryParams.groupByIri),queryParams.types&&(params.type=queryParams.types),queryParams.ontology&&(params.ontology=queryParams.ontology),{...params,...this.buildPaginationParams(paginationParams),...contentParams,...this.buildOtherParams(parameter)}}buildOtherParams(parameter){const result={};if(parameter){parameter.split("&").forEach((param=>{const key=param.split("=")[0],value=param.split("=")[1];result[key]=value}))}return result}buildParamsForSelect(queryParams,paginationParams,contentParams,parameters){return{...{q:queryParams.query},...this.buildPaginationParams(paginationParams),...contentParams,...this.buildOtherParams(parameters)}}buildParamsForSuggest(queryParams,paginationParams,contentParams,parameters){return{...{q:queryParams.query},...this.buildPaginationParams(paginationParams),...contentParams,...this.buildOtherParams(parameters)}}check_for_errors(response){if(response.error)throw Error(response.status+" "+response.error+" - "+response.message+" - "+response.exception+" at "+response.path);if(void 0!==response.page&&0===response.page.totalElements)throw Error("Response contains 0 elements");return response}async makeCall(url,config,useLegacy){const apiVersionPrefix=(0,util.LB)(useLegacy)?"":"v2/",response=(await this.axiosInstance.get(apiVersionPrefix+url,config)).data;return this.check_for_errors(response)}getOntologies=async(paginationParams,sortingParams,contentParams,parameter)=>this.makeCall("ontologies",{params:this.buildParamsForGet(paginationParams,sortingParams,contentParams,parameter)},!0);async getOntologiesData(parameter){let response,ontologiesData=[],pageNum=0;do{if(response=await this.getOntologies({size:500..toString(),page:pageNum.toString()},void 0,void 0,parameter),!(response&&response._embedded&&response._embedded.ontologies))throw new Error("Ontologies data not found");ontologiesData=ontologiesData.concat(response._embedded.ontologies.map((ontologyData=>createModelObject(ontologyData)))),pageNum+=1}while(pageNum<response.page.totalPages);return new OLS3Ontologies(ontologiesData)}getTerms=async(paginationParams,sortingParams,contentParams,parameter,useLegacy)=>{const typePrefix=(0,util.LB)(useLegacy)?"terms":"classes";return this.makeCall(typePrefix,{params:this.buildParamsForGet(paginationParams,sortingParams,contentParams)},(0,util.LB)(useLegacy))};getProperties=async(paginationParams,sortingParams,contentParams,parameter,useLegacy)=>this.makeCall("properties",{params:this.buildParamsForGet(paginationParams,sortingParams,contentParams)},(0,util.LB)(useLegacy));getIndividuals=async(paginationParams,sortingParams,contentParams,parameter,useLegacy)=>this.makeCall("individuals",{params:this.buildParamsForGet(paginationParams,sortingParams,contentParams)},(0,util.LB)(useLegacy));getOntology=async(paginationParams,sortingParams,contentParams,parameter,useLegacy)=>{const params={...this.buildOtherParams(parameter)};return this.makeCall("ontologies/"+contentParams?.ontologyId,params,(0,util.LB)(useLegacy))};getEntity=async(paginationParams,sortingParams,contentParams,parameter,useLegacy)=>{const queryPrefix=contentParams?.ontologyId?"ontologies/"+contentParams?.ontologyId+"/":"",params={iri:contentParams?.termIri,...this.buildOtherParams(parameter)};return this.makeCall(queryPrefix+"entities",{params},(0,util.LB)(useLegacy))};getTerm=async(paginationParams,sortingParams,contentParams,parameter,useLegacy,abortSignal)=>{const ontologyPrefix=contentParams?.ontologyId?"ontologies/"+contentParams?.ontologyId+"/":"",typePrefix=(0,util.LB)(useLegacy)?"terms":"classes",params={iri:contentParams?.termIri,...this.buildOtherParams(parameter)};return this.makeCall(ontologyPrefix+typePrefix,{params,signal:abortSignal},(0,util.LB)(useLegacy))};getProperty=async(paginationParams,sortingParams,contentParams,parameter,useLegacy,abortSignal)=>{const queryPrefix=contentParams?.ontologyId?"ontologies/"+contentParams?.ontologyId+"/":"",params={iri:contentParams?.propertyIri,...this.buildOtherParams(parameter)};return this.makeCall(queryPrefix+"properties",{params,signal:abortSignal},(0,util.LB)(useLegacy))};getIndividual=async(paginationParams,sortingParams,contentParams,parameter,useLegacy,abortSignal)=>{const queryPrefix=contentParams?.ontologyId?"ontologies/"+contentParams?.ontologyId+"/":"",params={iri:contentParams?.individualIri,...this.buildOtherParams(parameter)};return this.makeCall(queryPrefix+"individuals",{params,signal:abortSignal},(0,util.LB)(useLegacy))};search=async(queryParams,paginationParams,contentParams,parameter,abortSignal)=>this.makeCall("search",{params:this.buildParamsForSearch(queryParams,paginationParams,contentParams,parameter),signal:abortSignal},!0);select=async(queryParams,paginationParams,contentParams,parameter)=>this.makeCall("select",{params:this.buildParamsForSelect(queryParams,paginationParams,contentParams,parameter)},!0);suggest=async(queryParams,paginationParams,contentParams,parameter)=>this.makeCall("suggest",{params:this.buildParamsForSuggest(queryParams,paginationParams,contentParams,parameter)},!0);getTermTree=async(contentParams,treeParams,paginationParams,sortingParams)=>{let baseRequest="ontologies/"+contentParams?.ontologyId+"/terms";return contentParams.termIri?(baseRequest=baseRequest+"/"+encodeURIComponent(encodeURIComponent(contentParams?.termIri))+"/jstree",treeParams.child?(await this.axiosInstance.get(baseRequest+"/children/"+treeParams.child)).data:(await this.axiosInstance.get(baseRequest,{params:treeParams})).data):(await this.axiosInstance.get(baseRequest+"/roots")).data};getTermRelations=async(contentParams,paginationParams,sortingParams)=>{let baseRequest="ontologies/"+contentParams?.ontologyId+"/terms";if(!contentParams.termIri)return(await this.axiosInstance.get(baseRequest+"/roots")).data;baseRequest=baseRequest+"/"+encodeURIComponent(encodeURIComponent(contentParams?.termIri))+"/graph"};async getEntityObject(iri,entityType,ontologyId,parameter,useLegacy){let response;if(!iri)throw Error("No IRI provided");return response=entityType?await this.getEntityWithEntityTypeProvided(iri,entityType,ontologyId,parameter,useLegacy):(0,util.LB)(useLegacy)?await this.getEntityWithInferredEntityType(iri,ontologyId,parameter):await this.getEntity(void 0,void 0,{ontologyId,termIri:iri},parameter,useLegacy),createModelObject(response)}async getOntologyObject(ontologyId,parameter,useLegacy){return createModelObject(await this.getOntology(void 0,void 0,{ontologyId},parameter,useLegacy))}async getThingObject(iri,thingType,ontologyId,parameter,useLegacy){if(thingType){if((0,ModelTypeCheck.Ps)(thingType)){if(ontologyId)return await this.getOntologyObject(ontologyId,parameter,useLegacy);throw new Error(`ontologyId has to be provided if thingType in {"${ModelTypeCheck.UP.join('", "')}"}.`)}if((0,ModelTypeCheck.p2)(thingType)){if(iri)return await this.getEntityObject(iri,thingType,ontologyId,parameter,useLegacy);throw new Error(`iri has to be provided if thingType in {"${ModelTypeCheck.Op.join('", "')}"}.`)}throw new Error(`Unsupported thingType "${thingType}" provided. Must be in {"${ModelTypeCheck.Z6.join('", "')}"}.`)}if(!iri&&ontologyId)return await this.getOntologyObject(ontologyId,parameter,useLegacy);if(iri)return await this.getEntityObject(iri,thingType,ontologyId,parameter,useLegacy);throw new Error("iri or ontologyId has to be provided if thingType is not provided.")}async getEntityWithEntityTypeProvided(iri,entityType,ontologyId,parameter,useLegacy){switch(entityType){case"term":case"class":return await this.getTerm(void 0,void 0,{ontologyId,termIri:iri},parameter,useLegacy);case"property":return await this.getProperty(void 0,void 0,{ontologyId,propertyIri:iri},parameter,useLegacy);case"individual":return await this.getIndividual(void 0,void 0,{ontologyId,individualIri:iri},parameter,useLegacy);default:throw Error('Invalid entity type "'+entityType+'". Must be one of {"term", "class", "property", "individual"}')}}async getEntityWithInferredEntityType(iri,ontologyId,parameter){const controller=new AbortController,signal=controller.signal;let response;function setAndStop(res){void 0!==res._embedded&&(response=res,controller.abort())}if(await Promise.allSettled([this.getTerm(void 0,void 0,{ontologyId,termIri:iri},parameter,!0,signal).then((res=>{setAndStop(res)})),this.getProperty(void 0,void 0,{ontologyId,propertyIri:iri},parameter,!0,signal).then((res=>{setAndStop(res)})),this.getIndividual(void 0,void 0,{ontologyId,individualIri:iri},parameter,!0,signal).then((res=>{setAndStop(res)}))]),void 0!==response)return response;throw Error("Iri "+iri+" could not be resolved.")}async getAncestors(iri,entityType,ontologyId){let ancestors,includeObsoleteEntities=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ancestors=(0,ModelTypeCheck.yU)(entityType)?await this.makeCall(`${(0,util.vq)(ontologyId,entityType,iri,!1)}/hierarchicalAncestors`,{params:{size:"1000",includeObsoleteEntities}},!1):await this.makeCall(`${(0,util.vq)(ontologyId,entityType,iri,!1)}/ancestors`,{params:{size:"1000",includeObsoleteEntities}},!1),ancestors.elements.map((obj=>createModelObject({elements:[obj]})))}async getJSTree(iri,entityType,ontologyId){return await this.makeCall(`${(0,util.vq)(ontologyId,entityType,iri,!0)}/jstree`,{params:{size:"1000"}},!0)}async getChildren(iri,entityType,ontologyId){let children,includeObsoleteEntities=arguments.length>3&&void 0!==arguments[3]&&arguments[3],useLegacy=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return children=(0,ModelTypeCheck.yU)(entityType)?await this.makeCall(`${(0,util.vq)(ontologyId,ModelTypeCheck.h0[0],iri,useLegacy)}/hierarchicalChildren`,{params:{size:"1000",includeObsoleteEntities}},useLegacy):(0,ModelTypeCheck.Td)(entityType)?useLegacy?await this.makeCall(`${(0,util.vq)(ontologyId,ModelTypeCheck.h0[0],iri,useLegacy)}/descendants`,{params:{size:"1000"}},useLegacy):await this.makeCall(`${(0,util.vq)(ontologyId,ModelTypeCheck.h0[0],iri,useLegacy)}/instances`,{params:{size:"1000",includeObsoleteEntities}},useLegacy):await this.makeCall(`${(0,util.vq)(ontologyId,entityType,iri,useLegacy)}/children`,{params:{size:"1000",includeObsoleteEntities}},useLegacy),useLegacy?children._embedded[(0,ModelTypeCheck.Td)(entityType)?(0,util.DW)(ModelTypeCheck.h0[0],useLegacy):(0,util.DW)(entityType,useLegacy)].map((obj=>createModelObject({_embedded:{[(0,ModelTypeCheck.Td)(entityType)?(0,util.DW)(ModelTypeCheck.h0[0],useLegacy):(0,util.DW)(entityType)]:[obj]}}))):children.elements.map((obj=>createModelObject({elements:[obj]})))}async getRootEntities(entityType,ontologyId){let preferredRoots=arguments.length>2&&void 0!==arguments[2]&&arguments[2],includeObsoleteEntities=arguments.length>3&&void 0!==arguments[3]&&arguments[3],useLegacy=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(useLegacy){if((0,ModelTypeCheck.Td)(entityType))return[];return(await this.makeCall(`${(0,util.vq)(ontologyId,entityType,void 0,useLegacy)}/roots`,{params:{size:"1000",includeObsoleteEntities}},useLegacy))._embedded[(0,util.DW)(entityType,useLegacy)].map((obj=>createModelObject({_embedded:{[(0,util.DW)(entityType,useLegacy)]:[obj]}})))}if((0,ModelTypeCheck.Td)(entityType))return[];return(await this.makeCall(`${(0,util.vq)(ontologyId,entityType,void 0,useLegacy)}`,{params:{size:"1000",includeObsoleteEntities,hasDirectParent:preferredRoots?void 0:"false",isPreferredRoot:preferredRoots?"true":void 0}},useLegacy)).elements.map((obj=>createModelObject({elements:[obj]})))}async getClassInstances(iri,ontologyId){return(await this.makeCall(`${(0,util.vq)(ontologyId,ModelTypeCheck.h0[0],iri,!1)}/instances`,{params:{size:"1000"}},!1)).elements.map((obj=>createModelObject({elements:[obj]})))}async buildHierarchyWithIri(props){const{iri,ontologyId,entityType,preferredRoots=!1,includeObsoleteEntities=!1,keepExpansionStates=!0,showSiblingsOnInit=!1,useLegacy=!1}=props;if(iri)return await this.getEntityObject(iri,entityType,ontologyId,"",useLegacy).then((entity=>this.buildHierarchyWithEntity({entityType:entityType||entity.getType(),ontologyId:ontologyId||entity.getOntologyId(),includeObsoleteEntities,preferredRoots,mainEntity:entity,keepExpansionStates,showSiblingsOnInit,useLegacy})));if(null==entityType||null==ontologyId)throw Error("Either iri or ontologyId and entityType have to be provided.");return await this.buildRootHierarchy({entityType,ontologyId,includeObsoleteEntities,preferredRoots,keepExpansionStates,showSiblingsOnInit,useLegacy})}jsTreeNodeToEntityDataForHierarchy(jsTreeNode){return{iri:jsTreeNode.iri,label:jsTreeNode.text,hasChildren:jsTreeNode.children||jsTreeNode.state.opened,parents:[]}}entityToEntityDataForHierarchy(entity){return{iri:entity.getIri(),label:(0,util._j)(entity.getLabel())[0],definedBy:entity.getDefinedBy(),hasChildren:entity.hasChildren(),numDescendants:entity.getNumHierarchicalDescendants()||entity.getNumDescendants(),parents:entity.getParents()}}async buildRootHierarchy(props){const{ontologyId,entityType,preferredRoots,includeObsoleteEntities,useLegacy}=props,rootEntitiesData=(await this.getRootEntities(entityType,ontologyId,preferredRoots,includeObsoleteEntities,useLegacy)).map((entity=>this.entityToEntityDataForHierarchy(entity))).filter((root=>!isTop(root.iri))),parentChildRelations=new Map,entitiesData=new Map;for(const entityData of rootEntitiesData)parentChildRelations.set(entityData.iri,[]),entitiesData.set(entityData.iri,entityData);return new Hierarchy.O({parentChildRelations,entitiesData,allChildrenPresent:new Set,roots:rootEntitiesData.map((root=>new Hierarchy.n(root))).sort(((a,b)=>(a.entityData.label||a.entityData.iri).localeCompare(b.entityData.label||b.entityData.iri))),api:new OlsApi(this.axiosInstance.getUri()),ontologyId,includeObsoleteEntities,entityType,keepExpansionStates:props.keepExpansionStates,useLegacy})}async buildHierarchyWithEntity(props){const{mainEntity,ontologyId,entityType,preferredRoots,includeObsoleteEntities,showSiblingsOnInit,useLegacy}=props;let entities=[];if(useLegacy){const jsTree=await this.getJSTree(mainEntity.getIri(),entityType,ontologyId),idToIri=new Map,parents=new Map;for(const jsTreeNode of jsTree)idToIri.set(jsTreeNode.id,jsTreeNode.iri),parents.set(jsTreeNode.iri,new Set);for(const jsTreeNode of jsTree){const parArr=parents.get(jsTreeNode.iri),parIri=idToIri.get(jsTreeNode.parent);null!=parArr&&null!=parIri&&parArr.add(parIri)}entities=[];const inArr=new Set;for(const jsTreeNode of jsTree)if(!inArr.has(jsTreeNode.iri)){inArr.add(jsTreeNode.iri),entities.push(this.jsTreeNodeToEntityDataForHierarchy(jsTreeNode));const par=parents.get(jsTreeNode.iri);null!=par&&(entities[entities.length-1].parents=Reified.A.fromJson(Array.from(par.values()))||[])}}else{const ancestors=await this.getAncestors(mainEntity.getIri(),entityType,ontologyId||mainEntity.getOntologyId(),includeObsoleteEntities);entities=[this.entityToEntityDataForHierarchy(mainEntity),...ancestors.map((entity=>this.entityToEntityDataForHierarchy(entity)))]}entities=entities.filter((e=>!isTop(e.iri)));const parentChildRelations=new Map,allChildrenPresent=new Set,entitiesData=new Map;for(const entityData of entities)parentChildRelations.set(entityData.iri,[]),entitiesData.set(entityData.iri,entityData);if(showSiblingsOnInit){const realEntityType=entityType||mainEntity.getType(),entityTypeForQuery="individual"==realEntityType?"class":realEntityType,promises=[];for(const entityData of entities)entityData.iri!=mainEntity.getIri()&&promises.push(new Promise((resolve=>this.getChildren(entityData.iri,entityTypeForQuery,ontologyId,includeObsoleteEntities,useLegacy).then((children=>children.map((child=>this.entityToEntityDataForHierarchy(child))))).then((children=>{const parChildRel=[];for(const child of children){entitiesData.set(child.iri,child);const parRelation=child.parents.filter((par=>par.value==entityData.iri));parChildRel.push({childIri:child.iri,childRelationToParent:parRelation.length>0&&parRelation[0].getMetadata()?parRelation[0].getMetadata().childRelationToParent:void 0})}parentChildRelations.set(entityData.iri,parChildRel),allChildrenPresent.add(entityData.iri)})).then(resolve))));if(await Promise.allSettled(promises),"individual"==realEntityType)for(const parentReified of mainEntity.getParents()){const children=(await this.getChildren(parentReified.value,realEntityType,ontologyId,includeObsoleteEntities)).map((child=>this.entityToEntityDataForHierarchy(child))),parChildRel=[];for(const child of children)parChildRel.push({childIri:child.iri,childRelationToParent:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"});parentChildRelations.set(parentReified.value,parChildRel)}}else for(const entityData of entities){const parents=entityData.parents.filter((parentReified=>!isTop(parentReified.value)));if(entityData.iri==mainEntity?.getIri()&&(0,ModelTypeCheck.Td)(entityType||mainEntity.getType()))for(const parentReified of parents)parentChildRelations.has(parentReified.value)&&parentChildRelations.get(parentReified.value)?.push({childIri:entityData.iri,childRelationToParent:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"});else for(const parentReified of parents)parentChildRelations.has(parentReified.value)&&parentChildRelations.get(parentReified.value)?.push({childIri:entityData.iri,childRelationToParent:parentReified.getMetadata()?parentReified.getMetadata().childRelationToParent:void 0})}for(const rel of parentChildRelations.values())rel.sort(((a,b)=>(entitiesData.get(a.childIri)?.label||a.childIri).localeCompare(entitiesData.get(b.childIri)?.label||b.childIri)));const rootEntities=[];if(preferredRoots){const preferredRootEntities=(await this.getOntologyObject(ontologyId,void 0,useLegacy)).getPreferredRoots();for(const e of preferredRootEntities)entitiesData.has(e)&&rootEntities.push(e)}else for(const entityData of entities){0==entityData.parents.filter((parentReified=>!isTop(parentReified.value))).length&&rootEntities.push(entityData.iri)}function createTreeNode(entityData,childRelationToParent){const node=new Hierarchy.n(entityData);node.childRelationToParent=childRelationToParent;const children=parentChildRelations.get(entityData.iri)||[];for(const child of children){const childData=entitiesData.get(child.childIri);null!=childData&&node.addChild(createTreeNode(childData,child.childRelationToParent))}return node.loadedChildren.length>0&&(node.expanded=!0),node}return new Hierarchy.O({parentChildRelations,entitiesData,allChildrenPresent,roots:rootEntities.map((rootEntity=>createTreeNode(entitiesData.get(rootEntity)))).sort(((a,b)=>(a.entityData.label||a.entityData.iri).localeCompare(b.entityData.label||b.entityData.iri))),api:new OlsApi(this.axiosInstance.getUri()),ontologyId,includeObsoleteEntities,entityType,mainEntityIri:mainEntity?.getIri(),keepExpansionStates:props.keepExpansionStates,useLegacy})}async loadHierarchyChildren(props){if(null==props.entityType)throw Error("EntityType has to be provided to load children in OLS.");return(await this.getChildren(props.nodeToExpand.entityData.iri,props.entityType,props.ontologyId,props.includeObsoleteEntities,props.useLegacy)).map((entity=>this.entityToEntityDataForHierarchy(entity)))}}},"./src/app/util.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{DU:()=>randomString,DW:()=>pluralizeType,FQ:()=>getFrontEndApi,LB:()=>getUseLegacy,Mv:()=>deCamelCase,ZH:()=>capitalize,_j:()=>asArray,fd:()=>isHexColor,lr:()=>getErrorMessageToDisplay,nY:()=>isRgbColor,ng:()=>getEntityTypeName,s0:()=>deUnderscore,vq:()=>getEntityInOntologySuffix,zv:()=>isEuiLinkColor});var _model_ModelTypeCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/model/ModelTypeCheck.ts");function asArray(obj){return Array.isArray(obj)?obj:obj?[obj]:[]}const DEFAULT_USE_LEGACY=!0;function getUseLegacy(useLegacy){return void 0!==useLegacy?useLegacy:DEFAULT_USE_LEGACY}function getEntityTypeName(type){return"term"===type?"class":type}function capitalize(str){return str.charAt(0).toUpperCase()+str.slice(1)}function deCamelCase(str){return capitalize(str).split(/(?=[A-Z][a-z])/).join(" ")}function deUnderscore(str){return capitalize(str).replace("_"," ")}function getFrontEndApi(api){return api.replace(/\/api\/?$/,"/")}function getEntityInOntologySuffix(ontologyId,entityTypeArray,iri,useLegacy){return`ontologies/${ontologyId}/${pluralizeType(asArray(entityTypeArray),useLegacy)}`+(null!=iri?`/${encodeURIComponent(encodeURIComponent(iri))}`:"")}function pluralizeType(typeArray,useLegacy){for(const type of asArray(typeArray))if((0,_model_ModelTypeCheck__WEBPACK_IMPORTED_MODULE_0__.sF)(type)){if((0,_model_ModelTypeCheck__WEBPACK_IMPORTED_MODULE_0__.yU)(type))return getUseLegacy(useLegacy)?"terms":"classes";if((0,_model_ModelTypeCheck__WEBPACK_IMPORTED_MODULE_0__.V$)(type))return"properties";if((0,_model_ModelTypeCheck__WEBPACK_IMPORTED_MODULE_0__.Td)(type))return"individuals";if((0,_model_ModelTypeCheck__WEBPACK_IMPORTED_MODULE_0__.Ps)(type))return"ontologies"}throw new Error("No thingType found to pluralize in provided typeArray.")}function randomString(){return(Math.random()*Math.pow(2,54)).toString(36)}function isHexColor(str){return/^#[0-9A-F]{6}$/i.test(str)}function isRgbColor(str){return/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/i.test(str)}function isEuiLinkColor(str){return["primary","subdued","success","accent","danger","warning","text","ghost"].includes(str)}function getErrorMessageToDisplay(error){let messagePlaceholder=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"information";return"Response contains 0 elements"===error.message?"No elements found":`No ${messagePlaceholder} available`}},"./src/model/ModelTypeCheck.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D4:()=>isClass,Op:()=>entityTypeNames,Ps:()=>isOntologyTypeName,Qg:()=>isEntity,Td:()=>isIndividualTypeName,UP:()=>ontologyTypeNames,V$:()=>isPropertyTypeName,Z6:()=>thingTypeNames,h0:()=>classTypeNames,iV:()=>isIndividual,io:()=>isOntology,p2:()=>isEntityTypeName,sF:()=>isThingTypeName,uM:()=>isProperty,yU:()=>isClassTypeName});const classTypeNames=["class","term"],propertyTypeNames=["property"],individualTypeNames=["individual"],ontologyTypeNames=["ontology"],entityTypeNames=[...classTypeNames,...individualTypeNames,...propertyTypeNames],thingTypeNames=[...entityTypeNames,...ontologyTypeNames];function isClassTypeName(type){return classTypeNames.includes(type)}function isPropertyTypeName(type){return propertyTypeNames.includes(type)}function isIndividualTypeName(type){return individualTypeNames.includes(type)}function isOntologyTypeName(type){return ontologyTypeNames.includes(type)}function isEntityTypeName(type){return entityTypeNames.includes(type)}function isThingTypeName(type){return thingTypeNames.includes(type)}function isClass(thing){return isClassTypeName(thing.getType())}function isProperty(thing){return isPropertyTypeName(thing.getType())}function isIndividual(thing){return isIndividualTypeName(thing.getType())}function isEntity(thing){return isEntityTypeName(thing.getType())}function isOntology(thing){return isOntologyTypeName(thing.getType())}},"./src/model/Reified.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Reified});class Reified{constructor(value,axioms){this.value=value,this.axioms=axioms}static fromJson(jsonNode){return jsonNode?(Array.isArray(jsonNode)||(jsonNode=[jsonNode]),jsonNode.map((value=>"object"==typeof value&&Array.isArray(value.type)&&-1!==value.type.indexOf("reification")?new Reified(value.value,value.axioms):new Reified(value,null)))):[]}hasMetadata(){return null!=this.axioms}getMetadata(){if(!this.axioms)return null;const properties={};for(const axiom of this.axioms)for(const k of Object.keys(axiom)){const v=axiom[k],existing=properties[k];void 0!==existing?existing.push(v):properties[k]=[v]}return properties}}},"./src/model/interfaces/Hierarchy.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>Hierarchy,n:()=>TreeNode});class TreeNode{constructor(entityData,childRelationToParent){this.entityData=entityData,this.loadedChildren=[],this.expanded=!1,this.loading=!1,this.childRelationToParent=childRelationToParent}addChild(child){this.loadedChildren.push(child)}}class Hierarchy{includeObsoleteEntities=false;keepExpansionStates=true;constructor(props){const{parentChildRelations,entitiesData,allChildrenPresent,roots,includeObsoleteEntities,keepExpansionStates,api,mainEntityIri,entityType,ontologyId,useLegacy}=props;this.parentChildRelations=parentChildRelations,this.entitiesData=entitiesData,this.allChildrenPresent=allChildrenPresent,this.roots=roots,null!=includeObsoleteEntities&&(this.includeObsoleteEntities=includeObsoleteEntities),null!=keepExpansionStates&&(this.keepExpansionStates=keepExpansionStates),this.api=api,this.mainEntityIri=mainEntityIri,this.entityType=entityType,this.ontologyId=ontologyId,null!=useLegacy&&(this.useLegacy=useLegacy)}mergeChildrenIntoLoadedChildren(nodeToExpand){const children=this.parentChildRelations.get(nodeToExpand.entityData.iri);if(null==children)throw Error(`parentChildRelations has no entry for key "${nodeToExpand.entityData.iri}" although this should never happen.`);let iLoadedChildren=0;const numLoadedChildren=nodeToExpand.loadedChildren.length;let iChildren=0;for(;iChildren<children.length&&iLoadedChildren<numLoadedChildren;)nodeToExpand.loadedChildren[iLoadedChildren].entityData.iri==children[iChildren].childIri?iLoadedChildren++:nodeToExpand.addChild(new TreeNode(this.entitiesData.get(children[iChildren].childIri),children[iChildren].childRelationToParent)),iChildren++;for(;iChildren<children.length;)nodeToExpand.addChild(new TreeNode(this.entitiesData.get(children[iChildren].childIri),children[iChildren].childRelationToParent)),iChildren++;for(let iLoadedChildren=numLoadedChildren-1;iLoadedChildren>=0;iLoadedChildren--)for(let currIdx=iLoadedChildren+1;currIdx<nodeToExpand.loadedChildren.length;currIdx++){const currNode=nodeToExpand.loadedChildren[currIdx],prevNode=nodeToExpand.loadedChildren[currIdx-1];if(!((currNode.entityData.label||currNode.entityData.iri).localeCompare(prevNode.entityData.label||prevNode.entityData.iri)<0))break;nodeToExpand.loadedChildren[currIdx]=prevNode,nodeToExpand.loadedChildren[currIdx-1]=currNode}}closeNode(nodeToClose){this.keepExpansionStates||(nodeToClose.loadedChildren=[])}async fetchInformationForExpansion(nodeToExpand){if(!nodeToExpand.entityData.hasChildren)throw Error(`Node containing iri="${nodeToExpand.entityData.iri}" could not be expanded: Entity is not expandable.`);const allChildrenPresent=this.allChildrenPresent.has(nodeToExpand.entityData.iri),nodeParentChildRelations=this.parentChildRelations.get(nodeToExpand.entityData.iri)||[];if(!allChildrenPresent||nodeToExpand.loadedChildren.length<=nodeParentChildRelations.length){if(!allChildrenPresent){const children=(await this.api.loadHierarchyChildren({nodeToExpand,entityType:this.entityType,ontologyId:this.ontologyId,includeObsoleteEntities:this.includeObsoleteEntities,useLegacy:this.useLegacy})).sort(((a,b)=>(a.label||a.iri).localeCompare(b.label||b.iri))),parChildRel=[];for(const child of children){this.entitiesData.set(child.iri,child);const parRelation=child.parents.filter((par=>par.value==nodeToExpand.entityData.iri));parChildRel.push({childIri:child.iri,childRelationToParent:parRelation.length>0&&parRelation[0].getMetadata()?parRelation[0].getMetadata().childRelationToParent:void 0})}this.parentChildRelations.set(nodeToExpand.entityData.iri,parChildRel)}return this.mergeChildrenIntoLoadedChildren(nodeToExpand),this.allChildrenPresent.add(nodeToExpand.entityData.iri),!0}return!1}}},"./node_modules/moment/locale sync recursive ^\\.\\/.*$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./af":"./node_modules/moment/locale/af.js","./af.js":"./node_modules/moment/locale/af.js","./ar":"./node_modules/moment/locale/ar.js","./ar-dz":"./node_modules/moment/locale/ar-dz.js","./ar-dz.js":"./node_modules/moment/locale/ar-dz.js","./ar-kw":"./node_modules/moment/locale/ar-kw.js","./ar-kw.js":"./node_modules/moment/locale/ar-kw.js","./ar-ly":"./node_modules/moment/locale/ar-ly.js","./ar-ly.js":"./node_modules/moment/locale/ar-ly.js","./ar-ma":"./node_modules/moment/locale/ar-ma.js","./ar-ma.js":"./node_modules/moment/locale/ar-ma.js","./ar-ps":"./node_modules/moment/locale/ar-ps.js","./ar-ps.js":"./node_modules/moment/locale/ar-ps.js","./ar-sa":"./node_modules/moment/locale/ar-sa.js","./ar-sa.js":"./node_modules/moment/locale/ar-sa.js","./ar-tn":"./node_modules/moment/locale/ar-tn.js","./ar-tn.js":"./node_modules/moment/locale/ar-tn.js","./ar.js":"./node_modules/moment/locale/ar.js","./az":"./node_modules/moment/locale/az.js","./az.js":"./node_modules/moment/locale/az.js","./be":"./node_modules/moment/locale/be.js","./be.js":"./node_modules/moment/locale/be.js","./bg":"./node_modules/moment/locale/bg.js","./bg.js":"./node_modules/moment/locale/bg.js","./bm":"./node_modules/moment/locale/bm.js","./bm.js":"./node_modules/moment/locale/bm.js","./bn":"./node_modules/moment/locale/bn.js","./bn-bd":"./node_modules/moment/locale/bn-bd.js","./bn-bd.js":"./node_modules/moment/locale/bn-bd.js","./bn.js":"./node_modules/moment/locale/bn.js","./bo":"./node_modules/moment/locale/bo.js","./bo.js":"./node_modules/moment/locale/bo.js","./br":"./node_modules/moment/locale/br.js","./br.js":"./node_modules/moment/locale/br.js","./bs":"./node_modules/moment/locale/bs.js","./bs.js":"./node_modules/moment/locale/bs.js","./ca":"./node_modules/moment/locale/ca.js","./ca.js":"./node_modules/moment/locale/ca.js","./cs":"./node_modules/moment/locale/cs.js","./cs.js":"./node_modules/moment/locale/cs.js","./cv":"./node_modules/moment/locale/cv.js","./cv.js":"./node_modules/moment/locale/cv.js","./cy":"./node_modules/moment/locale/cy.js","./cy.js":"./node_modules/moment/locale/cy.js","./da":"./node_modules/moment/locale/da.js","./da.js":"./node_modules/moment/locale/da.js","./de":"./node_modules/moment/locale/de.js","./de-at":"./node_modules/moment/locale/de-at.js","./de-at.js":"./node_modules/moment/locale/de-at.js","./de-ch":"./node_modules/moment/locale/de-ch.js","./de-ch.js":"./node_modules/moment/locale/de-ch.js","./de.js":"./node_modules/moment/locale/de.js","./dv":"./node_modules/moment/locale/dv.js","./dv.js":"./node_modules/moment/locale/dv.js","./el":"./node_modules/moment/locale/el.js","./el.js":"./node_modules/moment/locale/el.js","./en-au":"./node_modules/moment/locale/en-au.js","./en-au.js":"./node_modules/moment/locale/en-au.js","./en-ca":"./node_modules/moment/locale/en-ca.js","./en-ca.js":"./node_modules/moment/locale/en-ca.js","./en-gb":"./node_modules/moment/locale/en-gb.js","./en-gb.js":"./node_modules/moment/locale/en-gb.js","./en-ie":"./node_modules/moment/locale/en-ie.js","./en-ie.js":"./node_modules/moment/locale/en-ie.js","./en-il":"./node_modules/moment/locale/en-il.js","./en-il.js":"./node_modules/moment/locale/en-il.js","./en-in":"./node_modules/moment/locale/en-in.js","./en-in.js":"./node_modules/moment/locale/en-in.js","./en-nz":"./node_modules/moment/locale/en-nz.js","./en-nz.js":"./node_modules/moment/locale/en-nz.js","./en-sg":"./node_modules/moment/locale/en-sg.js","./en-sg.js":"./node_modules/moment/locale/en-sg.js","./eo":"./node_modules/moment/locale/eo.js","./eo.js":"./node_modules/moment/locale/eo.js","./es":"./node_modules/moment/locale/es.js","./es-do":"./node_modules/moment/locale/es-do.js","./es-do.js":"./node_modules/moment/locale/es-do.js","./es-mx":"./node_modules/moment/locale/es-mx.js","./es-mx.js":"./node_modules/moment/locale/es-mx.js","./es-us":"./node_modules/moment/locale/es-us.js","./es-us.js":"./node_modules/moment/locale/es-us.js","./es.js":"./node_modules/moment/locale/es.js","./et":"./node_modules/moment/locale/et.js","./et.js":"./node_modules/moment/locale/et.js","./eu":"./node_modules/moment/locale/eu.js","./eu.js":"./node_modules/moment/locale/eu.js","./fa":"./node_modules/moment/locale/fa.js","./fa.js":"./node_modules/moment/locale/fa.js","./fi":"./node_modules/moment/locale/fi.js","./fi.js":"./node_modules/moment/locale/fi.js","./fil":"./node_modules/moment/locale/fil.js","./fil.js":"./node_modules/moment/locale/fil.js","./fo":"./node_modules/moment/locale/fo.js","./fo.js":"./node_modules/moment/locale/fo.js","./fr":"./node_modules/moment/locale/fr.js","./fr-ca":"./node_modules/moment/locale/fr-ca.js","./fr-ca.js":"./node_modules/moment/locale/fr-ca.js","./fr-ch":"./node_modules/moment/locale/fr-ch.js","./fr-ch.js":"./node_modules/moment/locale/fr-ch.js","./fr.js":"./node_modules/moment/locale/fr.js","./fy":"./node_modules/moment/locale/fy.js","./fy.js":"./node_modules/moment/locale/fy.js","./ga":"./node_modules/moment/locale/ga.js","./ga.js":"./node_modules/moment/locale/ga.js","./gd":"./node_modules/moment/locale/gd.js","./gd.js":"./node_modules/moment/locale/gd.js","./gl":"./node_modules/moment/locale/gl.js","./gl.js":"./node_modules/moment/locale/gl.js","./gom-deva":"./node_modules/moment/locale/gom-deva.js","./gom-deva.js":"./node_modules/moment/locale/gom-deva.js","./gom-latn":"./node_modules/moment/locale/gom-latn.js","./gom-latn.js":"./node_modules/moment/locale/gom-latn.js","./gu":"./node_modules/moment/locale/gu.js","./gu.js":"./node_modules/moment/locale/gu.js","./he":"./node_modules/moment/locale/he.js","./he.js":"./node_modules/moment/locale/he.js","./hi":"./node_modules/moment/locale/hi.js","./hi.js":"./node_modules/moment/locale/hi.js","./hr":"./node_modules/moment/locale/hr.js","./hr.js":"./node_modules/moment/locale/hr.js","./hu":"./node_modules/moment/locale/hu.js","./hu.js":"./node_modules/moment/locale/hu.js","./hy-am":"./node_modules/moment/locale/hy-am.js","./hy-am.js":"./node_modules/moment/locale/hy-am.js","./id":"./node_modules/moment/locale/id.js","./id.js":"./node_modules/moment/locale/id.js","./is":"./node_modules/moment/locale/is.js","./is.js":"./node_modules/moment/locale/is.js","./it":"./node_modules/moment/locale/it.js","./it-ch":"./node_modules/moment/locale/it-ch.js","./it-ch.js":"./node_modules/moment/locale/it-ch.js","./it.js":"./node_modules/moment/locale/it.js","./ja":"./node_modules/moment/locale/ja.js","./ja.js":"./node_modules/moment/locale/ja.js","./jv":"./node_modules/moment/locale/jv.js","./jv.js":"./node_modules/moment/locale/jv.js","./ka":"./node_modules/moment/locale/ka.js","./ka.js":"./node_modules/moment/locale/ka.js","./kk":"./node_modules/moment/locale/kk.js","./kk.js":"./node_modules/moment/locale/kk.js","./km":"./node_modules/moment/locale/km.js","./km.js":"./node_modules/moment/locale/km.js","./kn":"./node_modules/moment/locale/kn.js","./kn.js":"./node_modules/moment/locale/kn.js","./ko":"./node_modules/moment/locale/ko.js","./ko.js":"./node_modules/moment/locale/ko.js","./ku":"./node_modules/moment/locale/ku.js","./ku-kmr":"./node_modules/moment/locale/ku-kmr.js","./ku-kmr.js":"./node_modules/moment/locale/ku-kmr.js","./ku.js":"./node_modules/moment/locale/ku.js","./ky":"./node_modules/moment/locale/ky.js","./ky.js":"./node_modules/moment/locale/ky.js","./lb":"./node_modules/moment/locale/lb.js","./lb.js":"./node_modules/moment/locale/lb.js","./lo":"./node_modules/moment/locale/lo.js","./lo.js":"./node_modules/moment/locale/lo.js","./lt":"./node_modules/moment/locale/lt.js","./lt.js":"./node_modules/moment/locale/lt.js","./lv":"./node_modules/moment/locale/lv.js","./lv.js":"./node_modules/moment/locale/lv.js","./me":"./node_modules/moment/locale/me.js","./me.js":"./node_modules/moment/locale/me.js","./mi":"./node_modules/moment/locale/mi.js","./mi.js":"./node_modules/moment/locale/mi.js","./mk":"./node_modules/moment/locale/mk.js","./mk.js":"./node_modules/moment/locale/mk.js","./ml":"./node_modules/moment/locale/ml.js","./ml.js":"./node_modules/moment/locale/ml.js","./mn":"./node_modules/moment/locale/mn.js","./mn.js":"./node_modules/moment/locale/mn.js","./mr":"./node_modules/moment/locale/mr.js","./mr.js":"./node_modules/moment/locale/mr.js","./ms":"./node_modules/moment/locale/ms.js","./ms-my":"./node_modules/moment/locale/ms-my.js","./ms-my.js":"./node_modules/moment/locale/ms-my.js","./ms.js":"./node_modules/moment/locale/ms.js","./mt":"./node_modules/moment/locale/mt.js","./mt.js":"./node_modules/moment/locale/mt.js","./my":"./node_modules/moment/locale/my.js","./my.js":"./node_modules/moment/locale/my.js","./nb":"./node_modules/moment/locale/nb.js","./nb.js":"./node_modules/moment/locale/nb.js","./ne":"./node_modules/moment/locale/ne.js","./ne.js":"./node_modules/moment/locale/ne.js","./nl":"./node_modules/moment/locale/nl.js","./nl-be":"./node_modules/moment/locale/nl-be.js","./nl-be.js":"./node_modules/moment/locale/nl-be.js","./nl.js":"./node_modules/moment/locale/nl.js","./nn":"./node_modules/moment/locale/nn.js","./nn.js":"./node_modules/moment/locale/nn.js","./oc-lnc":"./node_modules/moment/locale/oc-lnc.js","./oc-lnc.js":"./node_modules/moment/locale/oc-lnc.js","./pa-in":"./node_modules/moment/locale/pa-in.js","./pa-in.js":"./node_modules/moment/locale/pa-in.js","./pl":"./node_modules/moment/locale/pl.js","./pl.js":"./node_modules/moment/locale/pl.js","./pt":"./node_modules/moment/locale/pt.js","./pt-br":"./node_modules/moment/locale/pt-br.js","./pt-br.js":"./node_modules/moment/locale/pt-br.js","./pt.js":"./node_modules/moment/locale/pt.js","./ro":"./node_modules/moment/locale/ro.js","./ro.js":"./node_modules/moment/locale/ro.js","./ru":"./node_modules/moment/locale/ru.js","./ru.js":"./node_modules/moment/locale/ru.js","./sd":"./node_modules/moment/locale/sd.js","./sd.js":"./node_modules/moment/locale/sd.js","./se":"./node_modules/moment/locale/se.js","./se.js":"./node_modules/moment/locale/se.js","./si":"./node_modules/moment/locale/si.js","./si.js":"./node_modules/moment/locale/si.js","./sk":"./node_modules/moment/locale/sk.js","./sk.js":"./node_modules/moment/locale/sk.js","./sl":"./node_modules/moment/locale/sl.js","./sl.js":"./node_modules/moment/locale/sl.js","./sq":"./node_modules/moment/locale/sq.js","./sq.js":"./node_modules/moment/locale/sq.js","./sr":"./node_modules/moment/locale/sr.js","./sr-cyrl":"./node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"./node_modules/moment/locale/sr-cyrl.js","./sr.js":"./node_modules/moment/locale/sr.js","./ss":"./node_modules/moment/locale/ss.js","./ss.js":"./node_modules/moment/locale/ss.js","./sv":"./node_modules/moment/locale/sv.js","./sv.js":"./node_modules/moment/locale/sv.js","./sw":"./node_modules/moment/locale/sw.js","./sw.js":"./node_modules/moment/locale/sw.js","./ta":"./node_modules/moment/locale/ta.js","./ta.js":"./node_modules/moment/locale/ta.js","./te":"./node_modules/moment/locale/te.js","./te.js":"./node_modules/moment/locale/te.js","./tet":"./node_modules/moment/locale/tet.js","./tet.js":"./node_modules/moment/locale/tet.js","./tg":"./node_modules/moment/locale/tg.js","./tg.js":"./node_modules/moment/locale/tg.js","./th":"./node_modules/moment/locale/th.js","./th.js":"./node_modules/moment/locale/th.js","./tk":"./node_modules/moment/locale/tk.js","./tk.js":"./node_modules/moment/locale/tk.js","./tl-ph":"./node_modules/moment/locale/tl-ph.js","./tl-ph.js":"./node_modules/moment/locale/tl-ph.js","./tlh":"./node_modules/moment/locale/tlh.js","./tlh.js":"./node_modules/moment/locale/tlh.js","./tr":"./node_modules/moment/locale/tr.js","./tr.js":"./node_modules/moment/locale/tr.js","./tzl":"./node_modules/moment/locale/tzl.js","./tzl.js":"./node_modules/moment/locale/tzl.js","./tzm":"./node_modules/moment/locale/tzm.js","./tzm-latn":"./node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"./node_modules/moment/locale/tzm-latn.js","./tzm.js":"./node_modules/moment/locale/tzm.js","./ug-cn":"./node_modules/moment/locale/ug-cn.js","./ug-cn.js":"./node_modules/moment/locale/ug-cn.js","./uk":"./node_modules/moment/locale/uk.js","./uk.js":"./node_modules/moment/locale/uk.js","./ur":"./node_modules/moment/locale/ur.js","./ur.js":"./node_modules/moment/locale/ur.js","./uz":"./node_modules/moment/locale/uz.js","./uz-latn":"./node_modules/moment/locale/uz-latn.js","./uz-latn.js":"./node_modules/moment/locale/uz-latn.js","./uz.js":"./node_modules/moment/locale/uz.js","./vi":"./node_modules/moment/locale/vi.js","./vi.js":"./node_modules/moment/locale/vi.js","./x-pseudo":"./node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"./node_modules/moment/locale/x-pseudo.js","./yo":"./node_modules/moment/locale/yo.js","./yo.js":"./node_modules/moment/locale/yo.js","./zh-cn":"./node_modules/moment/locale/zh-cn.js","./zh-cn.js":"./node_modules/moment/locale/zh-cn.js","./zh-hk":"./node_modules/moment/locale/zh-hk.js","./zh-hk.js":"./node_modules/moment/locale/zh-hk.js","./zh-mo":"./node_modules/moment/locale/zh-mo.js","./zh-mo.js":"./node_modules/moment/locale/zh-mo.js","./zh-tw":"./node_modules/moment/locale/zh-tw.js","./zh-tw.js":"./node_modules/moment/locale/zh-tw.js"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./node_modules/moment/locale sync recursive ^\\.\\/.*$"}}]);