"use client";import{b as e}from"./iframe-YnD9Auhi.js";import{u as C}from"./useQuery-CCQGsteZ.js";import{C as ve,E as we,R as B}from"./RenderedReified-DwLrhczp.js";import{O as Pe,r as q,n as De,m as w,l as T,u as b,K as W,x as J,y as Fe,z as _e,o as Le,B as Ce,F as Be,H as qe,p as We,C as Je,G as Xe,I as Ve,j as ze,L as Qe,M as Ge}from"./widgetDescriptions-D-baph22.js";import{D as l,E as d}from"./globals-BQAFDkgj.js";import{E as Me}from"./card-Dq83sohH.js";import{E as Ue}from"./loading_spinner-BVNnrKN2.js";import{E as P}from"./text-C7w47Js1.js";import{E as y}from"./flex_item-rsv50J_W.js";import"./preload-helper-Dp1pzeXC.js";import"./ExpandableOntologyBadgeList-6fmAg6jV.js";import"./OntologyBadge-CPgeh0pk.js";import"./badge-BvLkK6wf.js";import"./href_validator-DdiueOfy.js";import"./color_utils-BikEAeUp.js";import"./_button-BtwWFEXu.js";import"./icon-B0KE5QCF.js";import"./inner_text-D6Nf48xK.js";import"./icon_tip-D2ZEU4yV.js";import"./tool_tip-js9y4buK.js";import"./shadow-Bm-oQzQh.js";import"./panel-B3lBZLDB.js";import"./observer-5i9BUrBX.js";import"./portal-DAy9L_me.js";import"./button-nt4-OZz3.js";import"./_button_display-BKoHyUFi.js";import"./title-Bfi9Rhce.js";import"./link.styles-BL-nBnb2.js";const He=!0;function u(t,i,a=l,n){return e.jsx(e.Fragment,{children:i.length===1?e.jsx("p",{children:e.jsx(B,{parentEntity:t,reified:W(i[0]),showBadges:a,onNavigates:n})}):e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:i.map(r=>e.jsx("li",{children:e.jsx(B,{parentEntity:t,reified:W(r),showBadges:a,onNavigates:n})},b()))}),e.jsx("p",{})]})})}function Ke(t,i=l,a){const n=t.getRdfTypes().filter(r=>r!=="http://www.w3.org/2002/07/owl#NamedIndividual"&&!r.startsWith("http://www.w3.org/2000/01/rdf-schema#"));if(t.getRdfTypes().length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Type"}),u(t,n,i,a)]})}function Ye(t,i=l,a){const n=t.getSameAs();if(n.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Same As"}),u(t,n,i,a)]})}function Ze(t,i=l,a){const n=t.getDifferentFrom();if(n.length>0)return e.jsx(e.Fragment,{children:e.jsxs(y,{children:[e.jsx("b",{children:"Different from"}),u(t,n,i,a)]})})}function $e(t,i=l,a){const n=t.getDisjointWith();if(n.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Disjoint with"}),u(t,n,i,a)]})}function et(t,i=l,a){const n=t.getInverseOf();if(n.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Inverse of"}),u(t,n,i,a)]})}function X(t,i,a=l,n){return J(t).slice().reverse().map((r,o)=>e.jsxs("span",{children:[e.jsx(ve,{parentEntity:i,linkedEntities:i.getLinkedEntities(),currentResponsePath:r,showBadges:a,onNavigates:n}),e.jsx(e.Fragment,{children:o<J(t).length-1&&e.jsx("span",{style:{fontSize:"medium",color:"gray"},children:" ◂ "})})]},r))}function tt(t,i=l,a){const n=t.getPropertyChains().map(o=>o.value),r=n.filter(o=>Array.isArray(o)).length>0;if(n.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:r?"Property chains":"Property chain"}),r?e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:n.map(o=>e.jsx("li",{children:X(o,t,i,a)},b()))}),e.jsx("p",{})]}):e.jsx("p",{children:X(n,t,i,a)})]})}function nt(t,i=l,a){const n=t.getEquivalents();if(n.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Equivalent to"}),u(t,n.map(r=>r.value),i,a)]})}function it(t,i=l,a){const n=t.getSuperEntities();if(n.length>0)return e.jsxs(y,{children:[e.jsxs("b",{children:["Sub",t.getType()," of"]}),u(t,n,i,a)]})}function at(t,i=l,a){const n=t.getRelatedFrom(),r=Array.from(new Set(n.map(o=>o.value.property)));if(n.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Related from"}),r.map(o=>{const h=t.getLinkedEntities().getLabelForIri(o);return e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("a",{style:{color:"black"},href:o,children:e.jsx("i",{children:h||o})})}),e.jsxs(e.Fragment,{children:[e.jsx("ul",{style:{marginBottom:0},children:n.filter(f=>f.value.property===o).map(f=>e.jsx("li",{children:e.jsx(ve,{parentEntity:t,linkedEntities:t.getLinkedEntities(),currentResponsePath:f.value.value,showBadges:i,onNavigates:a})},b()))}),e.jsx("p",{})]}),e.jsx("p",{})," "]},o.toString()+b())})]})}function ot(t,i,a=l,n){if(i.length>0)return e.jsxs(y,{children:[e.jsx("b",{children:"Instances"}),e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:i.map(r=>e.jsx("li",{children:e.jsx(we,{parentEntity:t,linkedEntities:t.getLinkedEntities(),iri:r.getIri(),showBadges:a,onNavigates:n})},b()))}),e.jsx("p",{})]})]})}function xe(t){const{api:i,iri:a,ontologyId:n,hasTitle:r=He,showBadges:o,entityType:h,parameter:f,...D}=t,g={onNavigateToEntity:t.onNavigateToEntity,onNavigateToOntology:t.onNavigateToOntology,onNavigateToDisambiguate:t.onNavigateToDisambiguate},F=new Pe(i),{data:c,isLoading:Ie,isSuccess:_,isError:je}=C(["entityJson",i,a,n,h,f,o],async()=>F.getEntityObject(a,h,n,f,!1)),{data:L,isLoading:Ae,isSuccess:Oe}=C({queryKey:["instances",c],queryFn:async()=>c&&T(c)&&c.hasDirectChildren()?F.getClassInstances(c.getIri(),c.getOntologyId()):[],enabled:!!c});function ke(s,Ne){let m=[];return De(s)&&m.push(Ke(s,o,g),Ye(s,o,g),Ze(s,o,g)),(w(s)||T(s))&&m.push($e(s,o,g)),w(s)&&m.push(et(s,o,g),tt(s,o,g)),(w(s)||T(s))&&m.push(nt(s,o,g),it(s,o,g),at(s,o,g)),T(s)&&m.push(ot(s,Ne,o,g)),m=m.filter(Re=>Re!=null),m.length>0?e.jsx(P,{...D,children:m}):e.jsx(P,{...D,children:"No relations available."})}return e.jsx(e.Fragment,{children:e.jsxs(Me,{"data-testid":"entity-relations",title:r?(h?q(Fe(h)):_&&c?q(c.getType()):"")+" Relations":"",layout:"horizontal",children:[(Ie||Ae)&&e.jsx(Ue,{size:"s"}),je&&e.jsx(P,{children:"Requested resource not available"}),_&&Oe&&c!==void 0&&L!==void 0&&ke(c,L)]})})}u.__docgenInfo={description:`Builds and returns an array of section list elements specified at \`currentResponsePath\`
@param parentEntity
@param array
@param showBadges
@param onNavigates functions defining the action when clicking clickable items
@param onNavigates.onNavigateToEntity function defining the action when clicking on an entities name
@param onNavigates.onNavigateToOntology function defining the action when clicking on an ontology badge
@param onNavigates.onNavigateToDisambiguate function defining the action when clicking on a disambiguation badge`,methods:[],displayName:"getSectionListJSX",props:{properties:{required:!0,tsType:{name:"any"},description:""}}};xe.__docgenInfo={description:"",methods:[],displayName:"EntityRelationsWidget",props:{api:{required:!0,tsType:{name:"string"},description:"The API instance for the API call."},entityType:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof entityTypeNames)[number]"},description:"Sets the type of the entity whose information you want to fetch."},ontologyId:{required:!1,tsType:{name:"string"},description:"Select a specific ontology by id"},iri:{required:!0,tsType:{name:"string"},description:"Entity IRI whose information you want to fetch."},hasTitle:{required:!1,tsType:{name:"boolean"},description:"Show title, default is true"},showBadges:{required:!1,tsType:{name:"boolean"},description:"If true (default), entity badges linking to their defining ontologies are shown."},parameter:{required:!1,tsType:{name:"string"},description:""},onNavigateToEntity:{required:!1,tsType:{name:"union",raw:`| ((ontologyId: string, entityType?: string, entity?: EntityData) => void)
| string`,elements:[{name:"unknown"},{name:"string"}]},description:`This function is called every time an entity link is clicked
@param ontologyId obtains the ontologyId of the current ontology
@param entityType obtains the entityType of the clicked entity
@param entity.iri obtains the iri of the clicked entity
@param entity.label obtains the label of the clicked entity
@param entity.definedBy obtains the list of ontologies the clicked entity is defined in (only OLS)
@param entity.hasChildren obtains a boolean indicating whether the clicked entity has child entities
@param entity.numDescendants obtains the number of hierarchical descendants of the clicked entity (only OLS)
@param entity.parents obtains the list of parent entities of the clicked entity (only OLS, Skosmos)`},onNavigateToOntology:{required:!1,tsType:{name:"union",raw:`| ((ontologyId: string, entityType?: string, entity?: EntityData) => void)
| string`,elements:[{name:"unknown"},{name:"string"}]},description:`This function is called every time an entity link is clicked
@param ontologyId obtains the ontologyId of the clicked badge
@param entityType obtains the entityType of the clicked badge
@param entity.iri obtains the iri of the clicked badge (can be empty)
@param entity.label obtains the label of the clicked badge
@param entity.definedBy obtains the list of ontologies the clicked entity is defined in (only OLS)
@param entity.hasChildren obtains a boolean indicating whether the clicked entity has child entities
@param entity.numDescendants obtains the number of hierarchical descendants of the clicked entity (only OLS)
@param entity.parents obtains the list of parent entities of the clicked entity (only OLS, Skosmos)`},onNavigateToDisambiguate:{required:!1,tsType:{name:"union",raw:`| ((entityType: string, entity?: EntityData) => void)
| string`,elements:[{name:"unknown"},{name:"string"}]},description:`This function is called every time a disambiguation badge is clicked
@param entityType obtains the entityType of the clicked badge
@param entity.iri obtains the iri of the clicked badge (can be empty)
@param entity.label obtains the label of the clicked badge
@param entity.definedBy obtains the list of ontologies the clicked entity is defined in (only OLS)
@param entity.hasChildren obtains a boolean indicating whether the clicked entity has child entities
@param entity.numDescendants obtains the number of hierarchical descendants of the clicked entity (only OLS)
@param entity.parents obtains the list of parent entities of the clicked entity (only OLS, Skosmos)`}}};const{expect:rt,waitFor:st,within:lt}=__STORYBOOK_MODULE_TEST__,ct={...ze,...Ve,...Xe,...Je,...We,...qe,...Be,...Ce,...Le,..._e},dt={api:"https://semanticlookup.zbmed.de/api/",iri:"",ontologyId:"",entityType:"term",hasTitle:!0,showBadges:!0,parameter:"",onNavigateToEntity:"Console message",onNavigateToOntology:"Console message",onNavigateToDisambiguate:"Console message"},pt={api:d,entityType:"term",ontologyId:"agro",iri:"http://purl.obolibrary.org/obo/AGRO_00000002"},gt={api:d,entityType:"term",ontologyId:"go",iri:"http://purl.obolibrary.org/obo/BFO_0000004"},yt={api:d,entityType:"individual",ontologyId:"bco",iri:"http://purl.obolibrary.org/obo/IAO_0000120"},mt={api:d,entityType:"term",ontologyId:"go",iri:"http://purl.obolibrary.org/obo/GO_0048021"},ut={api:d,entityType:"term",ontologyId:"bfo",iri:"http://purl.obolibrary.org/obo/BFO_0000001"},ht={api:d,entityType:"property",ontologyId:"ro",iri:"http://purl.obolibrary.org/obo/RO_0000057"},ft={api:d,entityType:"property",ontologyId:"ro",iri:"http://purl.obolibrary.org/obo/RO_0002170"},bt={api:d,entityType:"term",ontologyId:"iao",iri:"http://purl.obolibrary.org/obo/IAO_0000078"},Tt={api:d,entityType:"term",ontologyId:"aism",iri:"http://purl.obolibrary.org/obo/UBERON_0000006"},Et={api:d,entityType:"term",ontologyId:"foodon",iri:"http://purl.obolibrary.org/obo/FOODON_00003382"},St={api:d,entityType:"individual",ontologyId:"bco",iri:"http://purl.obolibrary.org/obo/IAO_0000120",onNavigateToEntity:"Navigate to EBI page",onNavigateToOntology:"Navigate to EBI page",onNavigateToDisambiguate:"Navigate to EBI page"},p=async({canvasElement:t})=>{const i=lt(t);await st(async()=>{const a=i.getByTestId("entity-relations");await rt(a).toBeInTheDocument()},{timeout:3e3})},Kt={title:"Additional Entity Metadata/EntityRelationsWidget",component:xe,parameters:{layout:"centered",docs:{source:{transform:Ge},description:{component:Qe}}},argTypes:ct,args:dt},E={args:pt,play:p},S={args:gt,play:p},v={args:yt,play:p},x={args:mt,play:p},I={args:ut,play:p},j={args:ht,play:p},A={args:ft,play:p},O={args:bt,play:p},k={args:Tt,play:p},N={args:Et,play:p},R={args:St,play:p};var V,z,Q;E.parameters={...E.parameters,docs:{...(V=E.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: SubEntityOfArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(Q=(z=E.parameters)==null?void 0:z.docs)==null?void 0:Q.source}}};var G,M,U;S.parameters={...S.parameters,docs:{...(G=S.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: AllValuesFromArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(U=(M=S.parameters)==null?void 0:M.docs)==null?void 0:U.source}}};var H,K,Y;v.parameters={...v.parameters,docs:{...(H=v.parameters)==null?void 0:H.docs,source:{originalSource:`{
  args: DifferentFromArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(Y=(K=v.parameters)==null?void 0:K.docs)==null?void 0:Y.source}}};var Z,$,ee;x.parameters={...x.parameters,docs:{...(Z=x.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  args: EquivalentToArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(ee=($=x.parameters)==null?void 0:$.docs)==null?void 0:ee.source}}};var te,ne,ie;I.parameters={...I.parameters,docs:{...(te=I.parameters)==null?void 0:te.docs,source:{originalSource:`{
  args: SingleValueArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(ie=(ne=I.parameters)==null?void 0:ne.docs)==null?void 0:ie.source}}};var ae,oe,re;j.parameters={...j.parameters,docs:{...(ae=j.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  args: InverseOfArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(re=(oe=j.parameters)==null?void 0:oe.docs)==null?void 0:re.source}}};var se,le,ce;A.parameters={...A.parameters,docs:{...(se=A.parameters)==null?void 0:se.docs,source:{originalSource:`{
  args: PropertyChainArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(ce=(le=A.parameters)==null?void 0:le.docs)==null?void 0:ce.source}}};var de,pe,ge;O.parameters={...O.parameters,docs:{...(de=O.parameters)==null?void 0:de.docs,source:{originalSource:`{
  args: InstancesArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(ge=(pe=O.parameters)==null?void 0:pe.docs)==null?void 0:ge.source}}};var ye,me,ue;k.parameters={...k.parameters,docs:{...(ye=k.parameters)==null?void 0:ye.docs,source:{originalSource:`{
  args: AxiomsArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(ue=(me=k.parameters)==null?void 0:me.docs)==null?void 0:ue.source}}};var he,fe,be;N.parameters={...N.parameters,docs:{...(he=N.parameters)==null?void 0:he.docs,source:{originalSource:`{
  args: QualifiedCardinalityArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(be=(fe=N.parameters)==null?void 0:fe.docs)==null?void 0:be.source}}};var Te,Ee,Se;R.parameters={...R.parameters,docs:{...(Te=R.parameters)==null?void 0:Te.docs,source:{originalSource:`{
  args: NavigateToEBIPageArgs,
  play: commonEntityRelationsWidgetPlay
}`,...(Se=(Ee=R.parameters)==null?void 0:Ee.docs)==null?void 0:Se.source}}};const Yt=["SubEntityOf","AllValuesFrom","DifferentFrom","EquivalentTo","SingleValue","InverseOf","PropertyChain","Instances","Axioms","QualifiedCardinality","NavigateToEBIPage"];export{S as AllValuesFrom,k as Axioms,v as DifferentFrom,x as EquivalentTo,O as Instances,j as InverseOf,R as NavigateToEBIPage,A as PropertyChain,N as QualifiedCardinality,I as SingleValue,E as SubEntityOf,Yt as __namedExportsOrder,Kt as default};
